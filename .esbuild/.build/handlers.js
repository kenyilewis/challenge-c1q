var gx=Object.create;var jl=Object.defineProperty;var Ex=Object.getOwnPropertyDescriptor;var _x=Object.getOwnPropertyNames;var Ax=Object.getPrototypeOf,Ox=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Cx=(t,e)=>{for(var r in e)jl(t,r,{get:e[r],enumerable:!0})},T9=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of _x(e))!Ox.call(t,s)&&s!==r&&jl(t,s,{get:()=>e[s],enumerable:!(n=Ex(e,s))||n.enumerable});return t};var P9=(t,e,r)=>(r=t!=null?gx(Ax(t)):{},T9(e||!t||!t.__esModule?jl(r,"default",{value:t,enumerable:!0}):r,t)),Sx=t=>T9(jl({},"__esModule",{value:!0}),t);var Ul=y((lue,Lm)=>{"use strict";var M9=null;Lm.exports.get=function(){return M9};Lm.exports.set=function(t){M9=t}});var Fu=y((x9,v9)=>{"use strict";var Bs=v9.exports=x9=Object.create(null),F9="disconnected",I9="connected",$9="connecting",N9="disconnecting",R9="uninitialized";Bs[0]=F9;Bs[1]=I9;Bs[2]=$9;Bs[3]=N9;Bs[99]=R9;Bs[F9]=0;Bs[I9]=1;Bs[$9]=2;Bs[N9]=3;Bs[R9]=99});var on=y((fue,k9)=>{"use strict";var wx=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):t=>setTimeout(t,0);k9.exports=function(e){return wx(e)}});var j9=y((hue,L9)=>{"use strict";var bx=require("events").EventEmitter,Dx=Fu(),q9=on();function je(t,e,r){r===void 0&&(r={}),this.opts=r,this.name=t,this.collectionName=t,this.conn=e,this.queue=[],this.buffer=!0,this.emitter=new bx,Dx.connected===this.conn.readyState&&this.onOpen()}je.prototype.name;je.prototype.collectionName;je.prototype.conn;je.prototype.onOpen=function(){this.buffer=!1,q9(()=>this.doQueue())};je.prototype.onClose=function(){};je.prototype.addQueue=function(t,e){return this.queue.push([t,e]),this};je.prototype.removeQueue=function(t,e){let r=this.queue.findIndex(n=>n[0]===t&&n[1]===e);return r===-1?!1:(this.queue.splice(r,1),!0)};je.prototype.doQueue=function(){for(let e of this.queue)typeof e[0]=="function"?e[0].apply(this,e[1]):this[e[0]].apply(this,e[1]);this.queue=[];let t=this;return q9(function(){t.emitter.emit("queue")}),this};je.prototype.ensureIndex=function(){throw new Error("Collection#ensureIndex unimplemented by driver")};je.prototype.createIndex=function(){throw new Error("Collection#createIndex unimplemented by driver")};je.prototype.findAndModify=function(){throw new Error("Collection#findAndModify unimplemented by driver")};je.prototype.findOneAndUpdate=function(){throw new Error("Collection#findOneAndUpdate unimplemented by driver")};je.prototype.findOneAndDelete=function(){throw new Error("Collection#findOneAndDelete unimplemented by driver")};je.prototype.findOneAndReplace=function(){throw new Error("Collection#findOneAndReplace unimplemented by driver")};je.prototype.findOne=function(){throw new Error("Collection#findOne unimplemented by driver")};je.prototype.find=function(){throw new Error("Collection#find unimplemented by driver")};je.prototype.insert=function(){throw new Error("Collection#insert unimplemented by driver")};je.prototype.insertOne=function(){throw new Error("Collection#insertOne unimplemented by driver")};je.prototype.insertMany=function(){throw new Error("Collection#insertMany unimplemented by driver")};je.prototype.save=function(){throw new Error("Collection#save unimplemented by driver")};je.prototype.updateOne=function(){throw new Error("Collection#updateOne unimplemented by driver")};je.prototype.updateMany=function(){throw new Error("Collection#updateMany unimplemented by driver")};je.prototype.deleteOne=function(){throw new Error("Collection#deleteOne unimplemented by driver")};je.prototype.deleteMany=function(){throw new Error("Collection#deleteMany unimplemented by driver")};je.prototype.getIndexes=function(){throw new Error("Collection#getIndexes unimplemented by driver")};je.prototype.watch=function(){throw new Error("Collection#watch unimplemented by driver")};je.prototype._shouldBufferCommands=function(){let e=this.opts;return e.bufferCommands!=null?e.bufferCommands:e&&e.schemaUserProvidedOptions!=null&&e.schemaUserProvidedOptions.bufferCommands!=null?e.schemaUserProvidedOptions.bufferCommands:this.conn._shouldBufferCommands()};je.prototype._getBufferTimeoutMS=function(){let e=this.conn,r=this.opts;return r.bufferTimeoutMS!=null?r.bufferTimeoutMS:r&&r.schemaUserProvidedOptions!=null&&r.schemaUserProvidedOptions.bufferTimeoutMS!=null?r.schemaUserProvidedOptions.bufferTimeoutMS:e.config.bufferTimeoutMS!=null?e.config.bufferTimeoutMS:e.base!=null&&e.base.get("bufferTimeoutMS")!=null?e.base.get("bufferTimeoutMS"):1e4};L9.exports=je});var st=y((due,U9)=>{"use strict";var Vl=class extends Error{};Object.defineProperty(Vl.prototype,"name",{value:"MongooseError"});U9.exports=Vl});var Q=y(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.isResumableError=M.isNetworkTimeoutError=M.isSDAMUnrecoverableError=M.isNodeShuttingDownError=M.isRetryableReadError=M.isRetryableWriteError=M.needsRetryableWriteLabel=M.MongoWriteConcernError=M.MongoServerSelectionError=M.MongoSystemError=M.MongoMissingDependencyError=M.MongoMissingCredentialsError=M.MongoCompatibilityError=M.MongoInvalidArgumentError=M.MongoParseError=M.MongoNetworkTimeoutError=M.MongoNetworkError=M.isNetworkErrorBeforeHandshake=M.MongoTopologyClosedError=M.MongoCursorExhaustedError=M.MongoServerClosedError=M.MongoCursorInUseError=M.MongoUnexpectedServerResponseError=M.MongoGridFSChunkError=M.MongoGridFSStreamError=M.MongoTailableCursorError=M.MongoChangeStreamError=M.MongoAzureError=M.MongoAWSError=M.MongoKerberosError=M.MongoExpiredSessionError=M.MongoTransactionError=M.MongoNotConnectedError=M.MongoDecompressionError=M.MongoBatchReExecutionError=M.MongoRuntimeError=M.MongoAPIError=M.MongoDriverError=M.MongoServerError=M.MongoError=M.MongoErrorLabel=M.GET_MORE_RESUMABLE_CODES=M.MONGODB_ERROR_CODES=M.NODE_IS_RECOVERING_ERROR_MESSAGE=M.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=M.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0;var Vc=Symbol("errorLabels");M.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i");M.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i");M.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i");M.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernFailed:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100,Reauthenticate:391});M.GET_MORE_RESUMABLE_CODES=new Set([M.MONGODB_ERROR_CODES.HostUnreachable,M.MONGODB_ERROR_CODES.HostNotFound,M.MONGODB_ERROR_CODES.NetworkTimeout,M.MONGODB_ERROR_CODES.ShutdownInProgress,M.MONGODB_ERROR_CODES.PrimarySteppedDown,M.MONGODB_ERROR_CODES.ExceededTimeLimit,M.MONGODB_ERROR_CODES.SocketException,M.MONGODB_ERROR_CODES.NotWritablePrimary,M.MONGODB_ERROR_CODES.InterruptedAtShutdown,M.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,M.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,M.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,M.MONGODB_ERROR_CODES.StaleShardVersion,M.MONGODB_ERROR_CODES.StaleEpoch,M.MONGODB_ERROR_CODES.StaleConfig,M.MONGODB_ERROR_CODES.RetryChangeStream,M.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,M.MONGODB_ERROR_CODES.CursorNotFound]);M.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});function Bx(t){return"errors"in t&&Array.isArray(t.errors)}var Ts=class t extends Error{constructor(e){super(t.buildErrorMessage(e)),e instanceof Error&&(this.cause=e),this[Vc]=new Set}static buildErrorMessage(e){return typeof e=="string"?e:Bx(e)&&e.message.length===0?e.errors.length===0?"AggregateError has an empty errors array. Please check the `cause` property for more information.":e.errors.map(({message:r})=>r).join(", "):e.message}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(e){return this[Vc].has(e)}addErrorLabel(e){this[Vc].add(e)}get errorLabels(){return Array.from(this[Vc])}};M.MongoError=Ts;var Wl=class extends Ts{constructor(e){super(e.message||e.errmsg||e.$err||"n/a"),e.errorLabels&&(this[Vc]=new Set(e.errorLabels));for(let r in e)r!=="errorLabels"&&r!=="errmsg"&&r!=="message"&&(this[r]=e[r])}get name(){return"MongoServerError"}};M.MongoServerError=Wl;var Iu=class extends Ts{constructor(e){super(e)}get name(){return"MongoDriverError"}};M.MongoDriverError=Iu;var pr=class extends Iu{constructor(e){super(e)}get name(){return"MongoAPIError"}};M.MongoAPIError=pr;var Kn=class extends Iu{constructor(e){super(e)}get name(){return"MongoRuntimeError"}};M.MongoRuntimeError=Kn;var jm=class extends pr{constructor(e="This batch has already been executed, create new batch to execute"){super(e)}get name(){return"MongoBatchReExecutionError"}};M.MongoBatchReExecutionError=jm;var Um=class extends Kn{constructor(e){super(e)}get name(){return"MongoDecompressionError"}};M.MongoDecompressionError=Um;var Vm=class extends pr{constructor(e){super(e)}get name(){return"MongoNotConnectedError"}};M.MongoNotConnectedError=Vm;var Wm=class extends pr{constructor(e){super(e)}get name(){return"MongoTransactionError"}};M.MongoTransactionError=Wm;var zm=class extends pr{constructor(e="Cannot use a session that has ended"){super(e)}get name(){return"MongoExpiredSessionError"}};M.MongoExpiredSessionError=zm;var Hm=class extends Kn{constructor(e){super(e)}get name(){return"MongoKerberosError"}};M.MongoKerberosError=Hm;var Gm=class extends Kn{constructor(e){super(e)}get name(){return"MongoAWSError"}};M.MongoAWSError=Gm;var Km=class extends Kn{constructor(e){super(e)}get name(){return"MongoAzureError"}};M.MongoAzureError=Km;var Ym=class extends Kn{constructor(e){super(e)}get name(){return"MongoChangeStreamError"}};M.MongoChangeStreamError=Ym;var Qm=class extends pr{constructor(e="Tailable cursor does not support this operation"){super(e)}get name(){return"MongoTailableCursorError"}};M.MongoTailableCursorError=Qm;var Jm=class extends Kn{constructor(e){super(e)}get name(){return"MongoGridFSStreamError"}};M.MongoGridFSStreamError=Jm;var Xm=class extends Kn{constructor(e){super(e)}get name(){return"MongoGridFSChunkError"}};M.MongoGridFSChunkError=Xm;var Zm=class extends Kn{constructor(e){super(e)}get name(){return"MongoUnexpectedServerResponseError"}};M.MongoUnexpectedServerResponseError=Zm;var e2=class extends pr{constructor(e="Cursor is already initialized"){super(e)}get name(){return"MongoCursorInUseError"}};M.MongoCursorInUseError=e2;var t2=class extends pr{constructor(e="Server is closed"){super(e)}get name(){return"MongoServerClosedError"}};M.MongoServerClosedError=t2;var r2=class extends pr{constructor(e){super(e||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}};M.MongoCursorExhaustedError=r2;var n2=class extends pr{constructor(e="Topology is closed"){super(e)}get name(){return"MongoTopologyClosedError"}};M.MongoTopologyClosedError=n2;var W9=Symbol("beforeHandshake");function Tx(t){return t[W9]===!0}M.isNetworkErrorBeforeHandshake=Tx;var xi=class extends Ts{constructor(e,r){super(e),r&&typeof r.beforeHandshake=="boolean"&&(this[W9]=r.beforeHandshake)}get name(){return"MongoNetworkError"}};M.MongoNetworkError=xi;var s2=class extends xi{constructor(e,r){super(e,r)}get name(){return"MongoNetworkTimeoutError"}};M.MongoNetworkTimeoutError=s2;var zl=class extends Iu{constructor(e){super(e)}get name(){return"MongoParseError"}};M.MongoParseError=zl;var i2=class extends pr{constructor(e){super(e)}get name(){return"MongoInvalidArgumentError"}};M.MongoInvalidArgumentError=i2;var o2=class extends pr{constructor(e){super(e)}get name(){return"MongoCompatibilityError"}};M.MongoCompatibilityError=o2;var u2=class extends pr{constructor(e){super(e)}get name(){return"MongoMissingCredentialsError"}};M.MongoMissingCredentialsError=u2;var a2=class extends pr{constructor(e,{cause:r}={}){super(e),r&&(this.cause=r)}get name(){return"MongoMissingDependencyError"}};M.MongoMissingDependencyError=a2;var Hl=class extends Ts{constructor(e,r){r&&r.error?super(r.error.message||r.error):super(e),r&&(this.reason=r),this.code=r.error?.code}get name(){return"MongoSystemError"}};M.MongoSystemError=Hl;var c2=class extends Hl{constructor(e,r){super(e,r)}get name(){return"MongoServerSelectionError"}};M.MongoServerSelectionError=c2;function Px(t){let e=Object.assign({},t);return e.ok===0&&(e.ok=1,delete e.errmsg,delete e.code,delete e.codeName),e}var Gl=class extends Wl{constructor(e,r){r&&Array.isArray(r.errorLabels)&&(e.errorLabels=r.errorLabels),super(e),this.errInfo=e.errInfo,r!=null&&(this.result=Px(r))}get name(){return"MongoWriteConcernError"}};M.MongoWriteConcernError=Gl;var z9=new Set([M.MONGODB_ERROR_CODES.HostUnreachable,M.MONGODB_ERROR_CODES.HostNotFound,M.MONGODB_ERROR_CODES.NetworkTimeout,M.MONGODB_ERROR_CODES.ShutdownInProgress,M.MONGODB_ERROR_CODES.PrimarySteppedDown,M.MONGODB_ERROR_CODES.SocketException,M.MONGODB_ERROR_CODES.NotWritablePrimary,M.MONGODB_ERROR_CODES.InterruptedAtShutdown,M.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,M.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,M.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),V9=new Set([...z9,M.MONGODB_ERROR_CODES.ExceededTimeLimit]);function Mx(t,e){return t instanceof xi?!0:t instanceof Ts&&(e>=9||t.hasErrorLabel(M.MongoErrorLabel.RetryableWriteError))&&!t.hasErrorLabel(M.MongoErrorLabel.HandshakeError)?!1:t instanceof Gl?V9.has(t.result?.code??t.code??0):t instanceof Ts&&typeof t.code=="number"?V9.has(t.code):!!(M.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)||M.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message))}M.needsRetryableWriteLabel=Mx;function Fx(t){return t.hasErrorLabel(M.MongoErrorLabel.RetryableWriteError)}M.isRetryableWriteError=Fx;function Ix(t){return!!((typeof t.code=="number"?z9.has(t.code):!1)||t instanceof xi||M.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)||M.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message))}M.isRetryableReadError=Ix;var $x=new Set([M.MONGODB_ERROR_CODES.ShutdownInProgress,M.MONGODB_ERROR_CODES.PrimarySteppedDown,M.MONGODB_ERROR_CODES.InterruptedAtShutdown,M.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,M.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),Nx=new Set([M.MONGODB_ERROR_CODES.NotWritablePrimary,M.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,M.MONGODB_ERROR_CODES.LegacyNotPrimary]),Rx=new Set([M.MONGODB_ERROR_CODES.InterruptedAtShutdown,M.MONGODB_ERROR_CODES.ShutdownInProgress]);function H9(t){return typeof t.code=="number"?$x.has(t.code):M.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(t.message)||M.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message)}function xx(t){return typeof t.code=="number"?Nx.has(t.code):H9(t)?!1:M.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)}function vx(t){return!!(typeof t.code=="number"&&Rx.has(t.code))}M.isNodeShuttingDownError=vx;function kx(t){return t instanceof zl||t==null?!0:H9(t)||xx(t)}M.isSDAMUnrecoverableError=kx;function qx(t){return!!(t instanceof xi&&t.message.match(/timed out/))}M.isNetworkTimeoutError=qx;function Lx(t,e){return t==null||!(t instanceof Ts)?!1:t instanceof xi?!0:e!=null&&e>=9?t.code===M.MONGODB_ERROR_CODES.CursorNotFound?!0:t.hasErrorLabel(M.MongoErrorLabel.ResumableChangeStreamError):typeof t.code=="number"?M.GET_MORE_RESUMABLE_CODES.has(t.code):!1}M.isResumableError=Lx});var wn=y(We=>{"use strict";function u8(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function ki(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function Nu(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function a8(t){return Object.prototype.toString.call(t)==="[object Map]"}function Ru(t){return Object.prototype.toString.call(t)==="[object Date]"}var Mo=5,rf=2147483647,nf=-2147483648,c8=Math.pow(2,63)-1,l8=-Math.pow(2,63),f8=Math.pow(2,53),h8=-Math.pow(2,53),Jl=1,d8=2,I2=3,p8=4,$2=5,jx=6,m8=7,y8=8,g8=9,N2=10,Xl=11,Ux=12,R2=13,E8=14,_8=15,vu=16,A8=17,x2=18,O8=19,C8=255,S8=127,Vx=0,Zl=4,w8=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127}),k=class extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(e){super(e)}static isBSONError(e){return e!=null&&typeof e=="object"&&"bsonError"in e&&e.bsonError===!0&&"name"in e&&"message"in e&&"stack"in e}},Xs=class extends k{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${Mo}.x.x`)}},Lu=class extends k{get name(){return"BSONRuntimeError"}constructor(e){super(e)}};function Wx(t){return vi.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}var zx=(()=>{try{return require("crypto").randomBytes}catch{return Wx}})(),vi={toLocalBufferType(t){if(Buffer.isBuffer(t))return t;if(ArrayBuffer.isView(t))return Buffer.from(t.buffer,t.byteOffset,t.byteLength);let e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return Buffer.from(t);throw new k(`Cannot create Buffer from ${String(t)}`)},allocate(t){return Buffer.alloc(t)},equals(t,e){return vi.toLocalBufferType(t).equals(e)},fromNumberArray(t){return Buffer.from(t)},fromBase64(t){return Buffer.from(t,"base64")},toBase64(t){return vi.toLocalBufferType(t).toString("base64")},fromISO88591(t){return Buffer.from(t,"binary")},toISO88591(t){return vi.toLocalBufferType(t).toString("binary")},fromHex(t){return Buffer.from(t,"hex")},toHex(t){return vi.toLocalBufferType(t).toString("hex")},fromUTF8(t){return Buffer.from(t,"utf8")},toUTF8(t,e,r){return vi.toLocalBufferType(t).toString("utf8",e,r)},utf8ByteLength(t){return Buffer.byteLength(t,"utf8")},encodeUTF8Into(t,e,r){return vi.toLocalBufferType(t).write(e,r,void 0,"utf8")},randomBytes:zx};function Hx(){let{navigator:t}=globalThis;return typeof t=="object"&&t.product==="ReactNative"}function Gx(t){if(t<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${t}`);return ku.fromNumberArray(Array.from({length:t},()=>Math.floor(Math.random()*256)))}var Kx=(()=>{let{crypto:t}=globalThis;if(t!=null&&typeof t.getRandomValues=="function")return e=>t.getRandomValues(ku.allocate(e));if(Hx()){let{console:e}=globalThis;e?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return Gx})(),G9=/(\d|[a-f])/i,ku={toLocalBufferType(t){let e=t?.[Symbol.toStringTag]??Object.prototype.toString.call(t);if(e==="Uint8Array")return t;if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));if(e==="ArrayBuffer"||e==="SharedArrayBuffer"||e==="[object ArrayBuffer]"||e==="[object SharedArrayBuffer]")return new Uint8Array(t);throw new k(`Cannot make a Uint8Array from ${String(t)}`)},allocate(t){if(typeof t!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(t)}`);return new Uint8Array(t)},equals(t,e){if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},fromNumberArray(t){return Uint8Array.from(t)},fromBase64(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))},toBase64(t){return btoa(ku.toISO88591(t))},fromISO88591(t){return Uint8Array.from(t,e=>e.charCodeAt(0)&255)},toISO88591(t){return Array.from(Uint16Array.from(t),e=>String.fromCharCode(e)).join("")},fromHex(t){let e=t.length%2===0?t:t.slice(0,t.length-1),r=[];for(let n=0;n<e.length;n+=2){let s=e[n],i=e[n+1];if(!G9.test(s)||!G9.test(i))break;let o=Number.parseInt(`${s}${i}`,16);r.push(o)}return Uint8Array.from(r)},toHex(t){return Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")},fromUTF8(t){return new TextEncoder().encode(t)},toUTF8(t,e,r){return new TextDecoder("utf8",{fatal:!1}).decode(t.slice(e,r))},utf8ByteLength(t){return ku.fromUTF8(t).byteLength},encodeUTF8Into(t,e,r){let n=ku.fromUTF8(e);return t.set(n,r),n.byteLength},randomBytes:Kx},Yx=typeof Buffer=="function"&&Buffer.prototype?._isBuffer!==!0,I=Yx?vi:ku,qu=class extends DataView{static fromUint8Array(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}},mr=class{get[Symbol.for("@@mdb.bson.version")](){return Mo}},Ve=class t extends mr{get _bsontype(){return"Binary"}constructor(e,r){if(super(),e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new k("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=I.allocate(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=I.fromISO88591(e):Array.isArray(e)?this.buffer=I.fromNumberArray(e):this.buffer=I.toLocalBufferType(e),this.position=this.buffer.byteLength)}put(e){if(typeof e=="string"&&e.length!==1)throw new k("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new k("only accepts single character Uint8Array or Array");let r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new k("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=r;else{let n=I.allocate(t.BUFFER_SIZE+this.buffer.length);n.set(this.buffer,0),this.buffer=n,this.buffer[this.position++]=r}}write(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.byteLength<r+e.length){let n=I.allocate(this.buffer.byteLength+e.length);n.set(this.buffer,0),this.buffer=n}if(ArrayBuffer.isView(e))this.buffer.set(I.toLocalBufferType(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position;else if(typeof e=="string"){let n=I.fromISO88591(e);this.buffer.set(n,r),this.position=r+e.length>this.position?r+e.length:this.position}}read(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)}value(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):I.toISO88591(this.buffer.subarray(0,this.position))}length(){return this.position}toJSON(){return I.toBase64(this.buffer)}toString(e){return e==="hex"?I.toHex(this.buffer):e==="base64"?I.toBase64(this.buffer):e==="utf8"||e==="utf-8"?I.toUTF8(this.buffer,0,this.buffer.byteLength):I.toUTF8(this.buffer,0,this.buffer.byteLength)}toExtendedJSON(e){e=e||{};let r=I.toBase64(this.buffer),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}}toUUID(){if(this.sub_type===t.SUBTYPE_UUID)return new Ms(this.buffer.slice(0,this.position));throw new k(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${t.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(e,r){return new t(I.fromHex(e),r)}static createFromBase64(e,r){return new t(I.fromBase64(e),r)}static fromExtendedJSON(e,r){r=r||{};let n,s;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(s=e.$type?parseInt(e.$type,16):0,n=I.fromBase64(e.$binary)):typeof e.$binary!="string"&&(s=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=I.fromBase64(e.$binary.base64)):"$uuid"in e&&(s=4,n=Ms.bytesFromString(e.$uuid)),!n)throw new k(`Unexpected Binary Extended JSON format ${JSON.stringify(e)}`);return s===Zl?new Ms(n):new t(n,s)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`Binary.createFromBase64("${I.toBase64(this.buffer.subarray(0,this.position))}", ${this.sub_type})`}};Ve.BSON_BINARY_SUBTYPE_DEFAULT=0;Ve.BUFFER_SIZE=256;Ve.SUBTYPE_DEFAULT=0;Ve.SUBTYPE_FUNCTION=1;Ve.SUBTYPE_BYTE_ARRAY=2;Ve.SUBTYPE_UUID_OLD=3;Ve.SUBTYPE_UUID=4;Ve.SUBTYPE_MD5=5;Ve.SUBTYPE_ENCRYPTED=6;Ve.SUBTYPE_COLUMN=7;Ve.SUBTYPE_USER_DEFINED=128;var l2=16,Qx=/^[0-9A-F]{32}$/i,Jx=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,Ms=class t extends Ve{constructor(e){let r;if(e==null)r=t.generate();else if(e instanceof t)r=I.toLocalBufferType(new Uint8Array(e.buffer));else if(ArrayBuffer.isView(e)&&e.byteLength===l2)r=I.toLocalBufferType(e);else if(typeof e=="string")r=t.bytesFromString(e);else throw new k("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(r,Zl)}get id(){return this.buffer}set id(e){this.buffer=e}toHexString(e=!0){return e?[I.toHex(this.buffer.subarray(0,4)),I.toHex(this.buffer.subarray(4,6)),I.toHex(this.buffer.subarray(6,8)),I.toHex(this.buffer.subarray(8,10)),I.toHex(this.buffer.subarray(10,16))].join("-"):I.toHex(this.buffer)}toString(e){return e==="hex"?I.toHex(this.id):e==="base64"?I.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(!e)return!1;if(e instanceof t)return I.equals(e.id,this.id);try{return I.equals(new t(e).id,this.id)}catch{return!1}}toBinary(){return new Ve(this.id,Ve.SUBTYPE_UUID)}static generate(){let e=I.randomBytes(l2);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e}static isValid(e){return e?typeof e=="string"?t.isValidUUIDString(e):ki(e)?e.byteLength===l2:e._bsontype==="Binary"&&e.sub_type===this.SUBTYPE_UUID&&e.buffer.byteLength===16:!1}static createFromHexString(e){let r=t.bytesFromString(e);return new t(r)}static createFromBase64(e){return new t(I.fromBase64(e))}static bytesFromString(e){if(!t.isValidUUIDString(e))throw new k("UUID string representation must be 32 hex digits or canonical hyphenated representation");return I.fromHex(e.replace(/-/g,""))}static isValidUUIDString(e){return Qx.test(e)||Jx.test(e)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new UUID("${this.toHexString()}")`}};Ms.cacheHexString=!1;var Zs=class t extends mr{get _bsontype(){return"Code"}constructor(e,r){super(),this.code=e.toString(),this.scope=r??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(e){return new t(e.$code,e.$scope)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){let e=this.toJSON();return`new Code("${String(e.code)}"${e.scope!=null?`, ${JSON.stringify(e.scope)}`:""})`}};function b8(t){return t!=null&&typeof t=="object"&&"$id"in t&&t.$id!=null&&"$ref"in t&&typeof t.$ref=="string"&&(!("$db"in t)||"$db"in t&&typeof t.$db=="string")}var Fs=class t extends mr{get _bsontype(){return"DBRef"}constructor(e,r,n,s){super();let i=e.split(".");i.length===2&&(n=i.shift(),e=i.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=s||{}}get namespace(){return this.collection}set namespace(e){this.collection=e}toJSON(){let e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e}toExtendedJSON(e){e=e||{};let r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r}static fromExtendedJSON(e){let r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){let e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return`new DBRef("${this.namespace}", new ObjectId("${String(e)}")${this.db?`, "${this.db}"`:""})`}},Sn;try{Sn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var K9=65536,Xx=1<<24,xu=K9*K9,D8=xu*xu,Y9=D8/2,Q9={},J9={},Zx=20,ev=/^(\+?0|(\+|-)?[1-9][0-9]*)$/,Y=class t extends mr{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(e=0,r,n){super(),typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n)}static fromBits(e,r,n){return new t(e,r,n)}static fromInt(e,r){let n,s,i;return r?(e>>>=0,(i=0<=e&&e<256)&&(s=J9[e],s)?s:(n=t.fromBits(e,(e|0)<0?-1:0,!0),i&&(J9[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(s=Q9[e],s)?s:(n=t.fromBits(e,e<0?-1:0,!1),i&&(Q9[e]=n),n))}static fromNumber(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=D8)return t.MAX_UNSIGNED_VALUE}else{if(e<=-Y9)return t.MIN_VALUE;if(e+1>=Y9)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%xu|0,e/xu|0,r)}static fromBigInt(e,r){return t.fromString(e.toString(),r)}static fromString(e,r,n){if(e.length===0)throw new k("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw new k("radix");let s;if((s=e.indexOf("-"))>0)throw new k("interior hyphen");if(s===0)return t.fromString(e.substring(1),r,n).neg();let i=t.fromNumber(Math.pow(n,8)),o=t.ZERO;for(let u=0;u<e.length;u+=8){let a=Math.min(8,e.length-u),c=parseInt(e.substring(u,u+a),n);if(a<8){let l=t.fromNumber(Math.pow(n,a));o=o.mul(l).add(t.fromNumber(c))}else o=o.mul(i),o=o.add(t.fromNumber(c))}return o.unsigned=r,o}static fromBytes(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)}static fromBytesLE(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)}static fromBytesBE(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)}static isLong(e){return e!=null&&typeof e=="object"&&"__isLong__"in e&&e.__isLong__===!0}static fromValue(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)}add(e){t.isLong(e)||(e=t.fromValue(e));let r=this.high>>>16,n=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,u=e.high&65535,a=e.low>>>16,c=e.low&65535,l=0,f=0,h=0,d=0;return d+=i+c,h+=d>>>16,d&=65535,h+=s+a,f+=h>>>16,h&=65535,f+=n+u,l+=f>>>16,f&=65535,l+=r+o,l&=65535,t.fromBits(h<<16|d,l<<16|f,this.unsigned)}and(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)}compare(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;let r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1}comp(e){return this.compare(e)}divide(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw new k("division by zero");if(Sn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;let i=(this.unsigned?Sn.div_u:Sn.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(i,Sn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;let r,n,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;s=t.UZERO}else{if(this.eq(t.MIN_VALUE))return e.eq(t.ONE)||e.eq(t.NEG_ONE)?t.MIN_VALUE:e.eq(t.MIN_VALUE)?t.ONE:(r=this.shr(1).div(e).shl(1),r.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(n=this.sub(e.mul(r)),s=r.add(n.div(e)),s));if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=t.ZERO}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));let i=Math.ceil(Math.log(r)/Math.LN2),o=i<=48?1:Math.pow(2,i-48),u=t.fromNumber(r),a=u.mul(e);for(;a.isNegative()||a.gt(n);)r-=o,u=t.fromNumber(r,this.unsigned),a=u.mul(e);u.isZero()&&(u=t.ONE),s=s.add(u),n=n.sub(a)}return s}div(e){return this.divide(e)}equals(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low}eq(e){return this.equals(e)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();let e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&!(e&1<<r);r--);return this.high!==0?r+33:r+1}greaterThan(e){return this.comp(e)>0}gt(e){return this.greaterThan(e)}greaterThanOrEqual(e){return this.comp(e)>=0}gte(e){return this.greaterThanOrEqual(e)}ge(e){return this.greaterThanOrEqual(e)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(e){return this.comp(e)<0}lt(e){return this.lessThan(e)}lessThanOrEqual(e){return this.comp(e)<=0}lte(e){return this.lessThanOrEqual(e)}modulo(e){if(t.isLong(e)||(e=t.fromValue(e)),Sn){let r=(this.unsigned?Sn.rem_u:Sn.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,Sn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))}mod(e){return this.modulo(e)}rem(e){return this.modulo(e)}multiply(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),Sn){let p=Sn.mul(this.low,this.high,e.low,e.high);return t.fromBits(p,Sn.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);let r=this.high>>>16,n=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,u=e.high&65535,a=e.low>>>16,c=e.low&65535,l=0,f=0,h=0,d=0;return d+=i*c,h+=d>>>16,d&=65535,h+=s*c,f+=h>>>16,h&=65535,h+=i*a,f+=h>>>16,h&=65535,f+=n*c,l+=f>>>16,f&=65535,f+=s*a,l+=f>>>16,f&=65535,f+=i*u,l+=f>>>16,f&=65535,l+=r*c+n*a+s*u+i*o,l&=65535,t.fromBits(h<<16|d,l<<16|f,this.unsigned)}mul(e){return this.multiply(e)}negate(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)}neg(){return this.negate()}not(){return t.fromBits(~this.low,~this.high,this.unsigned)}notEquals(e){return!this.equals(e)}neq(e){return this.notEquals(e)}ne(e){return this.notEquals(e)}or(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)}shiftLeft(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)}shl(e){return this.shiftLeft(e)}shiftRight(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)}shr(e){return this.shiftRight(e)}shiftRightUnsigned(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;{let r=this.high;if(e<32){let n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)}}shr_u(e){return this.shiftRightUnsigned(e)}shru(e){return this.shiftRightUnsigned(e)}subtract(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())}sub(e){return this.subtract(e)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*xu+(this.low>>>0):this.high*xu+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(e){return e?this.toBytesLE():this.toBytesBE()}toBytesLE(){let e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]}toBytesBE(){let e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]}toSigned(){return this.unsigned?t.fromBits(this.low,this.high,!1):this}toString(e){if(e=e||10,e<2||36<e)throw new k("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){let i=t.fromNumber(e),o=this.div(i),u=o.mul(i).sub(this);return o.toString(e)+u.toInt().toString(e)}else return"-"+this.neg().toString(e);let r=t.fromNumber(Math.pow(e,6),this.unsigned),n=this,s="";for(;;){let i=n.div(r),u=(n.sub(i.mul(r)).toInt()>>>0).toString(e);if(n=i,n.isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}}toUnsigned(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)}xor(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)}eqz(){return this.isZero()}le(e){return this.lessThanOrEqual(e)}toExtendedJSON(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(e,r){let{useBigInt64:n=!1,relaxed:s=!0}={...r};if(e.$numberLong.length>Zx)throw new k("$numberLong string is too long");if(!ev.test(e.$numberLong))throw new k(`$numberLong string "${e.$numberLong}" is in an invalid format`);if(n){let o=BigInt(e.$numberLong);return BigInt.asIntN(64,o)}let i=t.fromString(e.$numberLong);return s?i.toNumber():i}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Long("${this.toString()}"${this.unsigned?", true":""})`}};Y.TWO_PWR_24=Y.fromInt(Xx);Y.MAX_UNSIGNED_VALUE=Y.fromBits(-1,-1,!0);Y.ZERO=Y.fromInt(0);Y.UZERO=Y.fromInt(0,!0);Y.ONE=Y.fromInt(1);Y.UONE=Y.fromInt(1,!0);Y.NEG_ONE=Y.fromInt(-1);Y.MAX_VALUE=Y.fromBits(-1,2147483647,!1);Y.MIN_VALUE=Y.fromBits(0,-2147483648,!1);var tv=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,rv=/^(\+|-)?(Infinity|inf)$/i,nv=/^(\+|-)?NaN$/i,$u=6111,Wc=-6176,X9=6176,Z9=34,f2=I.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),e8=I.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),t8=I.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),sv=/^([-+])?(\d+)?$/,iv=31,r8=16383,ov=30,uv=31;function n8(t){return!isNaN(parseInt(t,10))}function av(t){let e=Y.fromNumber(1e9),r=Y.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(let n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new Y(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function cv(t,e){if(!t&&!e)return{high:Y.fromNumber(0),low:Y.fromNumber(0)};let r=t.shiftRightUnsigned(32),n=new Y(t.getLowBits(),0),s=e.shiftRightUnsigned(32),i=new Y(e.getLowBits(),0),o=r.multiply(s),u=r.multiply(i),a=n.multiply(s),c=n.multiply(i);return o=o.add(u.shiftRightUnsigned(32)),u=new Y(u.getLowBits(),0).add(a).add(c.shiftRightUnsigned(32)),o=o.add(u.shiftRightUnsigned(32)),c=u.shiftLeft(32).add(new Y(c.getLowBits(),0)),{high:o,low:c}}function lv(t,e){let r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){let s=t.low>>>0,i=e.low>>>0;if(s<i)return!0}return!1}function Yn(t,e){throw new k(`"${t}" is not a valid Decimal128 string - ${e}`)}var Fo=class t extends mr{get _bsontype(){return"Decimal128"}constructor(e){if(super(),typeof e=="string")this.bytes=t.fromString(e).bytes;else if(ki(e)){if(e.byteLength!==16)throw new k("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new k("Decimal128 must take a Buffer or string")}static fromString(e){return t._fromString(e,{allowRounding:!1})}static fromStringWithRounding(e){return t._fromString(e,{allowRounding:!0})}static _fromString(e,r){let n=!1,s=!1,i=!1,o=!1,u=0,a=0,c=0,l=0,f=0,h=[0],d=0,p=0,m=0,g=0,_=new Y(0,0),E=new Y(0,0),A=0,C=0;if(e.length>=7e3)throw new k(""+e+" not a valid Decimal128 string");let T=e.match(tv),L=e.match(rv),F=e.match(nv);if(!T&&!L&&!F||e.length===0)throw new k(""+e+" not a valid Decimal128 string");if(T){let $=T[2],D=T[4],j=T[5],U=T[6];D&&U===void 0&&Yn(e,"missing exponent power"),D&&$===void 0&&Yn(e,"missing exponent base"),D===void 0&&(j||U)&&Yn(e,"missing e before exponent")}if((e[C]==="+"||e[C]==="-")&&(s=!0,n=e[C++]==="-"),!n8(e[C])&&e[C]!=="."){if(e[C]==="i"||e[C]==="I")return new t(n?e8:t8);if(e[C]==="N")return new t(f2)}for(;n8(e[C])||e[C]===".";){if(e[C]==="."){i&&Yn(e,"contains multiple periods"),i=!0,C=C+1;continue}d<Z9&&(e[C]!=="0"||o)&&(o||(f=a),o=!0,h[p++]=parseInt(e[C],10),d=d+1),o&&(c=c+1),i&&(l=l+1),a=a+1,C=C+1}if(i&&!a)throw new k(""+e+" not a valid Decimal128 string");if(e[C]==="e"||e[C]==="E"){let $=e.substr(++C).match(sv);if(!$||!$[2])return new t(f2);g=parseInt($[0],10),C=C+$[0].length}if(e[C])return new t(f2);if(!d)h[0]=0,c=1,d=1,u=0;else if(m=d-1,u=c,u!==1)for(;e[f+u-1+Number(s)+Number(i)]==="0";)u=u-1;for(g<=l&&l>g+16384?g=Wc:g=g-l;g>$u;){if(m=m+1,m>=Z9){if(u===0){g=$u;break}Yn(e,"overflow")}g=g-1}if(r.allowRounding){for(;g<Wc||d<c;){if(m===0&&u<d){g=Wc,u=0;break}if(d<c?c=c-1:m=m-1,g<$u)g=g+1;else{if(h.join("").match(/^0+$/)){g=$u;break}Yn(e,"overflow")}}if(m+1<u){let $=a;i&&(f=f+1,$=$+1),s&&(f=f+1,$=$+1);let D=parseInt(e[f+m+1],10),j=0;if(D>=5&&(j=1,D===5)){j=h[m]%2===1?1:0;for(let U=f+m+2;U<$;U++)if(parseInt(e[U],10)){j=1;break}}if(j){let U=m;for(;U>=0&&++h[U]>9;U--)if(h[U]=0,U===0)if(g<$u)g=g+1,h[U]=1;else return new t(n?e8:t8)}}}else{for(;g<Wc||d<c;){if(m===0){if(u===0){g=Wc;break}Yn(e,"exponent underflow")}d<c?(e[c-1+Number(s)+Number(i)]!=="0"&&u!==0&&Yn(e,"inexact rounding"),c=c-1):(h[m]!==0&&Yn(e,"inexact rounding"),m=m-1),g<$u?g=g+1:Yn(e,"overflow")}m+1<u&&(i&&(f=f+1),s&&(f=f+1),parseInt(e[f+m+1],10)!==0&&Yn(e,"inexact rounding"))}if(_=Y.fromNumber(0),E=Y.fromNumber(0),u===0)_=Y.fromNumber(0),E=Y.fromNumber(0);else if(m<17){let $=0;for(E=Y.fromNumber(h[$++]),_=new Y(0,0);$<=m;$++)E=E.multiply(Y.fromNumber(10)),E=E.add(Y.fromNumber(h[$]))}else{let $=0;for(_=Y.fromNumber(h[$++]);$<=m-17;$++)_=_.multiply(Y.fromNumber(10)),_=_.add(Y.fromNumber(h[$]));for(E=Y.fromNumber(h[$++]);$<=m;$++)E=E.multiply(Y.fromNumber(10)),E=E.add(Y.fromNumber(h[$]))}let P=cv(_,Y.fromString("100000000000000000"));P.low=P.low.add(E),lv(P.low,E)&&(P.high=P.high.add(Y.fromNumber(1))),A=g+X9;let V={low:Y.fromNumber(0),high:Y.fromNumber(0)};P.high.shiftRightUnsigned(49).and(Y.fromNumber(1)).equals(Y.fromNumber(1))?(V.high=V.high.or(Y.fromNumber(3).shiftLeft(61)),V.high=V.high.or(Y.fromNumber(A).and(Y.fromNumber(16383).shiftLeft(47))),V.high=V.high.or(P.high.and(Y.fromNumber(0x7fffffffffff)))):(V.high=V.high.or(Y.fromNumber(A&16383).shiftLeft(49)),V.high=V.high.or(P.high.and(Y.fromNumber(562949953421311)))),V.low=P.low,n&&(V.high=V.high.or(Y.fromString("9223372036854775808")));let W=I.allocate(16);return C=0,W[C++]=V.low.low&255,W[C++]=V.low.low>>8&255,W[C++]=V.low.low>>16&255,W[C++]=V.low.low>>24&255,W[C++]=V.low.high&255,W[C++]=V.low.high>>8&255,W[C++]=V.low.high>>16&255,W[C++]=V.low.high>>24&255,W[C++]=V.high.low&255,W[C++]=V.high.low>>8&255,W[C++]=V.high.low>>16&255,W[C++]=V.high.low>>24&255,W[C++]=V.high.high&255,W[C++]=V.high.high>>8&255,W[C++]=V.high.high>>16&255,W[C++]=V.high.high>>24&255,new t(W)}toString(){let e,r=0,n=new Array(36);for(let C=0;C<n.length;C++)n[C]=0;let s=0,i=!1,o,u={parts:[0,0,0,0]},a,c,l=[];s=0;let f=this.bytes,h=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,d=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,p=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,m=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24;s=0,{low:new Y(h,d),high:new Y(p,m)}.high.lessThan(Y.ZERO)&&l.push("-");let _=m>>26&iv;if(_>>3===3){if(_===ov)return l.join("")+"Infinity";if(_===uv)return"NaN";e=m>>15&r8,o=8+(m>>14&1)}else o=m>>14&7,e=m>>17&r8;let E=e-X9;if(u.parts[0]=(m&16383)+((o&15)<<14),u.parts[1]=p,u.parts[2]=d,u.parts[3]=h,u.parts[0]===0&&u.parts[1]===0&&u.parts[2]===0&&u.parts[3]===0)i=!0;else for(c=3;c>=0;c--){let C=0,T=av(u);if(u=T.quotient,C=T.rem.low,!!C)for(a=8;a>=0;a--)n[c*9+a]=C%10,C=Math.floor(C/10)}if(i)r=1,n[s]=0;else for(r=36;!n[s];)r=r-1,s=s+1;let A=r-1+E;if(A>=34||A<=-7||E>0){if(r>34)return l.push("0"),E>0?l.push(`E+${E}`):E<0&&l.push(`E${E}`),l.join("");l.push(`${n[s++]}`),r=r-1,r&&l.push(".");for(let C=0;C<r;C++)l.push(`${n[s++]}`);l.push("E"),A>0?l.push(`+${A}`):l.push(`${A}`)}else if(E>=0)for(let C=0;C<r;C++)l.push(`${n[s++]}`);else{let C=r+E;if(C>0)for(let T=0;T<C;T++)l.push(`${n[s++]}`);else l.push("0");for(l.push(".");C++<0;)l.push("0");for(let T=0;T<r-Math.max(C-1,0);T++)l.push(`${n[s++]}`)}return l.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(e){return t.fromString(e.$numberDecimal)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Decimal128("${this.toString()}")`}},Li=class t extends mr{get _bsontype(){return"Double"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e}valueOf(){return this.value}toJSON(){return this.value}toString(e){return this.value.toString(e)}toExtendedJSON(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(e,r){let n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Double(${this.toExtendedJSON().$numberDouble})`}},ji=class t extends mr{get _bsontype(){return"Int32"}constructor(e){super(),e instanceof Number&&(e=e.valueOf()),this.value=+e|0}valueOf(){return this.value}toString(e){return this.value.toString(e)}toJSON(){return this.value}toExtendedJSON(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Int32(${this.valueOf()})`}},Io=class t extends mr{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new t}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return"new MaxKey()"}},$o=class t extends mr{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new t}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return"new MinKey()"}},fv=new RegExp("^[0-9a-fA-F]{24}$"),Po=null,Ps=Symbol("id"),ei=class t extends mr{get _bsontype(){return"ObjectId"}constructor(e){super();let r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new k("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=I.fromHex(e.toHexString()):r=e.id}else r=e;if(r==null||typeof r=="number")this[Ps]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[Ps]=I.toLocalBufferType(r);else if(typeof r=="string")if(r.length===12){let n=I.fromUTF8(r);if(n.byteLength===12)this[Ps]=n;else throw new k("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&fv.test(r))this[Ps]=I.fromHex(r);else throw new k("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new k("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=I.toHex(this.id))}get id(){return this[Ps]}set id(e){this[Ps]=e,t.cacheHexString&&(this.__id=I.toHex(e))}toHexString(){if(t.cacheHexString&&this.__id)return this.__id;let e=I.toHex(this.id);return t.cacheHexString&&!this.__id&&(this.__id=e),e}static getInc(){return t.index=(t.index+1)%16777215}static generate(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));let r=t.getInc(),n=I.allocate(12);return qu.fromUint8Array(n).setUint32(0,e,!1),Po===null&&(Po=I.randomBytes(5)),n[4]=Po[0],n[5]=Po[1],n[6]=Po[2],n[7]=Po[3],n[8]=Po[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n}toString(e){return e==="base64"?I.toBase64(this.id):e==="hex"?this.toHexString():this.toHexString()}toJSON(){return this.toHexString()}equals(e){if(e==null)return!1;if(e instanceof t)return this[Ps][11]===e[Ps][11]&&I.equals(this[Ps],e[Ps]);if(typeof e=="string"&&t.isValid(e)&&e.length===12&&ki(this.id))return I.equals(this.id,I.fromISO88591(e));if(typeof e=="string"&&t.isValid(e)&&e.length===24)return e.toLowerCase()===this.toHexString();if(typeof e=="string"&&t.isValid(e)&&e.length===12)return I.equals(I.fromUTF8(e),this.id);if(typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"){let r=e.toHexString(),n=this.toHexString().toLowerCase();return typeof r=="string"&&r.toLowerCase()===n}return!1}getTimestamp(){let e=new Date,r=qu.fromUint8Array(this.id).getUint32(0,!1);return e.setTime(Math.floor(r)*1e3),e}static createPk(){return new t}static createFromTime(e){let r=I.fromNumberArray([0,0,0,0,0,0,0,0,0,0,0,0]);return qu.fromUint8Array(r).setUint32(0,e,!1),new t(r)}static createFromHexString(e){if(e?.length!==24)throw new k("hex string must be 24 characters");return new t(I.fromHex(e))}static createFromBase64(e){if(e?.length!==16)throw new k("base64 string must be 16 characters");return new t(I.fromBase64(e))}static isValid(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(e){return new t(e.$oid)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new ObjectId("${this.toHexString()}")`}};ei.index=Math.floor(Math.random()*16777215);function Yl(t,e,r){let n=5;if(Array.isArray(t))for(let s=0;s<t.length;s++)n+=s8(s.toString(),t[s],e,!0,r);else{typeof t?.toBSON=="function"&&(t=t.toBSON());for(let s of Object.keys(t))n+=s8(s,t[s],e,!1,r)}return n}function s8(t,e,r=!1,n=!1,s=!1){switch(typeof e?.toBSON=="function"&&(e=e.toBSON()),typeof e){case"string":return 1+I.utf8ByteLength(t)+1+4+I.utf8ByteLength(e)+1;case"number":return Math.floor(e)===e&&e>=h8&&e<=f8&&e>=nf&&e<=rf?(t!=null?I.utf8ByteLength(t)+1:0)+(4+1):(t!=null?I.utf8ByteLength(t)+1:0)+(8+1);case"undefined":return n||!s?(t!=null?I.utf8ByteLength(t)+1:0)+1:0;case"boolean":return(t!=null?I.utf8ByteLength(t)+1:0)+(1+1);case"object":if(e!=null&&typeof e._bsontype=="string"&&e[Symbol.for("@@mdb.bson.version")]!==Mo)throw new Xs;if(e==null||e._bsontype==="MinKey"||e._bsontype==="MaxKey")return(t!=null?I.utf8ByteLength(t)+1:0)+1;if(e._bsontype==="ObjectId")return(t!=null?I.utf8ByteLength(t)+1:0)+(12+1);if(e instanceof Date||Ru(e))return(t!=null?I.utf8ByteLength(t)+1:0)+(8+1);if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer||u8(e))return(t!=null?I.utf8ByteLength(t)+1:0)+(1+4+1)+e.byteLength;if(e._bsontype==="Long"||e._bsontype==="Double"||e._bsontype==="Timestamp")return(t!=null?I.utf8ByteLength(t)+1:0)+(8+1);if(e._bsontype==="Decimal128")return(t!=null?I.utf8ByteLength(t)+1:0)+(16+1);if(e._bsontype==="Code")return e.scope!=null&&Object.keys(e.scope).length>0?(t!=null?I.utf8ByteLength(t)+1:0)+1+4+4+I.utf8ByteLength(e.code.toString())+1+Yl(e.scope,r,s):(t!=null?I.utf8ByteLength(t)+1:0)+1+4+I.utf8ByteLength(e.code.toString())+1;if(e._bsontype==="Binary"){let i=e;return i.sub_type===Ve.SUBTYPE_BYTE_ARRAY?(t!=null?I.utf8ByteLength(t)+1:0)+(i.position+1+4+1+4):(t!=null?I.utf8ByteLength(t)+1:0)+(i.position+1+4+1)}else{if(e._bsontype==="Symbol")return(t!=null?I.utf8ByteLength(t)+1:0)+I.utf8ByteLength(e.value)+4+1+1;if(e._bsontype==="DBRef"){let i=Object.assign({$ref:e.collection,$id:e.oid},e.fields);return e.db!=null&&(i.$db=e.db),(t!=null?I.utf8ByteLength(t)+1:0)+1+Yl(i,r,s)}else return e instanceof RegExp||Nu(e)?(t!=null?I.utf8ByteLength(t)+1:0)+1+I.utf8ByteLength(e.source)+1+(e.global?1:0)+(e.ignoreCase?1:0)+(e.multiline?1:0)+1:e._bsontype==="BSONRegExp"?(t!=null?I.utf8ByteLength(t)+1:0)+1+I.utf8ByteLength(e.pattern)+1+I.utf8ByteLength(e.options)+1:(t!=null?I.utf8ByteLength(t)+1:0)+Yl(e,r,s)+1}case"function":if(r)return(t!=null?I.utf8ByteLength(t)+1:0)+1+4+I.utf8ByteLength(e.toString())+1}return 0}function hv(t){return t.split("").sort().join("")}var ti=class t extends mr{get _bsontype(){return"BSONRegExp"}constructor(e,r){if(super(),this.pattern=e,this.options=hv(r??""),this.pattern.indexOf("\0")!==-1)throw new k(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new k(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new k(`The regular expression option [${this.options[n]}] is not supported`)}static parseOptions(e){return e?e.split("").sort().join(""):""}toExtendedJSON(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new k(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(e)}`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new BSONRegExp(${JSON.stringify(this.pattern)}, ${JSON.stringify(this.options)})`}},No=class t extends mr{get _bsontype(){return"BSONSymbol"}constructor(e){super(),this.value=e}valueOf(){return this.value}toString(){return this.value}inspect(){return`new BSONSymbol("${this.value}")`}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(e){return new t(e.$symbol)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}},dv=Y,Ui=class t extends dv{get _bsontype(){return"Timestamp"}constructor(e){if(e==null)super(0,0,!0);else if(typeof e=="bigint")super(e,!0);else if(Y.isLong(e))super(e.low,e.high,!0);else if(typeof e=="object"&&"t"in e&&"i"in e){if(typeof e.t!="number"&&(typeof e.t!="object"||e.t._bsontype!=="Int32"))throw new k("Timestamp constructed from { t, i } must provide t as a number");if(typeof e.i!="number"&&(typeof e.i!="object"||e.i._bsontype!=="Int32"))throw new k("Timestamp constructed from { t, i } must provide i as a number");let r=Number(e.t),n=Number(e.i);if(r<0||Number.isNaN(r))throw new k("Timestamp constructed from { t, i } must provide a positive t");if(n<0||Number.isNaN(n))throw new k("Timestamp constructed from { t, i } must provide a positive i");if(r>4294967295)throw new k("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(n>4294967295)throw new k("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(n,r,!0)}else throw new k("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(e){return new t(Y.fromInt(e,!0))}static fromNumber(e){return new t(Y.fromNumber(e,!0))}static fromBits(e,r){return new t({i:e,t:r})}static fromString(e,r){return new t(Y.fromString(e,!0,r))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(e){let r=Y.isLong(e.$timestamp.i)?e.$timestamp.i.getLowBitsUnsigned():e.$timestamp.i,n=Y.isLong(e.$timestamp.t)?e.$timestamp.t.getLowBitsUnsigned():e.$timestamp.t;return new t({t:n,i:r})}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new Timestamp({ t: ${this.getHighBits()}, i: ${this.getLowBits()} })`}};Ui.MAX_VALUE=Y.MAX_UNSIGNED_VALUE;var pv=128,mv=192,yv=224,gv=240,Ev=248,_v=192,Av=224,Ov=240,Cv=128;function B8(t,e,r){let n=0;for(let s=e;s<r;s+=1){let i=t[s];if(n){if((i&mv)!==Cv)return!1;n-=1}else if(i&pv)if((i&yv)===_v)n=1;else if((i&gv)===Av)n=2;else if((i&Ev)===Ov)n=3;else return!1}return!n}var Sv=Y.fromNumber(f8),wv=Y.fromNumber(h8);function T8(t,e,r){e=e??{};let n=e&&e.index?e.index:0,s=t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24;if(s<5)throw new k(`bson size must be >= 5, is ${s}`);if(e.allowObjectSmallerThanBufferSize&&t.length<s)throw new k(`buffer length ${t.length} must be >= bson size ${s}`);if(!e.allowObjectSmallerThanBufferSize&&t.length!==s)throw new k(`buffer length ${t.length} must === bson size ${s}`);if(s+n>t.byteLength)throw new k(`(bson size ${s} + options.index ${n} must be <= buffer length ${t.byteLength})`);if(t[n+s-1]!==0)throw new k("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return Ql(t,n,e,r)}var bv=/^\$ref$|^\$id$|^\$db$/;function Ql(t,e,r,n=!1){let s=r.fieldsAsRaw==null?null:r.fieldsAsRaw,i=r.raw==null?!1:r.raw,o=typeof r.bsonRegExp=="boolean"?r.bsonRegExp:!1,u=r.promoteBuffers??!1,a=r.promoteLongs??!0,c=r.promoteValues??!0,l=r.useBigInt64??!1;if(l&&!c)throw new k("Must either request bigint or Long for int64 deserialization");if(l&&!a)throw new k("Must either request bigint or Long for int64 deserialization");let f=r.validation==null?{utf8:!0}:r.validation,h=!0,d,p=new Set,m=f.utf8;if(typeof m=="boolean")d=m;else{h=!1;let F=Object.keys(m).map(function(P){return m[P]});if(F.length===0)throw new k("UTF-8 validation setting cannot be empty");if(typeof F[0]!="boolean")throw new k("Invalid UTF-8 validation option, must specify boolean values");if(d=F[0],!F.every(P=>P===d))throw new k("Invalid UTF-8 validation option - keys must be all true or all false")}if(!h)for(let F of Object.keys(m))p.add(F);let g=e;if(t.length<5)throw new k("corrupt bson message < 5 bytes long");let _=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(_<5||_>t.length)throw new k("corrupt bson message");let E=n?[]:{},A=0,C=!1,T=n?!1:null,L=new DataView(t.buffer,t.byteOffset,t.byteLength);for(;!C;){let F=t[e++];if(F===0)break;let P=e;for(;t[P]!==0&&P<t.length;)P++;if(P>=t.byteLength)throw new k("Bad BSON Document: illegal CString");let V=n?A++:I.toUTF8(t,e,P),W=!0;h||p.has(V)?W=d:W=!d,T!==!1&&V[0]==="$"&&(T=bv.test(V));let $;if(e=P+1,F===d8){let D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(D<=0||D>t.length-e||t[e+D-1]!==0)throw new k("bad string length in bson");$=Kl(t,e,e+D-1,W),e=e+D}else if(F===m8){let D=I.allocate(12);D.set(t.subarray(e,e+12)),$=new ei(D),e=e+12}else if(F===vu&&c===!1)$=new ji(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24);else if(F===vu)$=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;else if(F===Jl&&c===!1)$=new Li(L.getFloat64(e,!0)),e=e+8;else if(F===Jl)$=L.getFloat64(e,!0),e=e+8;else if(F===g8){let D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,j=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;$=new Date(new Y(D,j).toNumber())}else if(F===y8){if(t[e]!==0&&t[e]!==1)throw new k("illegal boolean type value");$=t[e++]===1}else if(F===I2){let D=e,j=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24;if(j<=0||j>t.length-e)throw new k("bad embedded document length in bson");if(i)$=t.slice(e,e+j);else{let U=r;h||(U={...r,validation:{utf8:W}}),$=Ql(t,D,U,!1)}e=e+j}else if(F===p8){let D=e,j=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,U=r,ke=e+j;if(s&&s[V]&&(U={...r,raw:!0}),h||(U={...U,validation:{utf8:W}}),$=Ql(t,D,U,!0),e=e+j,t[e-1]!==0)throw new k("invalid array terminator byte");if(e!==ke)throw new k("corrupted array bson")}else if(F===jx)$=void 0;else if(F===N2)$=null;else if(F===x2){let D=qu.fromUint8Array(t.subarray(e,e+8)),j=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,U=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,ke=new Y(j,U);l?$=D.getBigInt64(0,!0):a&&c===!0?$=ke.lessThanOrEqual(Sv)&&ke.greaterThanOrEqual(wv)?ke.toNumber():ke:$=ke}else if(F===O8){let D=I.allocate(16);D.set(t.subarray(e,e+16),0),e=e+16,$=new Fo(D)}else if(F===$2){let D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,j=D,U=t[e++];if(D<0)throw new k("Negative binary type element size found");if(D>t.byteLength)throw new k("Binary type size larger than document size");if(t.slice!=null){if(U===Ve.SUBTYPE_BYTE_ARRAY){if(D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,D<0)throw new k("Negative binary type element size found for subtype 0x02");if(D>j-4)throw new k("Binary type with subtype 0x02 contains too long binary size");if(D<j-4)throw new k("Binary type with subtype 0x02 contains too short binary size")}u&&c?$=I.toLocalBufferType(t.slice(e,e+D)):($=new Ve(t.slice(e,e+D),U),U===Zl&&Ms.isValid($)&&($=$.toUUID()))}else{let ke=I.allocate(D);if(U===Ve.SUBTYPE_BYTE_ARRAY){if(D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,D<0)throw new k("Negative binary type element size found for subtype 0x02");if(D>j-4)throw new k("Binary type with subtype 0x02 contains too long binary size");if(D<j-4)throw new k("Binary type with subtype 0x02 contains too short binary size")}for(P=0;P<D;P++)ke[P]=t[e+P];u&&c?$=ke:($=new Ve(t.slice(e,e+D),U),U===Zl&&Ms.isValid($)&&($=$.toUUID()))}e=e+D}else if(F===Xl&&o===!1){for(P=e;t[P]!==0&&P<t.length;)P++;if(P>=t.length)throw new k("Bad BSON Document: illegal CString");let D=I.toUTF8(t,e,P);for(e=P+1,P=e;t[P]!==0&&P<t.length;)P++;if(P>=t.length)throw new k("Bad BSON Document: illegal CString");let j=I.toUTF8(t,e,P);e=P+1;let U=new Array(j.length);for(P=0;P<j.length;P++)switch(j[P]){case"m":U[P]="m";break;case"s":U[P]="g";break;case"i":U[P]="i";break}$=new RegExp(D,U.join(""))}else if(F===Xl&&o===!0){for(P=e;t[P]!==0&&P<t.length;)P++;if(P>=t.length)throw new k("Bad BSON Document: illegal CString");let D=I.toUTF8(t,e,P);for(e=P+1,P=e;t[P]!==0&&P<t.length;)P++;if(P>=t.length)throw new k("Bad BSON Document: illegal CString");let j=I.toUTF8(t,e,P);e=P+1,$=new ti(D,j)}else if(F===E8){let D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(D<=0||D>t.length-e||t[e+D-1]!==0)throw new k("bad string length in bson");let j=Kl(t,e,e+D-1,W);$=c?j:new No(j),e=e+D}else if(F===A8){let D=t[e++]+t[e++]*256+t[e++]*65536+t[e++]*16777216,j=t[e++]+t[e++]*256+t[e++]*65536+t[e++]*(1<<24);$=new Ui({i:D,t:j})}else if(F===C8)$=new $o;else if(F===S8)$=new Io;else if(F===R2){let D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(D<=0||D>t.length-e||t[e+D-1]!==0)throw new k("bad string length in bson");let j=Kl(t,e,e+D-1,W);$=new Zs(j),e=e+D}else if(F===_8){let D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(D<4+4+4+1)throw new k("code_w_scope total size shorter minimum expected length");let j=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(j<=0||j>t.length-e||t[e+j-1]!==0)throw new k("bad string length in bson");let U=Kl(t,e,e+j-1,W);e=e+j;let ke=e,be=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,Ft=Ql(t,ke,r,!1);if(e=e+be,D<4+4+be+j)throw new k("code_w_scope total size is too short, truncating scope");if(D>4+4+be+j)throw new k("code_w_scope total size is too long, clips outer document");$=new Zs(U,Ft)}else if(F===Ux){let D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(D<=0||D>t.length-e||t[e+D-1]!==0)throw new k("bad string length in bson");if(f!=null&&f.utf8&&!B8(t,e,e+D-1))throw new k("Invalid UTF-8 string in BSON document");let j=I.toUTF8(t,e,e+D-1);e=e+D;let U=I.allocate(12);U.set(t.subarray(e,e+12),0);let ke=new ei(U);e=e+12,$=new Fs(j,ke)}else throw new k(`Detected unknown BSON type ${F.toString(16)} for fieldname "${V}"`);V==="__proto__"?Object.defineProperty(E,V,{value:$,writable:!0,enumerable:!0,configurable:!0}):E[V]=$}if(_!==e-g)throw n?new k("corrupt array bson"):new k("corrupt object bson");if(!T)return E;if(b8(E)){let F=Object.assign({},E);return delete F.$ref,delete F.$id,delete F.$db,new Fs(E.$ref,E.$id,E.$db,F)}return E}function Kl(t,e,r,n){let s=I.toUTF8(t,e,r);if(n){for(let i=0;i<s.length;i++)if(s.charCodeAt(i)===65533){if(!B8(t,e,r))throw new k("Invalid UTF-8 string in BSON document");break}}return s}var ef=/\x00/,i8=new Set(["$db","$ref","$id","$clusterTime"]);function h2(t,e,r,n){t[n++]=d8;let s=I.encodeUTF8Into(t,e,n);n=n+s+1,t[n-1]=0;let i=I.encodeUTF8Into(t,r,n+4);return t[n+3]=i+1>>24&255,t[n+2]=i+1>>16&255,t[n+1]=i+1>>8&255,t[n]=i+1&255,n=n+4+i,t[n++]=0,n}var ju=new DataView(new ArrayBuffer(8),0,8),Dv=new Uint8Array(ju.buffer,0,4),tf=new Uint8Array(ju.buffer,0,8);function d2(t,e,r,n){let i=!Object.is(r,-0)&&Number.isSafeInteger(r)&&r<=rf&&r>=nf?vu:Jl;i===vu?ju.setInt32(0,r,!0):ju.setFloat64(0,r,!0);let o=i===vu?Dv:tf;t[n++]=i;let u=I.encodeUTF8Into(t,e,n);return n=n+u,t[n++]=0,t.set(o,n),n+=o.byteLength,n}function p2(t,e,r,n){t[n++]=x2;let s=I.encodeUTF8Into(t,e,n);return n+=s,t[n++]=0,ju.setBigInt64(0,r,!0),t.set(tf,n),n+=tf.byteLength,n}function zc(t,e,r,n){t[n++]=N2;let s=I.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,n}function m2(t,e,r,n){t[n++]=y8;let s=I.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,t[n++]=r?1:0,n}function y2(t,e,r,n){t[n++]=g8;let s=I.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=Y.fromNumber(r.getTime()),o=i.getLowBits(),u=i.getHighBits();return t[n++]=o&255,t[n++]=o>>8&255,t[n++]=o>>16&255,t[n++]=o>>24&255,t[n++]=u&255,t[n++]=u>>8&255,t[n++]=u>>16&255,t[n++]=u>>24&255,n}function g2(t,e,r,n){t[n++]=Xl;let s=I.encodeUTF8Into(t,e,n);if(n=n+s,t[n++]=0,r.source&&r.source.match(ef)!=null)throw new k("value "+r.source+" must not contain null bytes");return n=n+I.encodeUTF8Into(t,r.source,n),t[n++]=0,r.ignoreCase&&(t[n++]=105),r.global&&(t[n++]=115),r.multiline&&(t[n++]=109),t[n++]=0,n}function E2(t,e,r,n){t[n++]=Xl;let s=I.encodeUTF8Into(t,e,n);if(n=n+s,t[n++]=0,r.pattern.match(ef)!=null)throw new k("pattern "+r.pattern+" must not contain null bytes");n=n+I.encodeUTF8Into(t,r.pattern,n),t[n++]=0;let i=r.options.split("").sort().join("");return n=n+I.encodeUTF8Into(t,i,n),t[n++]=0,n}function _2(t,e,r,n){r===null?t[n++]=N2:r._bsontype==="MinKey"?t[n++]=C8:t[n++]=S8;let s=I.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,n}function A2(t,e,r,n){t[n++]=m8;let s=I.encodeUTF8Into(t,e,n);if(n=n+s,t[n++]=0,ki(r.id))t.set(r.id.subarray(0,12),n);else throw new k("object ["+JSON.stringify(r)+"] is not a valid ObjectId");return n+12}function O2(t,e,r,n){t[n++]=$2;let s=I.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=r.length;return t[n++]=i&255,t[n++]=i>>8&255,t[n++]=i>>16&255,t[n++]=i>>24&255,t[n++]=Vx,t.set(r,n),n=n+i,n}function C2(t,e,r,n,s,i,o,u,a){if(a.has(r))throw new k("Cannot convert circular structure to BSON");a.add(r),t[n++]=Array.isArray(r)?p8:I2;let c=I.encodeUTF8Into(t,e,n);n=n+c,t[n++]=0;let l=Hc(t,r,s,n,i+1,o,u,a);return a.delete(r),l}function S2(t,e,r,n){t[n++]=O8;let s=I.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,t.set(r.bytes.subarray(0,16),n),n+16}function w2(t,e,r,n){t[n++]=r._bsontype==="Long"?x2:A8;let s=I.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=r.getLowBits(),o=r.getHighBits();return t[n++]=i&255,t[n++]=i>>8&255,t[n++]=i>>16&255,t[n++]=i>>24&255,t[n++]=o&255,t[n++]=o>>8&255,t[n++]=o>>16&255,t[n++]=o>>24&255,n}function b2(t,e,r,n){r=r.valueOf(),t[n++]=vu;let s=I.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,t[n++]=r&255,t[n++]=r>>8&255,t[n++]=r>>16&255,t[n++]=r>>24&255,n}function D2(t,e,r,n){t[n++]=Jl;let s=I.encodeUTF8Into(t,e,n);return n=n+s,t[n++]=0,ju.setFloat64(0,r.value,!0),t.set(tf,n),n=n+8,n}function B2(t,e,r,n){t[n++]=R2;let s=I.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=r.toString(),o=I.encodeUTF8Into(t,i,n+4)+1;return t[n]=o&255,t[n+1]=o>>8&255,t[n+2]=o>>16&255,t[n+3]=o>>24&255,n=n+4+o-1,t[n++]=0,n}function T2(t,e,r,n,s=!1,i=0,o=!1,u=!0,a){if(r.scope&&typeof r.scope=="object"){t[n++]=_8;let c=I.encodeUTF8Into(t,e,n);n=n+c,t[n++]=0;let l=n,f=r.code;n=n+4;let h=I.encodeUTF8Into(t,f,n+4)+1;t[n]=h&255,t[n+1]=h>>8&255,t[n+2]=h>>16&255,t[n+3]=h>>24&255,t[n+4+h-1]=0,n=n+h+4;let d=Hc(t,r.scope,s,n,i+1,o,u,a);n=d-1;let p=d-l;t[l++]=p&255,t[l++]=p>>8&255,t[l++]=p>>16&255,t[l++]=p>>24&255,t[n++]=0}else{t[n++]=R2;let c=I.encodeUTF8Into(t,e,n);n=n+c,t[n++]=0;let l=r.code.toString(),f=I.encodeUTF8Into(t,l,n+4)+1;t[n]=f&255,t[n+1]=f>>8&255,t[n+2]=f>>16&255,t[n+3]=f>>24&255,n=n+4+f-1,t[n++]=0}return n}function P2(t,e,r,n){t[n++]=$2;let s=I.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=r.buffer,o=r.position;return r.sub_type===Ve.SUBTYPE_BYTE_ARRAY&&(o=o+4),t[n++]=o&255,t[n++]=o>>8&255,t[n++]=o>>16&255,t[n++]=o>>24&255,t[n++]=r.sub_type,r.sub_type===Ve.SUBTYPE_BYTE_ARRAY&&(o=o-4,t[n++]=o&255,t[n++]=o>>8&255,t[n++]=o>>16&255,t[n++]=o>>24&255),t.set(i,n),n=n+r.position,n}function M2(t,e,r,n){t[n++]=E8;let s=I.encodeUTF8Into(t,e,n);n=n+s,t[n++]=0;let i=I.encodeUTF8Into(t,r.value,n+4)+1;return t[n]=i&255,t[n+1]=i>>8&255,t[n+2]=i>>16&255,t[n+3]=i>>24&255,n=n+4+i-1,t[n++]=0,n}function F2(t,e,r,n,s,i,o){t[n++]=I2;let u=I.encodeUTF8Into(t,e,n);n=n+u,t[n++]=0;let a=n,c={$ref:r.collection||r.namespace,$id:r.oid};r.db!=null&&(c.$db=r.db),c=Object.assign(c,r.fields);let l=Hc(t,c,!1,n,s+1,i,!0,o),f=l-a;return t[a++]=f&255,t[a++]=f>>8&255,t[a++]=f>>16&255,t[a++]=f>>24&255,l}function Hc(t,e,r,n,s,i,o,u){if(u==null){if(e==null)return t[0]=5,t[1]=0,t[2]=0,t[3]=0,t[4]=0,5;if(Array.isArray(e))throw new k("serialize does not support an array as the root input");if(typeof e!="object")throw new k("serialize does not support non-object as the root input");if("_bsontype"in e&&typeof e._bsontype=="string")throw new k("BSON types cannot be serialized as a document");if(Ru(e)||Nu(e)||ki(e)||u8(e))throw new k("date, regexp, typedarray, and arraybuffer cannot be BSON documents");u=new Set}u.add(e);let a=n+4;if(Array.isArray(e))for(let l=0;l<e.length;l++){let f=`${l}`,h=e[l];if(typeof h?.toBSON=="function"&&(h=h.toBSON()),typeof h=="string")a=h2(t,f,h,a);else if(typeof h=="number")a=d2(t,f,h,a);else if(typeof h=="bigint")a=p2(t,f,h,a);else if(typeof h=="boolean")a=m2(t,f,h,a);else if(h instanceof Date||Ru(h))a=y2(t,f,h,a);else if(h===void 0)a=zc(t,f,h,a);else if(h===null)a=zc(t,f,h,a);else if(ki(h))a=O2(t,f,h,a);else if(h instanceof RegExp||Nu(h))a=g2(t,f,h,a);else if(typeof h=="object"&&h._bsontype==null)a=C2(t,f,h,a,r,s,i,o,u);else{if(typeof h=="object"&&h[Symbol.for("@@mdb.bson.version")]!==Mo)throw new Xs;if(h._bsontype==="ObjectId")a=A2(t,f,h,a);else if(h._bsontype==="Decimal128")a=S2(t,f,h,a);else if(h._bsontype==="Long"||h._bsontype==="Timestamp")a=w2(t,f,h,a);else if(h._bsontype==="Double")a=D2(t,f,h,a);else if(typeof h=="function"&&i)a=B2(t,f,h,a);else if(h._bsontype==="Code")a=T2(t,f,h,a,r,s,i,o,u);else if(h._bsontype==="Binary")a=P2(t,f,h,a);else if(h._bsontype==="BSONSymbol")a=M2(t,f,h,a);else if(h._bsontype==="DBRef")a=F2(t,f,h,a,s,i,u);else if(h._bsontype==="BSONRegExp")a=E2(t,f,h,a);else if(h._bsontype==="Int32")a=b2(t,f,h,a);else if(h._bsontype==="MinKey"||h._bsontype==="MaxKey")a=_2(t,f,h,a);else if(typeof h._bsontype<"u")throw new k(`Unrecognized or invalid _bsontype: ${String(h._bsontype)}`)}}else if(e instanceof Map||a8(e)){let l=e.entries(),f=!1;for(;!f;){let h=l.next();if(f=!!h.done,f)continue;let d=h.value[0],p=h.value[1];typeof p?.toBSON=="function"&&(p=p.toBSON());let m=typeof p;if(typeof d=="string"&&!i8.has(d)){if(d.match(ef)!=null)throw new k("key "+d+" must not contain null bytes");if(r){if(d[0]==="$")throw new k("key "+d+" must not start with '$'");if(~d.indexOf("."))throw new k("key "+d+" must not contain '.'")}}if(m==="string")a=h2(t,d,p,a);else if(m==="number")a=d2(t,d,p,a);else if(m==="bigint")a=p2(t,d,p,a);else if(m==="boolean")a=m2(t,d,p,a);else if(p instanceof Date||Ru(p))a=y2(t,d,p,a);else if(p===null||p===void 0&&o===!1)a=zc(t,d,p,a);else if(ki(p))a=O2(t,d,p,a);else if(p instanceof RegExp||Nu(p))a=g2(t,d,p,a);else if(m==="object"&&p._bsontype==null)a=C2(t,d,p,a,r,s,i,o,u);else{if(typeof p=="object"&&p[Symbol.for("@@mdb.bson.version")]!==Mo)throw new Xs;if(p._bsontype==="ObjectId")a=A2(t,d,p,a);else if(m==="object"&&p._bsontype==="Decimal128")a=S2(t,d,p,a);else if(p._bsontype==="Long"||p._bsontype==="Timestamp")a=w2(t,d,p,a);else if(p._bsontype==="Double")a=D2(t,d,p,a);else if(p._bsontype==="Code")a=T2(t,d,p,a,r,s,i,o,u);else if(typeof p=="function"&&i)a=B2(t,d,p,a);else if(p._bsontype==="Binary")a=P2(t,d,p,a);else if(p._bsontype==="BSONSymbol")a=M2(t,d,p,a);else if(p._bsontype==="DBRef")a=F2(t,d,p,a,s,i,u);else if(p._bsontype==="BSONRegExp")a=E2(t,d,p,a);else if(p._bsontype==="Int32")a=b2(t,d,p,a);else if(p._bsontype==="MinKey"||p._bsontype==="MaxKey")a=_2(t,d,p,a);else if(typeof p._bsontype<"u")throw new k(`Unrecognized or invalid _bsontype: ${String(p._bsontype)}`)}}}else{if(typeof e?.toBSON=="function"&&(e=e.toBSON(),e!=null&&typeof e!="object"))throw new k("toBSON function did not return an object");for(let l of Object.keys(e)){let f=e[l];typeof f?.toBSON=="function"&&(f=f.toBSON());let h=typeof f;if(typeof l=="string"&&!i8.has(l)){if(l.match(ef)!=null)throw new k("key "+l+" must not contain null bytes");if(r){if(l[0]==="$")throw new k("key "+l+" must not start with '$'");if(~l.indexOf("."))throw new k("key "+l+" must not contain '.'")}}if(h==="string")a=h2(t,l,f,a);else if(h==="number")a=d2(t,l,f,a);else if(h==="bigint")a=p2(t,l,f,a);else if(h==="boolean")a=m2(t,l,f,a);else if(f instanceof Date||Ru(f))a=y2(t,l,f,a);else if(f===void 0)o===!1&&(a=zc(t,l,f,a));else if(f===null)a=zc(t,l,f,a);else if(ki(f))a=O2(t,l,f,a);else if(f instanceof RegExp||Nu(f))a=g2(t,l,f,a);else if(h==="object"&&f._bsontype==null)a=C2(t,l,f,a,r,s,i,o,u);else{if(typeof f=="object"&&f[Symbol.for("@@mdb.bson.version")]!==Mo)throw new Xs;if(f._bsontype==="ObjectId")a=A2(t,l,f,a);else if(h==="object"&&f._bsontype==="Decimal128")a=S2(t,l,f,a);else if(f._bsontype==="Long"||f._bsontype==="Timestamp")a=w2(t,l,f,a);else if(f._bsontype==="Double")a=D2(t,l,f,a);else if(f._bsontype==="Code")a=T2(t,l,f,a,r,s,i,o,u);else if(typeof f=="function"&&i)a=B2(t,l,f,a);else if(f._bsontype==="Binary")a=P2(t,l,f,a);else if(f._bsontype==="BSONSymbol")a=M2(t,l,f,a);else if(f._bsontype==="DBRef")a=F2(t,l,f,a,s,i,u);else if(f._bsontype==="BSONRegExp")a=E2(t,l,f,a);else if(f._bsontype==="Int32")a=b2(t,l,f,a);else if(f._bsontype==="MinKey"||f._bsontype==="MaxKey")a=_2(t,l,f,a);else if(typeof f._bsontype<"u")throw new k(`Unrecognized or invalid _bsontype: ${String(f._bsontype)}`)}}}u.delete(e),t[a++]=0;let c=a-n;return t[n++]=c&255,t[n++]=c>>8&255,t[n++]=c>>16&255,t[n++]=c>>24&255,a}function Bv(t){return t!=null&&typeof t=="object"&&"_bsontype"in t&&typeof t._bsontype=="string"}var Tv={$oid:ei,$binary:Ve,$uuid:Ve,$symbol:No,$numberInt:ji,$numberDecimal:Fo,$numberDouble:Li,$numberLong:Y,$minKey:$o,$maxKey:Io,$regex:ti,$regularExpression:ti,$timestamp:Ui};function P8(t,e={}){if(typeof t=="number"){let n=t<=rf&&t>=nf,s=t<=c8&&t>=l8;if(e.relaxed||e.legacy)return t;if(Number.isInteger(t)&&!Object.is(t,-0)){if(n)return new ji(t);if(s)return e.useBigInt64?BigInt(t):Y.fromNumber(t)}return new Li(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;let r=Object.keys(t).filter(n=>n.startsWith("$")&&t[n]!=null);for(let n=0;n<r.length;n++){let s=Tv[r[n]];if(s)return s.fromExtendedJSON(t,e)}if(t.$date!=null){let n=t.$date,s=new Date;if(e.legacy)if(typeof n=="number")s.setTime(n);else if(typeof n=="string")s.setTime(Date.parse(n));else if(typeof n=="bigint")s.setTime(Number(n));else throw new Lu(`Unrecognized type for EJSON date: ${typeof n}`);else if(typeof n=="string")s.setTime(Date.parse(n));else if(Y.isLong(n))s.setTime(n.toNumber());else if(typeof n=="number"&&e.relaxed)s.setTime(n);else if(typeof n=="bigint")s.setTime(Number(n));else throw new Lu(`Unrecognized type for EJSON date: ${typeof n}`);return s}if(t.$code!=null){let n=Object.assign({},t);return t.$scope&&(n.$scope=P8(t.$scope)),Zs.fromExtendedJSON(t)}if(b8(t)||t.$dbPointer){let n=t.$ref?t:t.$dbPointer;if(n instanceof Fs)return n;let s=Object.keys(n).filter(o=>o.startsWith("$")),i=!0;if(s.forEach(o=>{["$ref","$id","$db"].indexOf(o)===-1&&(i=!1)}),i)return Fs.fromExtendedJSON(n)}return t}function Pv(t,e){return t.map((r,n)=>{e.seenObjects.push({propertyName:`index ${n}`,obj:null});try{return Js(r,e)}finally{e.seenObjects.pop()}})}function o8(t){let e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function Js(t,e){if(t instanceof Map||a8(t)){let r=Object.create(null);for(let[n,s]of t){if(typeof n!="string")throw new k("Can only serialize maps with string keys");r[n]=s}return Js(r,e)}if((typeof t=="object"||typeof t=="function")&&t!==null){let r=e.seenObjects.findIndex(n=>n.obj===t);if(r!==-1){let n=e.seenObjects.map(l=>l.propertyName),s=n.slice(0,r).map(l=>`${l} -> `).join(""),i=n[r],o=" -> "+n.slice(r+1,n.length-1).map(l=>`${l} -> `).join(""),u=n[n.length-1],a=" ".repeat(s.length+i.length/2),c="-".repeat(o.length+(i.length+u.length)/2-1);throw new k(`Converting circular structure to EJSON:
    ${s}${i}${o}${u}
    ${a}\\${c}/`)}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return Pv(t,e);if(t===void 0)return null;if(t instanceof Date||Ru(t)){let r=t.getTime(),n=r>-1&&r<2534023188e5;return e.legacy?e.relaxed&&n?{$date:t.getTime()}:{$date:o8(t)}:e.relaxed&&n?{$date:o8(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Number.isInteger(t)&&!Object.is(t,-0)){if(t>=nf&&t<=rf)return{$numberInt:t.toString()};if(t>=l8&&t<=c8)return{$numberLong:t.toString()}}return{$numberDouble:Object.is(t,-0)?"-0.0":t.toString()}}if(typeof t=="bigint")return e.relaxed?Number(BigInt.asIntN(64,t)):{$numberLong:BigInt.asIntN(64,t).toString()};if(t instanceof RegExp||Nu(t)){let r=t.flags;if(r===void 0){let s=t.toString().match(/[gimuy]*$/);s&&(r=s[0])}return new ti(t.source,r).toExtendedJSON(e)}return t!=null&&typeof t=="object"?Fv(t,e):t}var Mv={Binary:t=>new Ve(t.value(),t.sub_type),Code:t=>new Zs(t.code,t.scope),DBRef:t=>new Fs(t.collection||t.namespace,t.oid,t.db,t.fields),Decimal128:t=>new Fo(t.bytes),Double:t=>new Li(t.value),Int32:t=>new ji(t.value),Long:t=>Y.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_),MaxKey:()=>new Io,MinKey:()=>new $o,ObjectId:t=>new ei(t),BSONRegExp:t=>new ti(t.pattern,t.options),BSONSymbol:t=>new No(t.value),Timestamp:t=>Ui.fromBits(t.low,t.high)};function Fv(t,e){if(t==null||typeof t!="object")throw new k("not an object instance");let r=t._bsontype;if(typeof r>"u"){let n={};for(let s of Object.keys(t)){e.seenObjects.push({propertyName:s,obj:null});try{let i=Js(t[s],e);s==="__proto__"?Object.defineProperty(n,s,{value:i,writable:!0,enumerable:!0,configurable:!0}):n[s]=i}finally{e.seenObjects.pop()}}return n}else{if(t!=null&&typeof t=="object"&&typeof t._bsontype=="string"&&t[Symbol.for("@@mdb.bson.version")]!==Mo)throw new Xs;if(Bv(t)){let n=t;if(typeof n.toExtendedJSON!="function"){let s=Mv[t._bsontype];if(!s)throw new k("Unrecognized or invalid _bsontype: "+t._bsontype);n=s(n)}return r==="Code"&&n.scope?n=new Zs(n.code,Js(n.scope,e)):r==="DBRef"&&n.oid&&(n=new Fs(Js(n.collection,e),Js(n.oid,e),Js(n.db,e),Js(n.fields,e))),n.toExtendedJSON(e)}else throw new k("_bsontype must be a string, but was: "+typeof r)}}function M8(t,e){let r={useBigInt64:e?.useBigInt64??!1,relaxed:e?.relaxed??!0,legacy:e?.legacy??!1};return JSON.parse(t,(n,s)=>{if(n.indexOf("\0")!==-1)throw new k(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(n)}`);return P8(s,r)})}function F8(t,e,r,n){r!=null&&typeof r=="object"&&(n=r,r=0),e!=null&&typeof e=="object"&&!Array.isArray(e)&&(n=e,e=void 0,r=0);let s=Object.assign({relaxed:!0,legacy:!1},n,{seenObjects:[{propertyName:"(root)",obj:null}]}),i=Js(t,s);return JSON.stringify(i,e,r)}function Iv(t,e){return e=e||{},JSON.parse(F8(t,e))}function $v(t,e){return e=e||{},M8(JSON.stringify(t),e)}var Ro=Object.create(null);Ro.parse=M8;Ro.stringify=F8;Ro.serialize=Iv;Ro.deserialize=$v;Object.freeze(Ro);var I8=1024*1024*17,qi=I.allocate(I8);function $8(t){qi.length<t&&(qi=I.allocate(t))}function N8(t,e={}){let r=typeof e.checkKeys=="boolean"?e.checkKeys:!1,n=typeof e.serializeFunctions=="boolean"?e.serializeFunctions:!1,s=typeof e.ignoreUndefined=="boolean"?e.ignoreUndefined:!0,i=typeof e.minInternalBufferSize=="number"?e.minInternalBufferSize:I8;qi.length<i&&(qi=I.allocate(i));let o=Hc(qi,t,r,0,0,n,s,null),u=I.allocate(o);return u.set(qi.subarray(0,o),0),u}function R8(t,e,r={}){let n=typeof r.checkKeys=="boolean"?r.checkKeys:!1,s=typeof r.serializeFunctions=="boolean"?r.serializeFunctions:!1,i=typeof r.ignoreUndefined=="boolean"?r.ignoreUndefined:!0,o=typeof r.index=="number"?r.index:0,u=Hc(qi,t,n,0,0,s,i,null);return e.set(qi.subarray(0,u),o),o+u-1}function x8(t,e={}){return T8(I.toLocalBufferType(t),e)}function v8(t,e={}){e=e||{};let r=typeof e.serializeFunctions=="boolean"?e.serializeFunctions:!1,n=typeof e.ignoreUndefined=="boolean"?e.ignoreUndefined:!0;return Yl(t,r,n)}function k8(t,e,r,n,s,i){let o=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},i),u=I.toLocalBufferType(t),a=e;for(let c=0;c<r;c++){let l=u[a]|u[a+1]<<8|u[a+2]<<16|u[a+3]<<24;o.index=a,n[s+c]=T8(u,o),a=a+l}return a}var Nv=Object.freeze({__proto__:null,BSONError:k,BSONRegExp:ti,BSONRuntimeError:Lu,BSONSymbol:No,BSONType:w8,BSONValue:mr,BSONVersionError:Xs,Binary:Ve,Code:Zs,DBRef:Fs,Decimal128:Fo,Double:Li,EJSON:Ro,Int32:ji,Long:Y,MaxKey:Io,MinKey:$o,ObjectId:ei,Timestamp:Ui,UUID:Ms,calculateObjectSize:v8,deserialize:x8,deserializeStream:k8,serialize:N8,serializeWithBufferAndIndex:R8,setInternalBufferSize:$8});We.BSON=Nv;We.BSONError=k;We.BSONRegExp=ti;We.BSONRuntimeError=Lu;We.BSONSymbol=No;We.BSONType=w8;We.BSONValue=mr;We.BSONVersionError=Xs;We.Binary=Ve;We.Code=Zs;We.DBRef=Fs;We.Decimal128=Fo;We.Double=Li;We.EJSON=Ro;We.Int32=ji;We.Long=Y;We.MaxKey=Io;We.MinKey=$o;We.ObjectId=ei;We.Timestamp=Ui;We.UUID=Ms;We.calculateObjectSize=v8;We.deserialize=x8;We.deserializeStream=k8;We.serialize=N8;We.serializeWithBufferAndIndex=R8;We.setInternalBufferSize=$8});var pt=y(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.resolveBSONOptions=fe.pluckBSONSerializeOptions=fe.Timestamp=fe.serialize=fe.ObjectId=fe.MinKey=fe.MaxKey=fe.Long=fe.Int32=fe.Double=fe.deserialize=fe.Decimal128=fe.DBRef=fe.Code=fe.calculateObjectSize=fe.BSONType=fe.BSONSymbol=fe.BSONRegExp=fe.BSON=fe.Binary=void 0;var vt=wn();Object.defineProperty(fe,"Binary",{enumerable:!0,get:function(){return vt.Binary}});Object.defineProperty(fe,"BSON",{enumerable:!0,get:function(){return vt.BSON}});Object.defineProperty(fe,"BSONRegExp",{enumerable:!0,get:function(){return vt.BSONRegExp}});Object.defineProperty(fe,"BSONSymbol",{enumerable:!0,get:function(){return vt.BSONSymbol}});Object.defineProperty(fe,"BSONType",{enumerable:!0,get:function(){return vt.BSONType}});Object.defineProperty(fe,"calculateObjectSize",{enumerable:!0,get:function(){return vt.calculateObjectSize}});Object.defineProperty(fe,"Code",{enumerable:!0,get:function(){return vt.Code}});Object.defineProperty(fe,"DBRef",{enumerable:!0,get:function(){return vt.DBRef}});Object.defineProperty(fe,"Decimal128",{enumerable:!0,get:function(){return vt.Decimal128}});Object.defineProperty(fe,"deserialize",{enumerable:!0,get:function(){return vt.deserialize}});Object.defineProperty(fe,"Double",{enumerable:!0,get:function(){return vt.Double}});Object.defineProperty(fe,"Int32",{enumerable:!0,get:function(){return vt.Int32}});Object.defineProperty(fe,"Long",{enumerable:!0,get:function(){return vt.Long}});Object.defineProperty(fe,"MaxKey",{enumerable:!0,get:function(){return vt.MaxKey}});Object.defineProperty(fe,"MinKey",{enumerable:!0,get:function(){return vt.MinKey}});Object.defineProperty(fe,"ObjectId",{enumerable:!0,get:function(){return vt.ObjectId}});Object.defineProperty(fe,"serialize",{enumerable:!0,get:function(){return vt.serialize}});Object.defineProperty(fe,"Timestamp",{enumerable:!0,get:function(){return vt.Timestamp}});function Rv(t){let{fieldsAsRaw:e,useBigInt64:r,promoteValues:n,promoteBuffers:s,promoteLongs:i,serializeFunctions:o,ignoreUndefined:u,bsonRegExp:a,raw:c,enableUtf8Validation:l}=t;return{fieldsAsRaw:e,useBigInt64:r,promoteValues:n,promoteBuffers:s,promoteLongs:i,serializeFunctions:o,ignoreUndefined:u,bsonRegExp:a,raw:c,enableUtf8Validation:l}}fe.pluckBSONSerializeOptions=Rv;function xv(t,e){let r=e?.bsonOptions;return{raw:t?.raw??r?.raw??!1,useBigInt64:t?.useBigInt64??r?.useBigInt64??!1,promoteLongs:t?.promoteLongs??r?.promoteLongs??!0,promoteValues:t?.promoteValues??r?.promoteValues??!0,promoteBuffers:t?.promoteBuffers??r?.promoteBuffers??!1,ignoreUndefined:t?.ignoreUndefined??r?.ignoreUndefined??!1,bsonRegExp:t?.bsonRegExp??r?.bsonRegExp??!1,serializeFunctions:t?.serializeFunctions??r?.serializeFunctions??!1,fieldsAsRaw:t?.fieldsAsRaw??r?.fieldsAsRaw??{},enableUtf8Validation:t?.enableUtf8Validation??r?.enableUtf8Validation??!0}}fe.resolveBSONOptions=xv});var xo=y(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.OP_MSG=ze.OP_COMPRESSED=ze.OP_DELETE=ze.OP_QUERY=ze.OP_INSERT=ze.OP_UPDATE=ze.OP_REPLY=ze.MIN_SUPPORTED_QE_SERVER_VERSION=ze.MIN_SUPPORTED_QE_WIRE_VERSION=ze.MAX_SUPPORTED_WIRE_VERSION=ze.MIN_SUPPORTED_WIRE_VERSION=ze.MAX_SUPPORTED_SERVER_VERSION=ze.MIN_SUPPORTED_SERVER_VERSION=void 0;ze.MIN_SUPPORTED_SERVER_VERSION="3.6";ze.MAX_SUPPORTED_SERVER_VERSION="7.0";ze.MIN_SUPPORTED_WIRE_VERSION=6;ze.MAX_SUPPORTED_WIRE_VERSION=21;ze.MIN_SUPPORTED_QE_WIRE_VERSION=21;ze.MIN_SUPPORTED_QE_SERVER_VERSION="7.0";ze.OP_REPLY=1;ze.OP_UPDATE=2001;ze.OP_INSERT=2002;ze.OP_QUERY=2004;ze.OP_DELETE=2006;ze.OP_COMPRESSED=2012;ze.OP_MSG=2013});var kt=y(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.TOPOLOGY_EVENTS=B.CMAP_EVENTS=B.HEARTBEAT_EVENTS=B.RESUME_TOKEN_CHANGED=B.END=B.CHANGE=B.INIT=B.MORE=B.RESPONSE=B.SERVER_HEARTBEAT_FAILED=B.SERVER_HEARTBEAT_SUCCEEDED=B.SERVER_HEARTBEAT_STARTED=B.COMMAND_FAILED=B.COMMAND_SUCCEEDED=B.COMMAND_STARTED=B.CLUSTER_TIME_RECEIVED=B.CONNECTION_CHECKED_IN=B.CONNECTION_CHECKED_OUT=B.CONNECTION_CHECK_OUT_FAILED=B.CONNECTION_CHECK_OUT_STARTED=B.CONNECTION_CLOSED=B.CONNECTION_READY=B.CONNECTION_CREATED=B.CONNECTION_POOL_READY=B.CONNECTION_POOL_CLEARED=B.CONNECTION_POOL_CLOSED=B.CONNECTION_POOL_CREATED=B.TOPOLOGY_DESCRIPTION_CHANGED=B.TOPOLOGY_CLOSED=B.TOPOLOGY_OPENING=B.SERVER_DESCRIPTION_CHANGED=B.SERVER_CLOSED=B.SERVER_OPENING=B.DESCRIPTION_RECEIVED=B.UNPINNED=B.PINNED=B.MESSAGE=B.ENDED=B.CLOSED=B.CONNECT=B.OPEN=B.CLOSE=B.TIMEOUT=B.ERROR=B.SYSTEM_JS_COLLECTION=B.SYSTEM_COMMAND_COLLECTION=B.SYSTEM_USER_COLLECTION=B.SYSTEM_PROFILE_COLLECTION=B.SYSTEM_INDEX_COLLECTION=B.SYSTEM_NAMESPACE_COLLECTION=void 0;B.LEGACY_HELLO_COMMAND_CAMEL_CASE=B.LEGACY_HELLO_COMMAND=B.MONGO_CLIENT_EVENTS=B.LOCAL_SERVER_EVENTS=B.SERVER_RELAY_EVENTS=B.APM_EVENTS=void 0;B.SYSTEM_NAMESPACE_COLLECTION="system.namespaces";B.SYSTEM_INDEX_COLLECTION="system.indexes";B.SYSTEM_PROFILE_COLLECTION="system.profile";B.SYSTEM_USER_COLLECTION="system.users";B.SYSTEM_COMMAND_COLLECTION="$cmd";B.SYSTEM_JS_COLLECTION="system.js";B.ERROR="error";B.TIMEOUT="timeout";B.CLOSE="close";B.OPEN="open";B.CONNECT="connect";B.CLOSED="closed";B.ENDED="ended";B.MESSAGE="message";B.PINNED="pinned";B.UNPINNED="unpinned";B.DESCRIPTION_RECEIVED="descriptionReceived";B.SERVER_OPENING="serverOpening";B.SERVER_CLOSED="serverClosed";B.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged";B.TOPOLOGY_OPENING="topologyOpening";B.TOPOLOGY_CLOSED="topologyClosed";B.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged";B.CONNECTION_POOL_CREATED="connectionPoolCreated";B.CONNECTION_POOL_CLOSED="connectionPoolClosed";B.CONNECTION_POOL_CLEARED="connectionPoolCleared";B.CONNECTION_POOL_READY="connectionPoolReady";B.CONNECTION_CREATED="connectionCreated";B.CONNECTION_READY="connectionReady";B.CONNECTION_CLOSED="connectionClosed";B.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted";B.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed";B.CONNECTION_CHECKED_OUT="connectionCheckedOut";B.CONNECTION_CHECKED_IN="connectionCheckedIn";B.CLUSTER_TIME_RECEIVED="clusterTimeReceived";B.COMMAND_STARTED="commandStarted";B.COMMAND_SUCCEEDED="commandSucceeded";B.COMMAND_FAILED="commandFailed";B.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted";B.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded";B.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed";B.RESPONSE="response";B.MORE="more";B.INIT="init";B.CHANGE="change";B.END="end";B.RESUME_TOKEN_CHANGED="resumeTokenChanged";B.HEARTBEAT_EVENTS=Object.freeze([B.SERVER_HEARTBEAT_STARTED,B.SERVER_HEARTBEAT_SUCCEEDED,B.SERVER_HEARTBEAT_FAILED]);B.CMAP_EVENTS=Object.freeze([B.CONNECTION_POOL_CREATED,B.CONNECTION_POOL_READY,B.CONNECTION_POOL_CLEARED,B.CONNECTION_POOL_CLOSED,B.CONNECTION_CREATED,B.CONNECTION_READY,B.CONNECTION_CLOSED,B.CONNECTION_CHECK_OUT_STARTED,B.CONNECTION_CHECK_OUT_FAILED,B.CONNECTION_CHECKED_OUT,B.CONNECTION_CHECKED_IN]);B.TOPOLOGY_EVENTS=Object.freeze([B.SERVER_OPENING,B.SERVER_CLOSED,B.SERVER_DESCRIPTION_CHANGED,B.TOPOLOGY_OPENING,B.TOPOLOGY_CLOSED,B.TOPOLOGY_DESCRIPTION_CHANGED,B.ERROR,B.TIMEOUT,B.CLOSE]);B.APM_EVENTS=Object.freeze([B.COMMAND_STARTED,B.COMMAND_SUCCEEDED,B.COMMAND_FAILED]);B.SERVER_RELAY_EVENTS=Object.freeze([B.SERVER_HEARTBEAT_STARTED,B.SERVER_HEARTBEAT_SUCCEEDED,B.SERVER_HEARTBEAT_FAILED,B.COMMAND_STARTED,B.COMMAND_SUCCEEDED,B.COMMAND_FAILED,...B.CMAP_EVENTS]);B.LOCAL_SERVER_EVENTS=Object.freeze([B.CONNECT,B.DESCRIPTION_RECEIVED,B.CLOSED,B.ENDED]);B.MONGO_CLIENT_EVENTS=Object.freeze([...B.CMAP_EVENTS,...B.APM_EVENTS,...B.TOPOLOGY_EVENTS,...B.HEARTBEAT_EVENTS]);B.LEGACY_HELLO_COMMAND="ismaster";B.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster"});var bn=y(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.ReadConcern=Qn.ReadConcernLevel=void 0;Qn.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});var v2=class t{constructor(e){this.level=Qn.ReadConcernLevel[e]??e}static fromOptions(e){if(e!=null){if(e.readConcern){let{readConcern:r}=e;if(r instanceof t)return r;if(typeof r=="string")return new t(r);if("level"in r&&r.level)return new t(r.level)}if(e.level)return new t(e.level)}}static get MAJORITY(){return Qn.ReadConcernLevel.majority}static get AVAILABLE(){return Qn.ReadConcernLevel.available}static get LINEARIZABLE(){return Qn.ReadConcernLevel.linearizable}static get SNAPSHOT(){return Qn.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}};Qn.ReadConcern=v2});var It=y(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ReadPreference=yr.ReadPreferenceMode=void 0;var vo=Q();yr.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});var qt=class t{constructor(e,r,n){if(!t.isValid(e))throw new vo.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(e)}`);if(n==null&&typeof r=="object"&&!Array.isArray(r))n=r,r=void 0;else if(r&&!Array.isArray(r))throw new vo.MongoInvalidArgumentError("ReadPreference tags must be an array");if(this.mode=e,this.tags=r,this.hedge=n?.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,n=n??{},n.maxStalenessSeconds!=null){if(n.maxStalenessSeconds<=0)throw new vo.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=n.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===t.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new vo.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new vo.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new vo.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(e){return new t(e)}static fromOptions(e){if(!e)return;let r=e.readPreference??e.session?.transaction.options.readPreference,n=e.readPreferenceTags;if(r!=null){if(typeof r=="string")return new t(r,n,{maxStalenessSeconds:e.maxStalenessSeconds,hedge:e.hedge});if(!(r instanceof t)&&typeof r=="object"){let s=r.mode||r.preference;if(s&&typeof s=="string")return new t(s,r.tags??n,{maxStalenessSeconds:r.maxStalenessSeconds,hedge:e.hedge})}return n&&(r.tags=n),r}}static translate(e){if(e.readPreference==null)return e;let r=e.readPreference;if(typeof r=="string")e.readPreference=new t(r);else if(r&&!(r instanceof t)&&typeof r=="object"){let n=r.mode||r.preference;n&&typeof n=="string"&&(e.readPreference=new t(n,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds}))}else if(!(r instanceof t))throw new vo.MongoInvalidArgumentError(`Invalid read preference: ${r}`);return e}static isValid(e){return new Set([t.PRIMARY,t.PRIMARY_PREFERRED,t.SECONDARY,t.SECONDARY_PREFERRED,t.NEAREST,null]).has(e)}isValid(e){return t.isValid(typeof e=="string"?e:this.mode)}secondaryOk(){return new Set([t.PRIMARY_PREFERRED,t.SECONDARY,t.SECONDARY_PREFERRED,t.NEAREST]).has(this.mode)}equals(e){return e.mode===this.mode}toJSON(){let e={mode:this.mode};return Array.isArray(this.tags)&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),this.hedge&&(e.hedge=this.hedge),e}};qt.PRIMARY=yr.ReadPreferenceMode.primary;qt.PRIMARY_PREFERRED=yr.ReadPreferenceMode.primaryPreferred;qt.SECONDARY=yr.ReadPreferenceMode.secondary;qt.SECONDARY_PREFERRED=yr.ReadPreferenceMode.secondaryPreferred;qt.NEAREST=yr.ReadPreferenceMode.nearest;qt.primary=new qt(yr.ReadPreferenceMode.primary);qt.primaryPreferred=new qt(yr.ReadPreferenceMode.primaryPreferred);qt.secondary=new qt(yr.ReadPreferenceMode.secondary);qt.secondaryPreferred=new qt(yr.ReadPreferenceMode.secondaryPreferred);qt.nearest=new qt(yr.ReadPreferenceMode.nearest);yr.ReadPreference=qt});var Dn=y(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt._advanceClusterTime=Lt.drainTimerQueue=Lt.ServerType=Lt.TopologyType=Lt.STATE_CONNECTED=Lt.STATE_CONNECTING=Lt.STATE_CLOSED=Lt.STATE_CLOSING=void 0;var vv=require("timers");Lt.STATE_CLOSING="closing";Lt.STATE_CLOSED="closed";Lt.STATE_CONNECTING="connecting";Lt.STATE_CONNECTED="connected";Lt.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"});Lt.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"});function kv(t){t.forEach(vv.clearTimeout),t.clear()}Lt.drainTimerQueue=kv;function qv(t,e){(t.clusterTime==null||e.clusterTime.greaterThan(t.clusterTime.clusterTime))&&(t.clusterTime=e)}Lt._advanceClusterTime=qv});var qr=y(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.WriteConcern=Uu.WRITE_CONCERN_KEYS=void 0;Uu.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];var k2=class t{constructor(e,r,n,s){e!=null&&(Number.isNaN(Number(e))?this.w=e:this.w=Number(e)),r!=null&&(this.wtimeoutMS=this.wtimeout=r),n!=null&&(this.journal=this.j=n),s!=null&&(this.journal=this.j=!!s)}static apply(e,r){let n={};return r.w!=null&&(n.w=r.w),r.wtimeoutMS!=null&&(n.wtimeout=r.wtimeoutMS),r.journal!=null&&(n.j=r.j),e.writeConcern=n,e}static fromOptions(e,r){if(e==null)return;r=r??{};let n;typeof e=="string"||typeof e=="number"?n={w:e}:e instanceof t?n=e:n=e.writeConcern;let s=r instanceof t?r:r.writeConcern,{w:i=void 0,wtimeout:o=void 0,j:u=void 0,fsync:a=void 0,journal:c=void 0,wtimeoutMS:l=void 0}={...s,...n};if(i!=null||o!=null||l!=null||u!=null||c!=null||a!=null)return new t(i,o??l,u??c,a)}};Uu.WriteConcern=k2});var ne=y(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.matchesParentDomain=q.parseUnsignedInteger=q.parseInteger=q.compareObjectId=q.getMongoDBClientEncryption=q.commandSupportsReadConcern=q.shuffle=q.supportsRetryableWrites=q.enumToString=q.emitWarningOnce=q.emitWarning=q.MONGODB_WARNING_CODE=q.DEFAULT_PK_FACTORY=q.HostAddress=q.BufferPool=q.List=q.deepCopy=q.isRecord=q.setDifference=q.isHello=q.isSuperset=q.resolveOptions=q.hasAtomicOperators=q.calculateDurationInMs=q.now=q.makeStateMachine=q.errorStrictEqual=q.arrayStrictEqual=q.eachAsync=q.maxWireVersion=q.uuidV4=q.databaseNamespace=q.maybeCallback=q.makeCounter=q.MongoDBCollectionNamespace=q.MongoDBNamespace=q.ns=q.getTopology=q.decorateWithExplain=q.decorateWithReadConcern=q.decorateWithCollation=q.isPromiseLike=q.applyRetryableWrites=q.filterOptions=q.mergeOptions=q.isObject=q.normalizeHintField=q.checkCollectionName=q.hostMatchesWildcards=q.ByteUtils=void 0;q.request=void 0;var Lv=require("crypto"),jv=require("http"),Uv=require("url"),Vv=require("url"),L8=pt(),Wv=xo(),zv=kt(),gr=Q(),Hv=bn(),Gv=It(),Kv=Dn(),Yv=qr();q.ByteUtils={toLocalBufferType(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)},equals(t,e){return q.ByteUtils.toLocalBufferType(t).equals(e)},compare(t,e){return q.ByteUtils.toLocalBufferType(t).compare(e)},toBase64(t){return q.ByteUtils.toLocalBufferType(t).toString("base64")}};function Qv(t,e){for(let r of e)if(t===r||r.startsWith("*.")&&t?.endsWith(r.substring(2,r.length))||r.startsWith("*/")&&t?.endsWith(r.substring(2,r.length)))return!0;return!1}q.hostMatchesWildcards=Qv;function Jv(t){if(typeof t!="string")throw new gr.MongoInvalidArgumentError("Collection name must be a String");if(!t||t.indexOf("..")!==-1)throw new gr.MongoInvalidArgumentError("Collection names cannot be empty");if(t.indexOf("$")!==-1&&t.match(/((^\$cmd)|(oplog\.\$main))/)==null)throw new gr.MongoInvalidArgumentError("Collection names must not contain '$'");if(t.match(/^\.|\.$/)!=null)throw new gr.MongoInvalidArgumentError("Collection names must not start or end with '.'");if(t.indexOf("\0")!==-1)throw new gr.MongoInvalidArgumentError("Collection names cannot contain a null character")}q.checkCollectionName=Jv;function Xv(t){let e;if(typeof t=="string")e=t;else if(Array.isArray(t))e={},t.forEach(r=>{e[r]=1});else if(t!=null&&typeof t=="object"){e={};for(let r in t)e[r]=t[r]}return e}q.normalizeHintField=Xv;var Zv=t=>Object.prototype.toString.call(t);function q2(t){return Zv(t)==="[object Object]"}q.isObject=q2;function ek(t,e){return{...t,...e}}q.mergeOptions=ek;function tk(t,e){let r={};for(let n in t)e.includes(n)&&(r[n]=t[n]);return r}q.filterOptions=tk;function rk(t,e){return e&&e.s.options?.retryWrites&&(t.retryWrites=!0),t}q.applyRetryableWrites=rk;function nk(t){return!!t&&typeof t.then=="function"}q.isPromiseLike=nk;function sk(t,e,r){let n=j8(e).capabilities;if(r.collation&&typeof r.collation=="object")if(n&&n.commandsTakeCollation)t.collation=r.collation;else throw new gr.MongoCompatibilityError("Current topology does not support collation")}q.decorateWithCollation=sk;function ik(t,e,r){if(r&&r.session&&r.session.inTransaction())return;let n=Object.assign({},t.readConcern||{});e.s.readConcern&&Object.assign(n,e.s.readConcern),Object.keys(n).length>0&&Object.assign(t,{readConcern:n})}q.decorateWithReadConcern=ik;function ok(t,e){return t.explain?t:{explain:t,verbosity:e.verbosity}}q.decorateWithExplain=ok;function j8(t){if("topology"in t&&t.topology)return t.topology;if("client"in t&&t.client.topology)return t.client.topology;throw new gr.MongoNotConnectedError("MongoClient must be connected to perform this operation")}q.getTopology=j8;function uk(t){return Gc.fromString(t)}q.ns=uk;var Gc=class t{constructor(e,r){this.db=e,this.collection=r,this.collection=r===""?void 0:r}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection(e){return new sf(this.db,e)}static fromString(e){if(typeof e!="string"||e==="")throw new gr.MongoRuntimeError(`Cannot parse namespace from "${e}"`);let[r,...n]=e.split("."),s=n.join(".");return new t(r,s===""?void 0:s)}};q.MongoDBNamespace=Gc;var sf=class extends Gc{constructor(e,r){super(e,r),this.collection=r}};q.MongoDBCollectionNamespace=sf;function*ak(t=0){let e=t;for(;;){let r=e;e+=1,yield r}}q.makeCounter=ak;function ck(t,e){let r=t();if(e==null)return r;r.then(n=>e(void 0,n),n=>e(n))}q.maybeCallback=ck;function lk(t){return t.split(".")[0]}q.databaseNamespace=lk;function fk(){let t=Lv.randomBytes(16);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,t}q.uuidV4=fk;function hk(t){if(t){if(t.loadBalanced)return Wv.MAX_SUPPORTED_WIRE_VERSION;if(t.hello)return t.hello.maxWireVersion;if("lastHello"in t&&typeof t.lastHello=="function"){let e=t.lastHello();if(e)return e.maxWireVersion}if(t.description&&"maxWireVersion"in t.description&&t.description.maxWireVersion!=null)return t.description.maxWireVersion}return 0}q.maxWireVersion=hk;function dk(t,e,r){t=t||[];let n=0,s=0;for(n=0;n<t.length;++n)s++,e(t[n],i);if(s===0){r();return}function i(o){if(s--,o){r(o);return}n===t.length&&s<=0&&r()}}q.eachAsync=dk;function pk(t,e){return!Array.isArray(t)||!Array.isArray(e)?!1:t.length===e.length&&t.every((r,n)=>r===e[n])}q.arrayStrictEqual=pk;function mk(t,e){return t===e?!0:!t||!e?t===e:!(t==null&&e!=null||t!=null&&e==null||t.constructor.name!==e.constructor.name||t.message!==e.message)}q.errorStrictEqual=mk;function yk(t){return function(r,n){let s=t[r.s.state];if(s&&s.indexOf(n)<0)throw new gr.MongoRuntimeError(`illegal state transition from [${r.s.state}] => [${n}], allowed: [${s}]`);r.emit("stateChanged",r.s.state,n),r.s.state=n}}q.makeStateMachine=yk;function U8(){let t=process.hrtime();return Math.floor(t[0]*1e3+t[1]/1e6)}q.now=U8;function gk(t){if(typeof t!="number")throw new gr.MongoInvalidArgumentError("Numeric value required to calculate duration");let e=U8()-t;return e<0?0:e}q.calculateDurationInMs=gk;function V8(t){if(Array.isArray(t)){for(let r of t)if(V8(r))return!0;return!1}let e=Object.keys(t);return e.length>0&&e[0][0]==="$"}q.hasAtomicOperators=V8;function Ek(t,e){let r=Object.assign({},e,(0,L8.resolveBSONOptions)(e,t));if(!e?.session?.inTransaction()){let i=Hv.ReadConcern.fromOptions(e)??t?.readConcern;i&&(r.readConcern=i);let o=Yv.WriteConcern.fromOptions(e)??t?.writeConcern;o&&(r.writeConcern=o)}let s=Gv.ReadPreference.fromOptions(e)??t?.readPreference;return s&&(r.readPreference=s),r}q.resolveOptions=Ek;function W8(t,e){t=Array.isArray(t)?new Set(t):t,e=Array.isArray(e)?new Set(e):e;for(let r of e)if(!t.has(r))return!1;return!0}q.isSuperset=W8;function _k(t){return!!(t[zv.LEGACY_HELLO_COMMAND]||t.hello)}q.isHello=_k;function Ak(t,e){let r=new Set(t);for(let n of e)r.delete(n);return r}q.setDifference=Ak;var Ok=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function z8(t,e=void 0){if(!q2(t))return!1;let r=t.constructor;if(r&&r.prototype&&(!q2(r.prototype)||!Ok(r.prototype,"isPrototypeOf")))return!1;if(e){let n=Object.keys(t);return W8(n,e)}return!0}q.isRecord=z8;function L2(t){if(t==null)return t;if(Array.isArray(t))return t.map(r=>L2(r));if(z8(t)){let r={};for(let n in t)r[n]=L2(t[n]);return r}let e=t.constructor;if(e)switch(e.name.toLowerCase()){case"date":return new e(Number(t));case"map":return new Map(t);case"set":return new Set(t);case"buffer":return Buffer.from(t)}return t}q.deepCopy=L2;var of=class{get length(){return this.count}get[Symbol.toStringTag](){return"List"}constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(let e of this.nodes())yield e.value}*nodes(){let e=this.head.next;for(;e!==this.head;){let{next:r}=e;yield e,e=r}}push(e){this.count+=1;let r={next:this.head,prev:this.head.prev,value:e};this.head.prev.next=r,this.head.prev=r}pushMany(e){for(let r of e)this.push(r)}unshift(e){this.count+=1;let r={next:this.head.next,prev:this.head,value:e};this.head.next.prev=r,this.head.next=r}remove(e){if(e===this.head||this.length===0)return null;this.count-=1;let r=e.prev,n=e.next;return r.next=n,n.prev=r,e.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune(e){for(let r of this.nodes())e(r.value)&&this.remove(r)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}};q.List=of;var j2=class{constructor(){this.buffers=new of,this.totalByteLength=0}get length(){return this.totalByteLength}append(e){this.buffers.push(e),this.totalByteLength+=e.length}getInt32(){if(this.totalByteLength<4)return null;let e=this.buffers.first();if(e!=null&&e.byteLength>=4)return e.readInt32LE(0);let r=this.read(4),n=r.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(r),n}read(e){if(typeof e!="number"||e<0)throw new gr.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if(e>this.totalByteLength)return Buffer.alloc(0);let r=Buffer.allocUnsafe(e);for(let n=0;n<e;){let s=this.buffers.shift();if(s==null)break;let i=e-n,o=Math.min(i,s.byteLength),u=s.subarray(0,o);r.set(u,n),n+=o,this.totalByteLength-=o,o<s.byteLength&&this.buffers.unshift(s.subarray(o))}return r}};q.BufferPool=j2;var U2=class t{constructor(e){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;let r=e.split(" ").join("%20");if(r.endsWith(".sock")){this.socketPath=decodeURIComponent(r);return}let n=`iLoveJS://${r}`,s;try{s=new Vv.URL(n)}catch(a){let c=new gr.MongoRuntimeError(`Unable to parse ${r} with URL`);throw c.cause=a,c}let i=s.hostname,o=s.port,u=decodeURIComponent(i).toLowerCase();if(u.startsWith("[")&&u.endsWith("]")&&(this.isIPv6=!0,u=u.substring(1,i.length-1)),this.host=u.toLowerCase(),typeof o=="number"?this.port=o:typeof o=="string"&&o!==""?this.port=Number.parseInt(o,10):this.port=27017,this.port===0)throw new gr.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){return typeof this.host=="string"?this.isIPv6?`[${this.host}]:${this.port}`:`${this.host}:${this.port}`:`${this.socketPath}`}static fromString(e){return new t(e)}static fromHostPort(e,r){return e.includes(":")&&(e=`[${e}]`),t.fromString(`${e}:${r}`)}static fromSrvRecord({name:e,port:r}){return t.fromHostPort(e,r)}toHostPort(){if(this.socketPath)return{host:this.socketPath,port:0};let e=this.host??"",r=this.port??0;return{host:e,port:r}}};q.HostAddress=U2;q.DEFAULT_PK_FACTORY={createPk(){return new L8.ObjectId}};q.MONGODB_WARNING_CODE="MONGODB DRIVER";function H8(t){return process.emitWarning(t,{code:q.MONGODB_WARNING_CODE})}q.emitWarning=H8;var q8=new Set;function Ck(t){if(!q8.has(t))return q8.add(t),H8(t)}q.emitWarningOnce=Ck;function Sk(t){return Object.values(t).join(", ")}q.enumToString=Sk;function wk(t){return t?!!(t.loadBalanced||t.description.logicalSessionTimeoutMinutes!=null&&t.description.type!==Kv.ServerType.Standalone):!1}q.supportsRetryableWrites=wk;function bk(t,e=0){let r=Array.from(t);if(e>r.length)throw new gr.MongoRuntimeError("Limit must be less than the number of items");let n=r.length,s=e%r.length===0?1:r.length-e;for(;n>s;){let i=Math.floor(Math.random()*n);n-=1;let o=r[n];r[n]=r[i],r[i]=o}return e%r.length===0?r:r.slice(s)}q.shuffle=bk;function Dk(t,e){return!!(t.aggregate||t.count||t.distinct||t.find||t.geoNear||t.mapReduce&&e&&e.out&&(e.out.inline===1||e.out==="inline"))}q.commandSupportsReadConcern=Dk;function Bk(){let t=null;if(typeof process.env.MONGODB_CLIENT_ENCRYPTION_OVERRIDE=="string"&&process.env.MONGODB_CLIENT_ENCRYPTION_OVERRIDE.length>0)try{t=require(process.env.MONGODB_CLIENT_ENCRYPTION_OVERRIDE)}catch{}else try{t=require("mongodb-client-encryption")}catch{}return t}q.getMongoDBClientEncryption=Bk;function Tk(t,e){return t==null&&e==null?0:t==null?-1:e==null?1:q.ByteUtils.compare(t.id,e.id)}q.compareObjectId=Tk;function G8(t){if(typeof t=="number")return Math.trunc(t);let e=Number.parseInt(String(t),10);return Number.isNaN(e)?null:e}q.parseInteger=G8;function Pk(t){let e=G8(t);return e!=null&&e>=0?e:null}q.parseUnsignedInteger=Pk;function Mk(t,e){let r=t.endsWith(".")?t.slice(0,t.length-1):t,n=e.endsWith(".")?e.slice(0,e.length-1):e,s=/^.*?\./,i=`.${r.replace(s,"")}`,o=`.${n.replace(s,"")}`;return i.endsWith(o)}q.matchesParentDomain=Mk;async function Fk(t,e={}){return new Promise((r,n)=>{let s={method:"GET",timeout:1e4,json:!0,...Uv.parse(t),...e},i=jv.request(s,o=>{o.setEncoding("utf8");let u="";o.on("data",a=>{u+=a}),o.once("end",()=>{if(e.json===!1){r(u);return}try{let a=JSON.parse(u);r(a)}catch{n(new gr.MongoRuntimeError(`Invalid JSON response: "${u}"`))}})});i.once("timeout",()=>i.destroy(new gr.MongoNetworkTimeoutError(`Network request to ${t} timed out after ${e.timeout} ms`))),i.once("error",o=>n(o)),i.end()})}q.request=Fk});var W2=y(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.Explain=Vi.ExplainVerbosity=void 0;var Ik=Q();Vi.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});var V2=class t{constructor(e){typeof e=="boolean"?this.verbosity=e?Vi.ExplainVerbosity.allPlansExecution:Vi.ExplainVerbosity.queryPlanner:this.verbosity=e}static fromOptions(e){if(e?.explain==null)return;let r=e.explain;if(typeof r=="boolean"||typeof r=="string")return new t(r);throw new Ik.MongoInvalidArgumentError('Field "explain" must be a string or a boolean')}};Vi.Explain=V2});var Yc=y(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.readPreferenceServerSelector=un.secondaryWritableServerSelector=un.sameServerSelector=un.writableServerSelector=un.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0;var af=Q(),Kc=It(),an=Dn(),$k=1e4,K8=90;un.MIN_SECONDARY_WRITE_WIRE_VERSION=13;function Nk(){return(t,e)=>z2(t,e.filter(r=>r.isWritable))}un.writableServerSelector=Nk;function Rk(t){return(e,r)=>t?r.filter(n=>n.address===t.address&&n.type!==an.ServerType.Unknown):[]}un.sameServerSelector=Rk;function xk(t,e){return!e||!t||t&&t<un.MIN_SECONDARY_WRITE_WIRE_VERSION?H2(Kc.ReadPreference.primary):H2(e)}un.secondaryWritableServerSelector=xk;function vk(t,e,r){if(t.maxStalenessSeconds==null||t.maxStalenessSeconds<0)return r;let n=t.maxStalenessSeconds,s=(e.heartbeatFrequencyMS+$k)/1e3;if(n<s)throw new af.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${s} seconds`);if(n<K8)throw new af.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${K8} seconds`);if(e.type===an.TopologyType.ReplicaSetWithPrimary){let i=Array.from(e.servers.values()).filter(uf)[0];return r.reduce((o,u)=>{let c=(u.lastUpdateTime-u.lastWriteDate-(i.lastUpdateTime-i.lastWriteDate)+e.heartbeatFrequencyMS)/1e3,l=t.maxStalenessSeconds??0;return c<=l&&o.push(u),o},[])}if(e.type===an.TopologyType.ReplicaSetNoPrimary){if(r.length===0)return r;let i=r.reduce((o,u)=>u.lastWriteDate>o.lastWriteDate?u:o);return r.reduce((o,u)=>{let c=(i.lastWriteDate-u.lastWriteDate+e.heartbeatFrequencyMS)/1e3,l=t.maxStalenessSeconds??0;return c<=l&&o.push(u),o},[])}return r}function kk(t,e){let r=Object.keys(t),n=Object.keys(e);for(let s=0;s<r.length;++s){let i=r[s];if(n.indexOf(i)===-1||e[i]!==t[i])return!1}return!0}function qk(t,e){if(t.tags==null||Array.isArray(t.tags)&&t.tags.length===0)return e;for(let r=0;r<t.tags.length;++r){let n=t.tags[r],s=e.reduce((i,o)=>(kk(n,o.tags)&&i.push(o),i),[]);if(s.length)return s}return[]}function z2(t,e){let r=e.reduce((s,i)=>s===-1?i.roundTripTime:Math.min(i.roundTripTime,s),-1),n=r+t.localThresholdMS;return e.reduce((s,i)=>(i.roundTripTime<=n&&i.roundTripTime>=r&&s.push(i),s),[])}function uf(t){return t.type===an.ServerType.RSPrimary}function Lk(t){return t.type===an.ServerType.RSSecondary}function jk(t){return t.type===an.ServerType.RSSecondary||t.type===an.ServerType.RSPrimary}function Uk(t){return t.type!==an.ServerType.Unknown}function Vk(t){return t.type===an.ServerType.LoadBalancer}function H2(t){if(!t.isValid())throw new af.MongoInvalidArgumentError("Invalid read preference specified");return(e,r)=>{let n=e.commonWireVersion;if(n&&t.minWireVersion&&t.minWireVersion>n)throw new af.MongoCompatibilityError(`Minimum wire version '${t.minWireVersion}' required, but found '${n}'`);if(e.type===an.TopologyType.LoadBalanced)return r.filter(Vk);if(e.type===an.TopologyType.Unknown)return[];if(e.type===an.TopologyType.Single||e.type===an.TopologyType.Sharded)return z2(e,r.filter(Uk));let s=t.mode;if(s===Kc.ReadPreference.PRIMARY)return r.filter(uf);if(s===Kc.ReadPreference.PRIMARY_PREFERRED){let u=r.filter(uf);if(u.length)return u}let i=s===Kc.ReadPreference.NEAREST?jk:Lk,o=z2(e,qk(t,vk(t,e,r.filter(i))));return s===Kc.ReadPreference.SECONDARY_PREFERRED&&o.length===0?r.filter(uf):o}}un.readPreferenceServerSelector=H2});var Ne=y(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.defineAspects=Jn.AbstractCallbackOperation=Jn.AbstractOperation=Jn.Aspect=void 0;var Wk=require("util"),zk=pt(),G2=It();Jn.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER")};var K2=Symbol("session"),cf=class{constructor(e={}){this.readPreference=this.hasAspect(Jn.Aspect.WRITE_OPERATION)?G2.ReadPreference.primary:G2.ReadPreference.fromOptions(e)??G2.ReadPreference.primary,this.bsonOptions=(0,zk.resolveBSONOptions)(e),this[K2]=e.session!=null?e.session:void 0,this.options=e,this.bypassPinningCheck=!!e.bypassPinningCheck,this.trySecondaryWrite=!1}hasAspect(e){let r=this.constructor;return r.aspects==null?!1:r.aspects.has(e)}get session(){return this[K2]}clearSession(){this[K2]=void 0}get canRetryRead(){return!0}get canRetryWrite(){return!0}};Jn.AbstractOperation=cf;var Y2=class extends cf{constructor(e={}){super(e)}execute(e,r){return(0,Wk.promisify)(n=>{this.executeCallback(e,r,n)})()}};Jn.AbstractCallbackOperation=Y2;function Hk(t,e){return!Array.isArray(e)&&!(e instanceof Set)&&(e=[e]),e=new Set(e),Object.defineProperty(t,"aspects",{value:e,writable:!1}),e}Jn.defineAspects=Hk});var mt=y(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.CommandCallbackOperation=Wu.CommandOperation=void 0;var Gk=Q(),Kk=W2(),Yk=bn(),Qk=Yc(),Qc=ne(),Y8=qr(),Vu=Ne(),lf=class extends Vu.AbstractCallbackOperation{constructor(e,r){super(r),this.options=r??{};let n=r?.dbName||r?.authdb;if(n?this.ns=new Qc.MongoDBNamespace(n,"$cmd"):this.ns=e?e.s.namespace.withCollection("$cmd"):new Qc.MongoDBNamespace("admin","$cmd"),this.readConcern=Yk.ReadConcern.fromOptions(r),this.writeConcern=Y8.WriteConcern.fromOptions(r),this.hasAspect(Vu.Aspect.EXPLAINABLE))this.explain=Kk.Explain.fromOptions(r);else if(r?.explain!=null)throw new Gk.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){return this.hasAspect(Vu.Aspect.EXPLAINABLE)?this.explain==null:!0}async executeCommand(e,r,n){this.server=e;let s={...this.options,...this.bsonOptions,readPreference:this.readPreference,session:r},i=(0,Qc.maxWireVersion)(e),o=this.session&&this.session.inTransaction();return this.readConcern&&(0,Qc.commandSupportsReadConcern)(n)&&!o&&Object.assign(n,{readConcern:this.readConcern}),this.trySecondaryWrite&&i<Qk.MIN_SECONDARY_WRITE_WIRE_VERSION&&(s.omitReadPreference=!0),this.writeConcern&&this.hasAspect(Vu.Aspect.WRITE_OPERATION)&&!o&&Y8.WriteConcern.apply(n,this.writeConcern),s.collation&&typeof s.collation=="object"&&!this.hasAspect(Vu.Aspect.SKIP_COLLATION)&&Object.assign(n,{collation:s.collation}),typeof s.maxTimeMS=="number"&&(n.maxTimeMS=s.maxTimeMS),this.hasAspect(Vu.Aspect.EXPLAINABLE)&&this.explain&&(n=(0,Qc.decorateWithExplain)(n,this.explain)),e.commandAsync(this.ns,n,s)}};Wu.CommandOperation=lf;var Q2=class extends lf{constructor(e,r){super(e,r)}executeCommandCallback(e,r,n,s){super.executeCommand(e,r,n).then(i=>s(void 0,i),i=>s(i,void 0))}};Wu.CommandCallbackOperation=Q2});var J2=y(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.AddUserOperation=void 0;var Jk=require("crypto"),Xk=Q(),Q8=ne(),Zk=mt(),J8=Ne(),ff=class extends Zk.CommandCallbackOperation{constructor(e,r,n,s){super(e,s),this.db=e,this.username=r,this.password=n,this.options=s??{}}executeCallback(e,r,n){let s=this.db,i=this.username,o=this.password,u=this.options;if("digestPassword"in u&&u.digestPassword!=null)return n(new Xk.MongoInvalidArgumentError('Option "digestPassword" not supported via addUser, use db.command(...) instead'));let a;!u.roles||Array.isArray(u.roles)&&u.roles.length===0?((0,Q8.emitWarningOnce)('Creating a user without roles is deprecated. Defaults to "root" if db is "admin" or "dbOwner" otherwise'),s.databaseName.toLowerCase()==="admin"?a=["root"]:a=["dbOwner"]):a=Array.isArray(u.roles)?u.roles:[u.roles];let c;try{c=(0,Q8.getTopology)(s)}catch(d){return n(d)}let l=c.lastHello().maxWireVersion>=7,f=o;if(!l){let d=Jk.createHash("md5");d.update(`${i}:mongo:${o}`),f=d.digest("hex")}let h={createUser:i,customData:u.customData||{},roles:a,digestPassword:l};typeof o=="string"&&(h.pwd=f),super.executeCommandCallback(e,r,h,n)}};hf.AddUserOperation=ff;(0,J8.defineAspects)(ff,[J8.Aspect.WRITE_OPERATION])});var cn=y(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.executeOperation=void 0;var Pr=Q(),X8=It(),Z8=Yc(),X2=ne(),Wi=Ne(),eq=Pr.MONGODB_ERROR_CODES.IllegalOperation,e7="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";function tq(t,e,r){return(0,X2.maybeCallback)(()=>rq(t,e),r)}df.executeOperation=tq;async function rq(t,e){if(!(e instanceof Wi.AbstractCallbackOperation))throw new Pr.MongoRuntimeError("This method requires a valid operation instance");if(t.topology==null){if(t.s.hasBeenClosed)throw new Pr.MongoNotConnectedError("Client must be connected before running operations");t.s.options[Symbol.for("@@mdb.skipPingOnConnect")]=!0;try{await t.connect()}finally{delete t.s.options[Symbol.for("@@mdb.skipPingOnConnect")]}}let{topology:r}=t;if(r==null)throw new Pr.MongoRuntimeError("client.connect did not create a topology but also did not throw");let n=e.session,s;if(n==null)s=Symbol(),n=t.startSession({owner:s,explicit:!1});else{if(n.hasEnded)throw new Pr.MongoExpiredSessionError("Use of expired sessions is not permitted");if(n.snapshotEnabled&&!r.capabilities.supportsSnapshotReads)throw new Pr.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later")}let i=e.readPreference??X8.ReadPreference.primary,o=!!n?.inTransaction();if(o&&!i.equals(X8.ReadPreference.primary))throw new Pr.MongoTransactionError(`Read preference in a transaction must be primary, not: ${i.mode}`);n?.isPinned&&n.transaction.isCommitted&&!e.bypassPinningCheck&&n.unpin();let u;e.hasAspect(Wi.Aspect.MUST_SELECT_SAME_SERVER)?u=(0,Z8.sameServerSelector)(e.server?.description):e.trySecondaryWrite?u=(0,Z8.secondaryWritableServerSelector)(r.commonWireVersion,i):u=i;let a=await r.selectServerAsync(u,{session:n});if(n==null)return e.execute(a,void 0);if(!e.hasAspect(Wi.Aspect.RETRYABLE))try{return await e.execute(a,n)}finally{n?.owner!=null&&n.owner===s&&await n.endSession().catch(()=>null)}let c=r.s.options.retryReads&&!o&&e.canRetryRead,l=r.s.options.retryWrites&&!o&&(0,X2.supportsRetryableWrites)(a)&&e.canRetryWrite,f=e.hasAspect(Wi.Aspect.READ_OPERATION),h=e.hasAspect(Wi.Aspect.WRITE_OPERATION),d=f&&c||h&&l;h&&l&&(e.options.willRetryWrite=!0,n.incrementTransactionNumber());try{return await e.execute(a,n)}catch(p){if(d&&p instanceof Pr.MongoError)return await nq(e,p,{session:n,topology:r,selector:u});throw p}finally{n?.owner!=null&&n.owner===s&&await n.endSession().catch(()=>null)}}async function nq(t,e,{session:r,topology:n,selector:s}){let i=t.hasAspect(Wi.Aspect.WRITE_OPERATION),o=t.hasAspect(Wi.Aspect.READ_OPERATION);if(i&&e.code===eq)throw new Pr.MongoServerError({message:e7,errmsg:e7,originalError:e});if(i&&!(0,Pr.isRetryableWriteError)(e)||o&&!(0,Pr.isRetryableReadError)(e))throw e;e instanceof Pr.MongoNetworkError&&r.isPinned&&!r.inTransaction()&&t.hasAspect(Wi.Aspect.CURSOR_CREATING)&&r.unpin({force:!0,forceClear:!0});let u=await n.selectServerAsync(s,{session:r});if(i&&!(0,X2.supportsRetryableWrites)(u))throw new Pr.MongoUnexpectedServerResponseError("Selected server does not support retryable writes");try{return await t.execute(u,r)}catch(a){throw a instanceof Pr.MongoError&&a.hasErrorLabel(Pr.MongoErrorLabel.NoWritesPerformed)?e:a}}});var r7=y(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.ListDatabasesOperation=void 0;var t7=ne(),sq=mt(),Z2=Ne(),pf=class extends sq.CommandCallbackOperation{constructor(e,r){super(e,r),this.options=r??{},this.ns=new t7.MongoDBNamespace("admin","$cmd")}executeCallback(e,r,n){let s={listDatabases:1};typeof this.options.nameOnly=="boolean"&&(s.nameOnly=this.options.nameOnly),this.options.filter&&(s.filter=this.options.filter),typeof this.options.authorizedDatabases=="boolean"&&(s.authorizedDatabases=this.options.authorizedDatabases),(0,t7.maxWireVersion)(e)>=9&&this.options.comment!==void 0&&(s.comment=this.options.comment),super.executeCommandCallback(e,r,s,n)}};mf.ListDatabasesOperation=pf;(0,Z2.defineAspects)(pf,[Z2.Aspect.READ_OPERATION,Z2.Aspect.RETRYABLE])});var ey=y(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.RemoveUserOperation=void 0;var iq=mt(),n7=Ne(),yf=class extends iq.CommandCallbackOperation{constructor(e,r,n){super(e,n),this.options=n,this.username=r}executeCallback(e,r,n){super.executeCommandCallback(e,r,{dropUser:this.username},s=>{n(s,!s)})}};gf.RemoveUserOperation=yf;(0,n7.defineAspects)(yf,[n7.Aspect.WRITE_OPERATION])});var Hu=y(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.RunAdminCommandOperation=zu.RunCommandOperation=void 0;var oq=ne(),uq=mt(),Ef=class extends uq.CommandCallbackOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.command=r}executeCallback(e,r,n){let s=this.command;this.executeCommandCallback(e,r,s,n)}};zu.RunCommandOperation=Ef;var ty=class extends Ef{constructor(e,r,n){super(e,r,n),this.ns=new oq.MongoDBNamespace("admin")}};zu.RunAdminCommandOperation=ty});var s7=y(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.ValidateCollectionOperation=void 0;var _f=Q(),aq=mt(),ry=class extends aq.CommandCallbackOperation{constructor(e,r,n){let s={validate:r},i=Object.keys(n);for(let o=0;o<i.length;o++)Object.prototype.hasOwnProperty.call(n,i[o])&&i[o]!=="session"&&(s[i[o]]=n[i[o]]);super(e.s.db,n),this.options=n,this.command=s,this.collectionName=r}executeCallback(e,r,n){let s=this.collectionName;super.executeCommandCallback(e,r,this.command,(i,o)=>i!=null?n(i):o.ok===0?n(new _f.MongoRuntimeError("Error with validate command")):o.result!=null&&typeof o.result!="string"?n(new _f.MongoRuntimeError("Error with validation data")):o.result!=null&&o.result.match(/exception|corrupt/)!=null?n(new _f.MongoRuntimeError(`Invalid collection ${s}`)):o.valid!=null&&!o.valid?n(new _f.MongoRuntimeError(`Invalid collection ${s}`)):n(void 0,o))}};Af.ValidateCollectionOperation=ry});var sy=y(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.Admin=void 0;var cq=J2(),Jc=cn(),lq=r7(),fq=ey(),hq=Hu(),dq=s7(),ny=class{constructor(e){this.s={db:e}}async command(e,r){return(0,Jc.executeOperation)(this.s.db.client,new hq.RunCommandOperation(this.s.db,e,{dbName:"admin",...r}))}async buildInfo(e){return this.command({buildinfo:1},e)}async serverInfo(e){return this.command({buildinfo:1},e)}async serverStatus(e){return this.command({serverStatus:1},e)}async ping(e){return this.command({ping:1},e)}async addUser(e,r,n){n=n!=null&&typeof n=="object"?n:r!=null&&typeof r=="object"?r:void 0;let s=typeof r=="string"?r:void 0;return(0,Jc.executeOperation)(this.s.db.client,new cq.AddUserOperation(this.s.db,e,s,{dbName:"admin",...n}))}async removeUser(e,r){return(0,Jc.executeOperation)(this.s.db.client,new fq.RemoveUserOperation(this.s.db,e,{dbName:"admin",...r}))}async validateCollection(e,r={}){return(0,Jc.executeOperation)(this.s.db.client,new dq.ValidateCollectionOperation(this,e,r))}async listDatabases(e){return(0,Jc.executeOperation)(this.s.db.client,new lq.ListDatabasesOperation(this.s.db,e))}async replSetGetStatus(e){return this.command({replSetGetStatus:1},e)}};Of.Admin=ny});var oy=y(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.makeDeleteStatement=Is.DeleteManyOperation=Is.DeleteOneOperation=Is.DeleteOperation=void 0;var Xc=Q(),pq=mt(),Bn=Ne(),Gu=class extends pq.CommandCallbackOperation{constructor(e,r,n){super(void 0,n),this.options=n,this.ns=e,this.statements=r}get canRetryWrite(){return super.canRetryWrite===!1?!1:this.statements.every(e=>e.limit!=null?e.limit>0:!0)}executeCallback(e,r,n){let s=this.options??{},i=typeof s.ordered=="boolean"?s.ordered:!0,o={delete:this.ns.collection,deletes:this.statements,ordered:i};if(s.let&&(o.let=s.let),s.comment!==void 0&&(o.comment=s.comment),this.writeConcern&&this.writeConcern.w===0&&this.statements.find(a=>a.hint)){n(new Xc.MongoCompatibilityError("hint is not supported with unacknowledged writes"));return}super.executeCommandCallback(e,r,o,n)}};Is.DeleteOperation=Gu;var Cf=class extends Gu{constructor(e,r,n){super(e.s.namespace,[iy(r,{...n,limit:1})],n)}executeCallback(e,r,n){super.executeCallback(e,r,(s,i)=>{if(s||i==null)return n(s);if(i.code)return n(new Xc.MongoServerError(i));if(i.writeErrors)return n(new Xc.MongoServerError(i.writeErrors[0]));if(this.explain)return n(void 0,i);n(void 0,{acknowledged:this.writeConcern?.w!==0,deletedCount:i.n})})}};Is.DeleteOneOperation=Cf;var Sf=class extends Gu{constructor(e,r,n){super(e.s.namespace,[iy(r,n)],n)}executeCallback(e,r,n){super.executeCallback(e,r,(s,i)=>{if(s||i==null)return n(s);if(i.code)return n(new Xc.MongoServerError(i));if(i.writeErrors)return n(new Xc.MongoServerError(i.writeErrors[0]));if(this.explain)return n(void 0,i);n(void 0,{acknowledged:this.writeConcern?.w!==0,deletedCount:i.n})})}};Is.DeleteManyOperation=Sf;function iy(t,e){let r={q:t,limit:typeof e.limit=="number"?e.limit:0};return e.collation&&(r.collation=e.collation),e.hint&&(r.hint=e.hint),r}Is.makeDeleteStatement=iy;(0,Bn.defineAspects)(Gu,[Bn.Aspect.RETRYABLE,Bn.Aspect.WRITE_OPERATION]);(0,Bn.defineAspects)(Cf,[Bn.Aspect.RETRYABLE,Bn.Aspect.WRITE_OPERATION,Bn.Aspect.EXPLAINABLE,Bn.Aspect.SKIP_COLLATION]);(0,Bn.defineAspects)(Sf,[Bn.Aspect.WRITE_OPERATION,Bn.Aspect.EXPLAINABLE,Bn.Aspect.SKIP_COLLATION])});var ay=y(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.BulkWriteOperation=void 0;var uy=Ne(),wf=class extends uy.AbstractCallbackOperation{constructor(e,r,n){super(n),this.options=n,this.collection=e,this.operations=r}executeCallback(e,r,n){let s=this.collection,i=this.operations,o={...this.options,...this.bsonOptions,readPreference:this.readPreference},u=o.ordered===!1?s.initializeUnorderedBulkOp(o):s.initializeOrderedBulkOp(o);try{for(let a=0;a<i.length;a++)u.raw(i[a])}catch(a){return n(a)}u.execute({...o,session:r}).then(a=>n(void 0,a),a=>n(a))}};bf.BulkWriteOperation=wf;(0,uy.defineAspects)(wf,[uy.Aspect.WRITE_OPERATION])});var cy=y(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.prepareDocs=Ku.indexInformation=void 0;var mq=Q(),yq=ne();function gq(t,e,r,n){let s=r,i=n;typeof r=="function"&&(i=r,s={});let o=s.full==null?!1:s.full,u;try{u=(0,yq.getTopology)(t)}catch(c){return i(c)}if(u.isDestroyed())return i(new mq.MongoTopologyClosedError);function a(c){let l={};for(let f=0;f<c.length;f++){let h=c[f];l[h.name]=[];for(let d in h.key)l[h.name].push([d,h.key[d]])}return l}t.collection(e).listIndexes(s).toArray().then(c=>{if(!Array.isArray(c))return i(void 0,[]);if(o)return i(void 0,c);i(void 0,a(c))},c=>i(c))}Ku.indexInformation=gq;function Eq(t,e,r){return(typeof r.forceServerObjectId=="boolean"?r.forceServerObjectId:t.s.db.options?.forceServerObjectId)===!0?e:e.map(s=>(s._id==null&&(s._id=t.s.pkFactory.createPk()),s))}Ku.prepareDocs=Eq});var ly=y(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.InsertManyOperation=zi.InsertOneOperation=zi.InsertOperation=void 0;var Df=Q(),_q=qr(),Aq=ay(),Oq=mt(),i7=cy(),ri=Ne(),Zc=class extends Oq.CommandCallbackOperation{constructor(e,r,n){super(void 0,n),this.options={...n,checkKeys:n.checkKeys??!1},this.ns=e,this.documents=r}executeCallback(e,r,n){let s=this.options??{},i=typeof s.ordered=="boolean"?s.ordered:!0,o={insert:this.ns.collection,documents:this.documents,ordered:i};typeof s.bypassDocumentValidation=="boolean"&&(o.bypassDocumentValidation=s.bypassDocumentValidation),s.comment!==void 0&&(o.comment=s.comment),super.executeCommandCallback(e,r,o,n)}};zi.InsertOperation=Zc;var Bf=class extends Zc{constructor(e,r,n){super(e.s.namespace,(0,i7.prepareDocs)(e,[r],n),n)}executeCallback(e,r,n){super.executeCallback(e,r,(s,i)=>{if(s||i==null)return n(s);if(i.code)return n(new Df.MongoServerError(i));if(i.writeErrors)return n(new Df.MongoServerError(i.writeErrors[0]));n(void 0,{acknowledged:this.writeConcern?.w!==0,insertedId:this.documents[0]._id})})}};zi.InsertOneOperation=Bf;var Tf=class extends ri.AbstractCallbackOperation{constructor(e,r,n){if(super(n),!Array.isArray(r))throw new Df.MongoInvalidArgumentError('Argument "docs" must be an array of documents');this.options=n,this.collection=e,this.docs=r}executeCallback(e,r,n){let s=this.collection,i={...this.options,...this.bsonOptions,readPreference:this.readPreference},o=_q.WriteConcern.fromOptions(i);new Aq.BulkWriteOperation(s,(0,i7.prepareDocs)(s,this.docs,i).map(a=>({insertOne:{document:a}})),i).executeCallback(e,r,(a,c)=>{if(a||c==null)return a&&a.message==="Operation must be an object with an operation key"&&(a=new Df.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values")),n(a);n(void 0,{acknowledged:o?.w!==0,insertedCount:c.insertedCount,insertedIds:c.insertedIds})})}};zi.InsertManyOperation=Tf;(0,ri.defineAspects)(Zc,[ri.Aspect.RETRYABLE,ri.Aspect.WRITE_OPERATION]);(0,ri.defineAspects)(Bf,[ri.Aspect.RETRYABLE,ri.Aspect.WRITE_OPERATION]);(0,ri.defineAspects)(Tf,[ri.Aspect.WRITE_OPERATION])});var hy=y(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.makeUpdateStatement=Tn.ReplaceOneOperation=Tn.UpdateManyOperation=Tn.UpdateOneOperation=Tn.UpdateOperation=void 0;var Pn=Q(),fy=ne(),Cq=mt(),Kt=Ne(),ko=class extends Cq.CommandCallbackOperation{constructor(e,r,n){super(void 0,n),this.options=n,this.ns=e,this.statements=r}get canRetryWrite(){return super.canRetryWrite===!1?!1:this.statements.every(e=>e.multi==null||e.multi===!1)}executeCallback(e,r,n){let s=this.options??{},i=typeof s.ordered=="boolean"?s.ordered:!0,o={update:this.ns.collection,updates:this.statements,ordered:i};if(typeof s.bypassDocumentValidation=="boolean"&&(o.bypassDocumentValidation=s.bypassDocumentValidation),s.let&&(o.let=s.let),s.comment!==void 0&&(o.comment=s.comment),this.writeConcern&&this.writeConcern.w===0&&this.statements.find(a=>a.hint)){n(new Pn.MongoCompatibilityError("hint is not supported with unacknowledged writes"));return}super.executeCommandCallback(e,r,o,n)}};Tn.UpdateOperation=ko;var Pf=class extends ko{constructor(e,r,n,s){if(super(e.s.namespace,[If(r,n,{...s,multi:!1})],s),!(0,fy.hasAtomicOperators)(n))throw new Pn.MongoInvalidArgumentError("Update document requires atomic operators")}executeCallback(e,r,n){super.executeCallback(e,r,(s,i)=>{if(s||!i)return n(s);if(this.explain!=null)return n(void 0,i);if(i.code)return n(new Pn.MongoServerError(i));if(i.writeErrors)return n(new Pn.MongoServerError(i.writeErrors[0]));n(void 0,{acknowledged:this.writeConcern?.w!==0,modifiedCount:i.nModified!=null?i.nModified:i.n,upsertedId:Array.isArray(i.upserted)&&i.upserted.length>0?i.upserted[0]._id:null,upsertedCount:Array.isArray(i.upserted)&&i.upserted.length?i.upserted.length:0,matchedCount:Array.isArray(i.upserted)&&i.upserted.length>0?0:i.n})})}};Tn.UpdateOneOperation=Pf;var Mf=class extends ko{constructor(e,r,n,s){if(super(e.s.namespace,[If(r,n,{...s,multi:!0})],s),!(0,fy.hasAtomicOperators)(n))throw new Pn.MongoInvalidArgumentError("Update document requires atomic operators")}executeCallback(e,r,n){super.executeCallback(e,r,(s,i)=>{if(s||!i)return n(s);if(this.explain!=null)return n(void 0,i);if(i.code)return n(new Pn.MongoServerError(i));if(i.writeErrors)return n(new Pn.MongoServerError(i.writeErrors[0]));n(void 0,{acknowledged:this.writeConcern?.w!==0,modifiedCount:i.nModified!=null?i.nModified:i.n,upsertedId:Array.isArray(i.upserted)&&i.upserted.length>0?i.upserted[0]._id:null,upsertedCount:Array.isArray(i.upserted)&&i.upserted.length?i.upserted.length:0,matchedCount:Array.isArray(i.upserted)&&i.upserted.length>0?0:i.n})})}};Tn.UpdateManyOperation=Mf;var Ff=class extends ko{constructor(e,r,n,s){if(super(e.s.namespace,[If(r,n,{...s,multi:!1})],s),(0,fy.hasAtomicOperators)(n))throw new Pn.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}executeCallback(e,r,n){super.executeCallback(e,r,(s,i)=>{if(s||!i)return n(s);if(this.explain!=null)return n(void 0,i);if(i.code)return n(new Pn.MongoServerError(i));if(i.writeErrors)return n(new Pn.MongoServerError(i.writeErrors[0]));n(void 0,{acknowledged:this.writeConcern?.w!==0,modifiedCount:i.nModified!=null?i.nModified:i.n,upsertedId:Array.isArray(i.upserted)&&i.upserted.length>0?i.upserted[0]._id:null,upsertedCount:Array.isArray(i.upserted)&&i.upserted.length?i.upserted.length:0,matchedCount:Array.isArray(i.upserted)&&i.upserted.length>0?0:i.n})})}};Tn.ReplaceOneOperation=Ff;function If(t,e,r){if(t==null||typeof t!="object")throw new Pn.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(e==null||typeof e!="object")throw new Pn.MongoInvalidArgumentError("Document must be a valid JavaScript object");let n={q:t,u:e};return typeof r.upsert=="boolean"&&(n.upsert=r.upsert),r.multi&&(n.multi=r.multi),r.hint&&(n.hint=r.hint),r.arrayFilters&&(n.arrayFilters=r.arrayFilters),r.collation&&(n.collation=r.collation),n}Tn.makeUpdateStatement=If;(0,Kt.defineAspects)(ko,[Kt.Aspect.RETRYABLE,Kt.Aspect.WRITE_OPERATION,Kt.Aspect.SKIP_COLLATION]);(0,Kt.defineAspects)(Pf,[Kt.Aspect.RETRYABLE,Kt.Aspect.WRITE_OPERATION,Kt.Aspect.EXPLAINABLE,Kt.Aspect.SKIP_COLLATION]);(0,Kt.defineAspects)(Mf,[Kt.Aspect.WRITE_OPERATION,Kt.Aspect.EXPLAINABLE,Kt.Aspect.SKIP_COLLATION]);(0,Kt.defineAspects)(Ff,[Kt.Aspect.RETRYABLE,Kt.Aspect.WRITE_OPERATION,Kt.Aspect.SKIP_COLLATION])});var s1=y(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.BulkOperationBase=Ce.FindOperators=Ce.MongoBulkWriteError=Ce.mergeBatchResults=Ce.WriteError=Ce.WriteConcernError=Ce.BulkWriteResult=Ce.Batch=Ce.BatchType=void 0;var $f=pt(),$t=Q(),r1=oy(),Nf=cn(),Sq=ly(),wq=Ne(),qo=hy(),Hi=ne(),o7=qr(),e1=Symbol("serverError");Ce.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});var dy=class{constructor(e,r){this.originalZeroIndex=r,this.currentIndex=0,this.originalIndexes=[],this.batchType=e,this.operations=[],this.size=0,this.sizeBytes=0}};Ce.Batch=dy;var Lo=class t{static generateIdMap(e){let r={};for(let n of e)r[n.index]=n._id;return r}constructor(e){this.result=e,this.insertedCount=this.result.nInserted??0,this.matchedCount=this.result.nMatched??0,this.modifiedCount=this.result.nModified??0,this.deletedCount=this.result.nRemoved??0,this.upsertedCount=this.result.upserted.length??0,this.upsertedIds=t.generateIdMap(this.result.upserted),this.insertedIds=t.generateIdMap(this.result.insertedIds),Object.defineProperty(this,"result",{value:this.result,enumerable:!1})}get ok(){return this.result.ok}get nInserted(){return this.result.nInserted}get nUpserted(){return this.result.nUpserted}get nMatched(){return this.result.nMatched}get nModified(){return this.result.nModified}get nRemoved(){return this.result.nRemoved}getInsertedIds(){return this.result.insertedIds}getUpsertedIds(){return this.result.upserted}getUpsertedIdAt(e){return this.result.upserted[e]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(e){return e<this.result.writeErrors.length?this.result.writeErrors[e]:void 0}getWriteErrors(){return this.result.writeErrors}getWriteConcernError(){if(this.result.writeConcernErrors.length!==0){if(this.result.writeConcernErrors.length===1)return this.result.writeConcernErrors[0];{let e="";for(let r=0;r<this.result.writeConcernErrors.length;r++){let n=this.result.writeConcernErrors[r];e=e+n.errmsg,r===0&&(e=e+" and ")}return new Yu({errmsg:e,code:$t.MONGODB_ERROR_CODES.WriteConcernFailed})}}}toString(){return`BulkWriteResult(${this.result})`}isOk(){return this.result.ok===1}};Ce.BulkWriteResult=Lo;var Yu=class{constructor(e){this[e1]=e}get code(){return this[e1].code}get errmsg(){return this[e1].errmsg}get errInfo(){return this[e1].errInfo}toJSON(){return this[e1]}toString(){return`WriteConcernError(${this.errmsg})`}};Ce.WriteConcernError=Yu;var n1=class{constructor(e){this.err=e}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}};Ce.WriteError=n1;function Rf(t,e,r,n){if(r?n=r:n&&n.result&&(n=n.result),n==null)return;if(n.ok===0&&e.ok===1){e.ok=0;let i={index:0,code:n.code||0,errmsg:n.message,errInfo:n.errInfo,op:t.operations[0]};e.writeErrors.push(new n1(i));return}else if(n.ok===0&&e.ok===0)return;c7(t)&&n.n&&(e.nInserted=e.nInserted+n.n),yy(t)&&n.n&&(e.nRemoved=e.nRemoved+n.n);let s=0;if(Array.isArray(n.upserted)){s=n.upserted.length;for(let i=0;i<n.upserted.length;i++)e.upserted.push({index:n.upserted[i].index+t.originalZeroIndex,_id:n.upserted[i]._id})}else n.upserted&&(s=1,e.upserted.push({index:t.originalZeroIndex,_id:n.upserted}));if(my(t)&&n.n){let i=n.nModified;e.nUpserted=e.nUpserted+s,e.nMatched=e.nMatched+(n.n-s),typeof i=="number"?e.nModified=e.nModified+i:e.nModified=0}if(Array.isArray(n.writeErrors))for(let i=0;i<n.writeErrors.length;i++){let o={index:t.originalIndexes[n.writeErrors[i].index],code:n.writeErrors[i].code,errmsg:n.writeErrors[i].errmsg,errInfo:n.writeErrors[i].errInfo,op:t.operations[n.writeErrors[i].index]};e.writeErrors.push(new n1(o))}n.writeConcernError&&e.writeConcernErrors.push(new Yu(n.writeConcernError))}Ce.mergeBatchResults=Rf;function a7(t,e,r){if(t.s.batches.length===0)return r(void 0,new Lo(t.s.bulkResult));let n=t.s.batches.shift();function s(o,u){if(o&&"message"in o&&!(o instanceof $t.MongoWriteConcernError))return r(new jo(o,new Lo(t.s.bulkResult)));if(o instanceof $t.MongoWriteConcernError)return bq(n,t.s.bulkResult,o,r);Rf(n,t.s.bulkResult,o,u);let a=new Lo(t.s.bulkResult);t.handleWriteError(r,a)||a7(t,e,r)}let i=(0,Hi.resolveOptions)(t,{...e,ordered:t.isOrdered});i.bypassDocumentValidation!==!0&&delete i.bypassDocumentValidation,t.operationId&&(s.operationId=t.operationId),t.s.bypassDocumentValidation===!0&&(i.bypassDocumentValidation=!0),t.s.checkKeys===!1&&(i.checkKeys=!1),i.retryWrites&&(my(n)&&(i.retryWrites=i.retryWrites&&!n.operations.some(o=>o.multi)),yy(n)&&(i.retryWrites=i.retryWrites&&!n.operations.some(o=>o.limit===0)));try{c7(n)?(0,Nf.executeOperation)(t.s.collection.client,new Sq.InsertOperation(t.s.namespace,n.operations,i),s):my(n)?(0,Nf.executeOperation)(t.s.collection.client,new qo.UpdateOperation(t.s.namespace,n.operations,i),s):yy(n)&&(0,Nf.executeOperation)(t.s.collection.client,new r1.DeleteOperation(t.s.namespace,n.operations,i),s)}catch(o){o.ok=0,Rf(n,t.s.bulkResult,o,void 0),r()}}function bq(t,e,r,n){Rf(t,e,void 0,r.result),n(new jo({message:r.result?.writeConcernError.errmsg,code:r.result?.writeConcernError.result},new Lo(e)))}var jo=class extends $t.MongoServerError{constructor(e,r){super(e),this.writeErrors=[],e instanceof Yu?this.err=e:e instanceof Error||(this.message=e.message,this.code=e.code,this.writeErrors=e.writeErrors??[]),this.result=r,Object.assign(this,e)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}};Ce.MongoBulkWriteError=jo;var xf=class{constructor(e){this.bulkOperation=e}update(e){let r=t1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.UPDATE,(0,qo.makeUpdateStatement)(r.selector,e,{...r,multi:!0}))}updateOne(e){if(!(0,Hi.hasAtomicOperators)(e))throw new $t.MongoInvalidArgumentError("Update document requires atomic operators");let r=t1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.UPDATE,(0,qo.makeUpdateStatement)(r.selector,e,{...r,multi:!1}))}replaceOne(e){if((0,Hi.hasAtomicOperators)(e))throw new $t.MongoInvalidArgumentError("Replacement document must not use atomic operators");let r=t1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.UPDATE,(0,qo.makeUpdateStatement)(r.selector,e,{...r,multi:!1}))}deleteOne(){let e=t1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.DELETE,(0,r1.makeDeleteStatement)(e.selector,{...e,limit:1}))}delete(){let e=t1(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ce.BatchType.DELETE,(0,r1.makeDeleteStatement)(e.selector,{...e,limit:0}))}upsert(){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.upsert=!0,this}collation(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.collation=e,this}arrayFilters(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.arrayFilters=e,this}hint(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.hint=e,this}};Ce.FindOperators=xf;var py=class extends wq.AbstractCallbackOperation{constructor(e,r){super(r),this.bulkOperation=e}executeCallback(e,r,n){return this.options.session==null&&(this.options.session=r),a7(this.bulkOperation,this.options,n)}},vf=class{constructor(e,r,n){this.isOrdered=n;let s=(0,Hi.getTopology)(e);r=r??{};let i=e.s.namespace,o=!1,u=void 0,a=s.lastHello(),c=!!(s.s.options&&s.s.options.autoEncrypter),l=a&&a.maxBsonObjectSize?a.maxBsonObjectSize:1024*1024*16,f=c?1024*1024*2:l,h=a&&a.maxWriteBatchSize?a.maxWriteBatchSize:1e3,d=(h-1).toString(10).length+2,p=Object.assign({},r);p=(0,Hi.applyRetryableWrites)(p,e.s.db);let m={ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]};this.s={bulkResult:m,currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:o7.WriteConcern.fromOptions(r),maxBsonObjectSize:l,maxBatchSizeBytes:f,maxWriteBatchSize:h,maxKeySize:d,namespace:i,topology:s,options:p,bsonOptions:(0,$f.resolveBSONOptions)(r),currentOp:u,executed:o,collection:e,err:void 0,checkKeys:typeof r.checkKeys=="boolean"?r.checkKeys:!1},r.bypassDocumentValidation===!0&&(this.s.bypassDocumentValidation=!0)}insert(e){return e._id==null&&!u7(this)&&(e._id=new $f.ObjectId),this.addToOperationsList(Ce.BatchType.INSERT,e)}find(e){if(!e)throw new $t.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:e},new xf(this)}raw(e){if(e==null||typeof e!="object")throw new $t.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in e){let r=u7(this);return e.insertOne&&e.insertOne.document==null?(r!==!0&&e.insertOne._id==null&&(e.insertOne._id=new $f.ObjectId),this.addToOperationsList(Ce.BatchType.INSERT,e.insertOne)):(r!==!0&&e.insertOne.document._id==null&&(e.insertOne.document._id=new $f.ObjectId),this.addToOperationsList(Ce.BatchType.INSERT,e.insertOne.document))}if("replaceOne"in e||"updateOne"in e||"updateMany"in e){if("replaceOne"in e){if("q"in e.replaceOne)throw new $t.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,qo.makeUpdateStatement)(e.replaceOne.filter,e.replaceOne.replacement,{...e.replaceOne,multi:!1});if((0,Hi.hasAtomicOperators)(r.u))throw new $t.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(Ce.BatchType.UPDATE,r)}if("updateOne"in e){if("q"in e.updateOne)throw new $t.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,qo.makeUpdateStatement)(e.updateOne.filter,e.updateOne.update,{...e.updateOne,multi:!1});if(!(0,Hi.hasAtomicOperators)(r.u))throw new $t.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(Ce.BatchType.UPDATE,r)}if("updateMany"in e){if("q"in e.updateMany)throw new $t.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,qo.makeUpdateStatement)(e.updateMany.filter,e.updateMany.update,{...e.updateMany,multi:!0});if(!(0,Hi.hasAtomicOperators)(r.u))throw new $t.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(Ce.BatchType.UPDATE,r)}}if("deleteOne"in e){if("q"in e.deleteOne)throw new $t.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(Ce.BatchType.DELETE,(0,r1.makeDeleteStatement)(e.deleteOne.filter,{...e.deleteOne,limit:1}))}if("deleteMany"in e){if("q"in e.deleteMany)throw new $t.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(Ce.BatchType.DELETE,(0,r1.makeDeleteStatement)(e.deleteMany.filter,{...e.deleteMany,limit:0}))}throw new $t.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){let e=[...this.s.batches];return this.isOrdered?this.s.currentBatch&&e.push(this.s.currentBatch):(this.s.currentInsertBatch&&e.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&e.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&e.push(this.s.currentRemoveBatch)),e}async execute(e={}){if(this.s.executed)throw new $t.MongoBatchReExecutionError;let r=o7.WriteConcern.fromOptions(e);if(r&&(this.s.writeConcern=r),this.isOrdered?this.s.currentBatch&&this.s.batches.push(this.s.currentBatch):(this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch)),this.s.batches.length===0)throw new $t.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;let n={...this.s.options,...e},s=new py(this,n);return(0,Nf.executeOperation)(this.s.collection.client,s)}handleWriteError(e,r){if(this.s.bulkResult.writeErrors.length>0){let s=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";return e(new jo({message:s,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},r)),!0}let n=r.getWriteConcernError();return n?(e(new jo(n,r)),!0):!1}};Ce.BulkOperationBase=vf;Object.defineProperty(vf.prototype,"length",{enumerable:!0,get(){return this.s.currentIndex}});function u7(t){return typeof t.s.options.forceServerObjectId=="boolean"?t.s.options.forceServerObjectId:typeof t.s.collection.s.db.options?.forceServerObjectId=="boolean"?t.s.collection.s.db.options?.forceServerObjectId:!1}function c7(t){return t.batchType===Ce.BatchType.INSERT}function my(t){return t.batchType===Ce.BatchType.UPDATE}function yy(t){return t.batchType===Ce.BatchType.DELETE}function t1(t){let{currentOp:e}=t.s;return t.s.currentOp=void 0,e||(e={}),e}});var Ey=y(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.OrderedBulkOperation=void 0;var Dq=pt(),l7=Q(),kf=s1(),gy=class extends kf.BulkOperationBase{constructor(e,r){super(e,r,!0)}addToOperationsList(e,r){let n=Dq.calculateObjectSize(r,{checkKeys:!1,ignoreUndefined:!1});if(n>=this.s.maxBsonObjectSize)throw new l7.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch==null&&(this.s.currentBatch=new kf.Batch(e,this.s.currentIndex));let s=this.s.maxKeySize;if((this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+s+n>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==e)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new kf.Batch(e,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0),e===kf.BatchType.INSERT&&this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:r._id}),Array.isArray(r))throw new l7.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(r),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=s+n,this.s.currentIndex+=1,this}};qf.OrderedBulkOperation=gy});var Ay=y(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.UnorderedBulkOperation=void 0;var Bq=pt(),f7=Q(),ni=s1(),_y=class extends ni.BulkOperationBase{constructor(e,r){super(e,r,!1)}handleWriteError(e,r){return this.s.batches.length?!1:super.handleWriteError(e,r)}addToOperationsList(e,r){let n=Bq.calculateObjectSize(r,{checkKeys:!1,ignoreUndefined:!1});if(n>=this.s.maxBsonObjectSize)throw new f7.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch=void 0,e===ni.BatchType.INSERT?this.s.currentBatch=this.s.currentInsertBatch:e===ni.BatchType.UPDATE?this.s.currentBatch=this.s.currentUpdateBatch:e===ni.BatchType.DELETE&&(this.s.currentBatch=this.s.currentRemoveBatch);let s=this.s.maxKeySize;if(this.s.currentBatch==null&&(this.s.currentBatch=new ni.Batch(e,this.s.currentIndex)),(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+s+n>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==e)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new ni.Batch(e,this.s.currentIndex)),Array.isArray(r))throw new f7.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.operations.push(r),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,e===ni.BatchType.INSERT?(this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:r._id})):e===ni.BatchType.UPDATE?this.s.currentUpdateBatch=this.s.currentBatch:e===ni.BatchType.DELETE&&(this.s.currentRemoveBatch=this.s.currentBatch),this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=s+n,this}};Lf.UnorderedBulkOperation=_y});var Uf=y(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.AggregateOperation=Uo.DB_AGGREGATE_COLLECTION=void 0;var h7=Q(),Tq=ne(),Pq=qr(),Mq=mt(),i1=Ne();Uo.DB_AGGREGATE_COLLECTION=1;var Fq=8,jf=class extends Mq.CommandCallbackOperation{constructor(e,r,n){if(super(void 0,{...n,dbName:e.db}),this.options={...n},this.target=e.collection||Uo.DB_AGGREGATE_COLLECTION,this.pipeline=r,this.hasWriteStage=!1,typeof n?.out=="string")this.pipeline=this.pipeline.concat({$out:n.out}),this.hasWriteStage=!0;else if(r.length>0){let s=r[r.length-1];(s.$out||s.$merge)&&(this.hasWriteStage=!0)}if(this.hasWriteStage?this.trySecondaryWrite=!0:delete this.options.writeConcern,this.explain&&this.writeConcern)throw new h7.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if(n?.cursor!=null&&typeof n.cursor!="object")throw new h7.MongoInvalidArgumentError("Cursor options must be an object")}get canRetryRead(){return!this.hasWriteStage}addToPipeline(e){this.pipeline.push(e)}executeCallback(e,r,n){let s=this.options,i=(0,Tq.maxWireVersion)(e),o={aggregate:this.target,pipeline:this.pipeline};this.hasWriteStage&&i<Fq&&(this.readConcern=void 0),this.hasWriteStage&&this.writeConcern&&Pq.WriteConcern.apply(o,this.writeConcern),s.bypassDocumentValidation===!0&&(o.bypassDocumentValidation=s.bypassDocumentValidation),typeof s.allowDiskUse=="boolean"&&(o.allowDiskUse=s.allowDiskUse),s.hint&&(o.hint=s.hint),s.let&&(o.let=s.let),s.comment!==void 0&&(o.comment=s.comment),o.cursor=s.cursor||{},s.batchSize&&!this.hasWriteStage&&(o.cursor.batchSize=s.batchSize),super.executeCommandCallback(e,r,o,n)}};Uo.AggregateOperation=jf;(0,i1.defineAspects)(jf,[i1.Aspect.READ_OPERATION,i1.Aspect.RETRYABLE,i1.Aspect.EXPLAINABLE,i1.Aspect.CURSOR_CREATING])});var ln=y(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.CancellationToken=Qu.TypedEventEmitter=void 0;var Iq=require("events"),Vf=class extends Iq.EventEmitter{emitAndLog(e,...r){this.emit(e,...r),this.component&&this.mongoLogger?.debug(this.component,r[0])}};Qu.TypedEventEmitter=Vf;var Oy=class extends Vf{};Qu.CancellationToken=Oy});var Sy=y(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.GetMoreOperation=void 0;var Cy=Q(),$q=ne(),Wf=Ne(),zf=class extends Wf.AbstractCallbackOperation{constructor(e,r,n,s){super(s),this.options=s,this.ns=e,this.cursorId=r,this.server=n}executeCallback(e,r,n){if(e!==this.server)return n(new Cy.MongoRuntimeError("Getmore must run on the same server operation began on"));if(this.cursorId==null||this.cursorId.isZero())return n(new Cy.MongoRuntimeError("Unable to iterate cursor with no id"));let s=this.ns.collection;if(s==null)return n(new Cy.MongoRuntimeError("A collection name must be determined before getMore"));let i={getMore:this.cursorId,collection:s};typeof this.options.batchSize=="number"&&(i.batchSize=Math.abs(this.options.batchSize)),typeof this.options.maxAwaitTimeMS=="number"&&(i.maxTimeMS=this.options.maxAwaitTimeMS),this.options.comment!==void 0&&(0,$q.maxWireVersion)(e)>=9&&(i.comment=this.options.comment);let o={returnFieldSelector:null,documentsReturnedIn:"nextBatch",...this.options};e.command(this.ns,i,o,n)}};Hf.GetMoreOperation=zf;(0,Wf.defineAspects)(zf,[Wf.Aspect.READ_OPERATION,Wf.Aspect.MUST_SELECT_SAME_SERVER])});var p7=y(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.KillCursorsOperation=void 0;var d7=Q(),wy=Ne(),Gf=class extends wy.AbstractCallbackOperation{constructor(e,r,n,s){super(s),this.ns=r,this.cursorId=e,this.server=n}executeCallback(e,r,n){if(e!==this.server)return n(new d7.MongoRuntimeError("Killcursor must run on the same server operation began on"));let s=this.ns.collection;if(s==null)return n(new d7.MongoRuntimeError("A collection name must be determined before killCursors"));let i={killCursors:s,cursors:[this.cursorId]};e.command(this.ns,i,{session:r},()=>n())}};Kf.KillCursorsOperation=Gf;(0,wy.defineAspects)(Gf,[wy.Aspect.MUST_SELECT_SAME_SERVER])});var by=y(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.ConnectionPoolMetrics=void 0;var Ju=class t{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(e){e===t.TXN?this.txnConnections+=1:e===t.CURSOR?this.cursorConnections+=1:this.otherConnections+=1}markUnpinned(e){e===t.TXN?this.txnConnections-=1:e===t.CURSOR?this.cursorConnections-=1:this.otherConnections-=1}info(e){return`Timed out while checking out a connection from connection pool: maxPoolSize: ${e}, connections in use by cursors: ${this.cursorConnections}, connections in use by transactions: ${this.txnConnections}, connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}};Ju.TXN="txn";Ju.CURSOR="cursor";Ju.OTHER="other";Yf.ConnectionPoolMetrics=Ju});var o1=y(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.compareTopologyVersion=Gi.parseServerType=Gi.ServerDescription=void 0;var Qf=pt(),Nq=Q(),Xu=ne(),Dt=Dn(),Rq=new Set([Dt.ServerType.RSPrimary,Dt.ServerType.Standalone,Dt.ServerType.Mongos,Dt.ServerType.LoadBalancer]),xq=new Set([Dt.ServerType.RSPrimary,Dt.ServerType.RSSecondary,Dt.ServerType.Mongos,Dt.ServerType.Standalone,Dt.ServerType.LoadBalancer]),Dy=class{constructor(e,r,n={}){if(e==null||e==="")throw new Nq.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address=typeof e=="string"?Xu.HostAddress.fromString(e).toString():e.toString(),this.type=m7(r,n),this.hosts=r?.hosts?.map(s=>s.toLowerCase())??[],this.passives=r?.passives?.map(s=>s.toLowerCase())??[],this.arbiters=r?.arbiters?.map(s=>s.toLowerCase())??[],this.tags=r?.tags??{},this.minWireVersion=r?.minWireVersion??0,this.maxWireVersion=r?.maxWireVersion??0,this.roundTripTime=n?.roundTripTime??-1,this.lastUpdateTime=(0,Xu.now)(),this.lastWriteDate=r?.lastWrite?.lastWriteDate??0,this.error=n.error??null,this.topologyVersion=this.error?.topologyVersion??r?.topologyVersion??null,this.setName=r?.setName??null,this.setVersion=r?.setVersion??null,this.electionId=r?.electionId??null,this.logicalSessionTimeoutMinutes=r?.logicalSessionTimeoutMinutes??null,this.primary=r?.primary??null,this.me=r?.me?.toLowerCase()??null,this.$clusterTime=r?.$clusterTime??null}get hostAddress(){return Xu.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===Dt.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return xq.has(this.type)}get isWritable(){return Rq.has(this.type)}get host(){let e=`:${this.port}`.length;return this.address.slice(0,-e)}get port(){let e=this.address.split(":").pop();return e?Number.parseInt(e,10):27017}equals(e){let r=this.topologyVersion===e?.topologyVersion||y7(this.topologyVersion,e?.topologyVersion)===0,n=this.electionId!=null&&e?.electionId!=null?(0,Xu.compareObjectId)(this.electionId,e.electionId)===0:this.electionId===e?.electionId;return e!=null&&(0,Xu.errorStrictEqual)(this.error,e.error)&&this.type===e.type&&this.minWireVersion===e.minWireVersion&&(0,Xu.arrayStrictEqual)(this.hosts,e.hosts)&&vq(this.tags,e.tags)&&this.setName===e.setName&&this.setVersion===e.setVersion&&n&&this.primary===e.primary&&this.logicalSessionTimeoutMinutes===e.logicalSessionTimeoutMinutes&&r}};Gi.ServerDescription=Dy;function m7(t,e){return e?.loadBalanced?Dt.ServerType.LoadBalancer:!t||!t.ok?Dt.ServerType.Unknown:t.isreplicaset?Dt.ServerType.RSGhost:t.msg&&t.msg==="isdbgrid"?Dt.ServerType.Mongos:t.setName?t.hidden?Dt.ServerType.RSOther:t.isWritablePrimary?Dt.ServerType.RSPrimary:t.secondary?Dt.ServerType.RSSecondary:t.arbiterOnly?Dt.ServerType.RSArbiter:Dt.ServerType.RSOther:Dt.ServerType.Standalone}Gi.parseServerType=m7;function vq(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(s=>e[s]===t[s])}function y7(t,e){if(t==null||e==null||!t.processId.equals(e.processId))return-1;let r=Qf.Long.isLong(t.counter)?t.counter:Qf.Long.fromNumber(t.counter),n=Qf.Long.isLong(e.counter)?e.counter:Qf.Long.fromNumber(e.counter);return r.compare(n)}Gi.compareTopologyVersion=y7});var Py=y(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.TopologyDescription=void 0;var Jf=xo(),kq=Q(),By=ne(),Se=Dn(),Ki=o1(),qq=Jf.MIN_SUPPORTED_SERVER_VERSION,Lq=Jf.MAX_SUPPORTED_SERVER_VERSION,g7=Jf.MIN_SUPPORTED_WIRE_VERSION,E7=Jf.MAX_SUPPORTED_WIRE_VERSION,jq=new Set([Se.ServerType.Mongos,Se.ServerType.Unknown]),_7=new Set([Se.ServerType.Mongos,Se.ServerType.Standalone]),A7=new Set([Se.ServerType.RSSecondary,Se.ServerType.RSArbiter,Se.ServerType.RSOther]),Ty=class t{constructor(e,r=null,n=null,s=null,i=null,o=null,u=null){u=u??{},this.type=e??Se.TopologyType.Unknown,this.servers=r??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=u.heartbeatFrequencyMS??0,this.localThresholdMS=u.localThresholdMS??15,this.setName=n??null,this.maxElectionId=i??null,this.maxSetVersion=s??null,this.commonWireVersion=o??0;for(let a of this.servers.values())if(!(a.type===Se.ServerType.Unknown||a.type===Se.ServerType.LoadBalancer)&&(a.minWireVersion>E7&&(this.compatible=!1,this.compatibilityError=`Server at ${a.address} requires wire version ${a.minWireVersion}, but this version of the driver only supports up to ${E7} (MongoDB ${Lq})`),a.maxWireVersion<g7)){this.compatible=!1,this.compatibilityError=`Server at ${a.address} reports wire version ${a.maxWireVersion}, but this version of the driver requires at least ${g7} (MongoDB ${qq}).`;break}this.logicalSessionTimeoutMinutes=null;for(let[,a]of this.servers)if(a.isReadable){if(a.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=null;break}if(this.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=a.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,a.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(e,r=0){let n=e.hostnames(),s=new Set(this.servers.keys()),i=new Set(n),o=new Set;for(let a of s)i.delete(a),n.has(a)||o.add(a);if(i.size===0&&o.size===0)return this;let u=new Map(this.servers);for(let a of o)u.delete(a);if(i.size>0){if(r===0)for(let a of i)u.set(a,new Ki.ServerDescription(a));else if(u.size<r){let a=(0,By.shuffle)(i,r-u.size);for(let c of a)u.set(c,new Ki.ServerDescription(c))}}return new t(this.type,u,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(e){let r=e.address,{type:n,setName:s,maxSetVersion:i,maxElectionId:o,commonWireVersion:u}=this,a=e.type,c=new Map(this.servers);if(e.maxWireVersion!==0&&(u==null?u=e.maxWireVersion:u=Math.min(u,e.maxWireVersion)),typeof e.setName=="string"&&typeof s=="string"&&e.setName!==s&&(n===Se.TopologyType.Single?e=new Ki.ServerDescription(r):c.delete(r)),c.set(r,e),n===Se.TopologyType.Single)return new t(Se.TopologyType.Single,c,s,i,o,u,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(n===Se.TopologyType.Unknown&&(a===Se.ServerType.Standalone&&this.servers.size!==1?c.delete(r):n=Uq(a)),n===Se.TopologyType.Sharded&&(jq.has(a)||c.delete(r)),n===Se.TopologyType.ReplicaSetNoPrimary){if(_7.has(a)&&c.delete(r),a===Se.ServerType.RSPrimary){let l=O7(c,e,s,i,o);n=l[0],s=l[1],i=l[2],o=l[3]}else if(A7.has(a)){let l=Wq(c,e,s);n=l[0],s=l[1]}}if(n===Se.TopologyType.ReplicaSetWithPrimary)if(_7.has(a))c.delete(r),n=Vo(c);else if(a===Se.ServerType.RSPrimary){let l=O7(c,e,s,i,o);n=l[0],s=l[1],i=l[2],o=l[3]}else A7.has(a)?n=Vq(c,e,s):n=Vo(c);return new t(n,c,s,i,o,u,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){let e=Array.from(this.servers.values()).filter(r=>r.error);return e.length>0?e[0].error:null}get hasKnownServers(){return Array.from(this.servers.values()).some(e=>e.type!==Se.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some(e=>e.isDataBearing)}hasServer(e){return this.servers.has(e)}};Xf.TopologyDescription=Ty;function Uq(t){switch(t){case Se.ServerType.Standalone:return Se.TopologyType.Single;case Se.ServerType.Mongos:return Se.TopologyType.Sharded;case Se.ServerType.RSPrimary:return Se.TopologyType.ReplicaSetWithPrimary;case Se.ServerType.RSOther:case Se.ServerType.RSSecondary:return Se.TopologyType.ReplicaSetNoPrimary;default:return Se.TopologyType.Unknown}}function O7(t,e,r=null,n=null,s=null){if(r=r||e.setName,r!==e.setName)return t.delete(e.address),[Vo(t),r,n,s];if(e.maxWireVersion>=17){let u=(0,By.compareObjectId)(s,e.electionId),a=u===0,c=u===-1,l=(n??-1)<=(e.setVersion??-1);if(c||a&&l)s=e.electionId,n=e.setVersion;else return t.set(e.address,new Ki.ServerDescription(e.address)),[Vo(t),r,n,s]}else{let u=e.electionId?e.electionId:null;if(e.setVersion&&u){if(n&&s&&(n>e.setVersion||(0,By.compareObjectId)(s,u)>0))return t.set(e.address,new Ki.ServerDescription(e.address)),[Vo(t),r,n,s];s=e.electionId}e.setVersion!=null&&(n==null||e.setVersion>n)&&(n=e.setVersion)}for(let[u,a]of t)if(a.type===Se.ServerType.RSPrimary&&a.address!==e.address){t.set(u,new Ki.ServerDescription(a.address));break}e.allHosts.forEach(u=>{t.has(u)||t.set(u,new Ki.ServerDescription(u))});let i=Array.from(t.keys()),o=e.allHosts;return i.filter(u=>o.indexOf(u)===-1).forEach(u=>{t.delete(u)}),[Vo(t),r,n,s]}function Vq(t,e,r=null){if(r==null)throw new kq.MongoRuntimeError('Argument "setName" is required if connected to a replica set');return(r!==e.setName||e.me&&e.address!==e.me)&&t.delete(e.address),Vo(t)}function Wq(t,e,r=null){let n=Se.TopologyType.ReplicaSetNoPrimary;return r=r??e.setName,r!==e.setName?(t.delete(e.address),[n,r]):(e.allHosts.forEach(s=>{t.has(s)||t.set(s,new Ki.ServerDescription(s))}),e.me&&e.address!==e.me&&t.delete(e.address),[n,r])}function Vo(t){for(let e of t.values())if(e.type===Se.ServerType.RSPrimary)return Se.TopologyType.ReplicaSetWithPrimary;return Se.TopologyType.ReplicaSetNoPrimary}});var Fy=y(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.isSharded=Zu.getReadPreference=void 0;var zq=Q(),My=It(),C7=Dn(),Hq=Py();function Gq(t){let e=t?.readPreference??My.ReadPreference.primary;if(t?.readPreference&&(e=t.readPreference),typeof e=="string"&&(e=My.ReadPreference.fromString(e)),!(e instanceof My.ReadPreference))throw new zq.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return e}Zu.getReadPreference=Gq;function Kq(t){return t==null?!1:t.description&&t.description.type===C7.ServerType.Mongos?!0:t.description&&t.description instanceof Hq.TopologyDescription?Array.from(t.description.servers.values()).some(r=>r.type===C7.ServerType.Mongos):!1}Zu.isSharded=Kq});var $y=y(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.isTransactionCommand=pe.Transaction=pe.TxnState=void 0;var S7=Q(),Yq=bn(),Qq=It(),Jq=qr();pe.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});var Xq={[pe.TxnState.NO_TRANSACTION]:[pe.TxnState.NO_TRANSACTION,pe.TxnState.STARTING_TRANSACTION],[pe.TxnState.STARTING_TRANSACTION]:[pe.TxnState.TRANSACTION_IN_PROGRESS,pe.TxnState.TRANSACTION_COMMITTED,pe.TxnState.TRANSACTION_COMMITTED_EMPTY,pe.TxnState.TRANSACTION_ABORTED],[pe.TxnState.TRANSACTION_IN_PROGRESS]:[pe.TxnState.TRANSACTION_IN_PROGRESS,pe.TxnState.TRANSACTION_COMMITTED,pe.TxnState.TRANSACTION_ABORTED],[pe.TxnState.TRANSACTION_COMMITTED]:[pe.TxnState.TRANSACTION_COMMITTED,pe.TxnState.TRANSACTION_COMMITTED_EMPTY,pe.TxnState.STARTING_TRANSACTION,pe.TxnState.NO_TRANSACTION],[pe.TxnState.TRANSACTION_ABORTED]:[pe.TxnState.STARTING_TRANSACTION,pe.TxnState.NO_TRANSACTION],[pe.TxnState.TRANSACTION_COMMITTED_EMPTY]:[pe.TxnState.TRANSACTION_COMMITTED_EMPTY,pe.TxnState.NO_TRANSACTION]},Zq=new Set([pe.TxnState.STARTING_TRANSACTION,pe.TxnState.TRANSACTION_IN_PROGRESS]),eL=new Set([pe.TxnState.TRANSACTION_COMMITTED,pe.TxnState.TRANSACTION_COMMITTED_EMPTY,pe.TxnState.TRANSACTION_ABORTED]),Iy=class{constructor(e){e=e??{},this.state=pe.TxnState.NO_TRANSACTION,this.options={};let r=Jq.WriteConcern.fromOptions(e);if(r){if(r.w===0)throw new S7.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=r}e.readConcern&&(this.options.readConcern=Yq.ReadConcern.fromOptions(e)),e.readPreference&&(this.options.readPreference=Qq.ReadPreference.fromOptions(e)),e.maxCommitTimeMS&&(this.options.maxTimeMS=e.maxCommitTimeMS),this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===pe.TxnState.STARTING_TRANSACTION}get isActive(){return Zq.has(this.state)}get isCommitted(){return eL.has(this.state)}transition(e){let r=Xq[this.state];if(r&&r.includes(e)){this.state=e,(this.state===pe.TxnState.NO_TRANSACTION||this.state===pe.TxnState.STARTING_TRANSACTION||this.state===pe.TxnState.TRANSACTION_ABORTED)&&this.unpinServer();return}throw new S7.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${e}]`)}pinServer(e){this.isActive&&(this._pinnedServer=e)}unpinServer(){this._pinnedServer=void 0}};pe.Transaction=Iy;function tL(t){return!!(t.commitTransaction||t.abortTransaction)}pe.isTransactionCommand=tL});var a1=y(Lr=>{"use strict";var T7;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.updateSessionFromResponse=Lr.applySession=Lr.ServerSessionPool=Lr.ServerSession=Lr.maybeClearPinnedConnection=Lr.ClientSession=void 0;var rL=require("util"),Zf=pt(),eh=by(),nL=Fy(),P7=kt(),he=Q(),sL=ln(),w7=cn(),b7=Hu(),iL=bn(),D7=It(),Ny=Dn(),it=$y(),Xn=ne(),oL=qr(),uL=8,ea=Symbol("serverSession"),th=Symbol("snapshotTime"),ra=Symbol("snapshotEnabled"),ta=Symbol("pinnedConnection"),rh=Symbol("txnNumberIncrement"),Ry=class t extends sL.TypedEventEmitter{constructor(e,r,n,s){if(super(),this[T7]=!1,e==null)throw new he.MongoRuntimeError("ClientSession requires a MongoClient");if(r==null||!(r instanceof ih))throw new he.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(n=n??{},n.snapshot===!0&&(this[ra]=!0,n.causalConsistency===!0))throw new he.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive');this.client=e,this.sessionPool=r,this.hasEnded=!1,this.clientOptions=s,this.explicit=!!n.explicit,this[ea]=this.explicit?this.sessionPool.acquire():null,this[rh]=0;let i=this.explicit&&n.snapshot!==!0;this.supports={causalConsistency:n.causalConsistency??i},this.clusterTime=n.initialClusterTime,this.operationTime=void 0,this.owner=n.owner,this.defaultTransactionOptions=Object.assign({},n.defaultTransactionOptions),this.transaction=new it.Transaction}get id(){return this[ea]?.id}get serverSession(){let e=this[ea];if(e==null){if(this.explicit)throw new he.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new he.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");e=this.sessionPool.acquire(),this[ea]=e}return e}get snapshotEnabled(){return this[ra]}get loadBalanced(){return this.client.topology?.description.type===Ny.TopologyType.LoadBalanced}get pinnedConnection(){return this[ta]}pin(e){if(this[ta])throw TypeError("Cannot pin multiple connections to the same session");this[ta]=e,e.emit(P7.PINNED,this.inTransaction()?eh.ConnectionPoolMetrics.TXN:eh.ConnectionPoolMetrics.CURSOR)}unpin(e){if(this.loadBalanced)return nh(this,e);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this[ta]:this.transaction.isPinned}async endSession(e){try{if(this.inTransaction()&&await this.abortTransaction(),!this.hasEnded){let r=this[ea];r!=null&&(this.sessionPool.release(r),Object.defineProperty(this,ea,{value:u1.clone(r),writable:!1})),this.hasEnded=!0,this.emit("ended",this)}}catch{}finally{nh(this,{force:!0,...e})}}advanceOperationTime(e){if(this.operationTime==null){this.operationTime=e;return}e.greaterThan(this.operationTime)&&(this.operationTime=e)}advanceClusterTime(e){if(!e||typeof e!="object")throw new he.MongoInvalidArgumentError("input cluster time must be an object");if(!e.clusterTime||e.clusterTime._bsontype!=="Timestamp")throw new he.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!e.signature||e.signature.hash?._bsontype!=="Binary"||typeof e.signature.keyId!="bigint"&&typeof e.signature.keyId!="number"&&e.signature.keyId?._bsontype!=="Long")throw new he.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');(0,Ny._advanceClusterTime)(this,e)}equals(e){return!(e instanceof t)||this.id==null||e.id==null?!1:Xn.ByteUtils.equals(this.id.id.buffer,e.id.id.buffer)}incrementTransactionNumber(){this[rh]+=1}inTransaction(){return this.transaction.isActive}startTransaction(e){if(this[ra])throw new he.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new he.MongoTransactionError("Transaction already in progress");this.isPinned&&this.transaction.isCommitted&&this.unpin();let r=(0,Xn.maxWireVersion)(this.client.topology);if((0,nL.isSharded)(this.client.topology)&&r!=null&&r<uL)throw new he.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.incrementTransactionNumber(),this.transaction=new it.Transaction({readConcern:e?.readConcern??this.defaultTransactionOptions.readConcern??this.clientOptions?.readConcern,writeConcern:e?.writeConcern??this.defaultTransactionOptions.writeConcern??this.clientOptions?.writeConcern,readPreference:e?.readPreference??this.defaultTransactionOptions.readPreference??this.clientOptions?.readPreference,maxCommitTimeMS:e?.maxCommitTimeMS??this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(it.TxnState.STARTING_TRANSACTION)}async commitTransaction(){return B7(this,"commitTransaction")}async abortTransaction(){return B7(this,"abortTransaction")}toBSON(){throw new he.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}async withTransaction(e,r){let n=(0,Xn.now)();return xy(this,n,e,r)}};Lr.ClientSession=Ry;T7=ra;var M7=12e4,aL=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);function F7(t,e){return(0,Xn.calculateDurationInMs)(t)<e}function cL(t){let e=t instanceof he.MongoServerError&&t.codeName&&aL.has(t.codeName);return oh(t)||!e&&t.code!==he.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&t.code!==he.MONGODB_ERROR_CODES.UnknownReplWriteConcern}function nh(t,e){let r=t[ta],n=e?.error;if(t.inTransaction()&&n&&n instanceof he.MongoError&&n.hasErrorLabel(he.MongoErrorLabel.TransientTransactionError))return;let s=t.client.topology;if(r&&s!=null){let o=Array.from(s.s.servers.values())[0];(e?.error==null||e?.force)&&(o.pool.checkIn(r),r.emit(P7.UNPINNED,t.transaction.state!==it.TxnState.NO_TRANSACTION?eh.ConnectionPoolMetrics.TXN:eh.ConnectionPoolMetrics.CURSOR),e?.forceClear&&o.pool.clear({serviceId:r.serviceId})),t[ta]=void 0}}Lr.maybeClearPinnedConnection=nh;function oh(t){return t==null||!(t instanceof he.MongoServerError)?!1:t.code===he.MONGODB_ERROR_CODES.MaxTimeMSExpired||t.writeConcernError&&t.writeConcernError.code===he.MONGODB_ERROR_CODES.MaxTimeMSExpired}function I7(t,e,r,n){return t.commitTransaction().catch(s=>{if(s instanceof he.MongoError&&F7(e,M7)&&!oh(s)){if(s.hasErrorLabel(he.MongoErrorLabel.UnknownTransactionCommitResult))return I7(t,e,r,n);if(s.hasErrorLabel(he.MongoErrorLabel.TransientTransactionError))return xy(t,e,r,n)}throw s})}var lL=new Set([it.TxnState.NO_TRANSACTION,it.TxnState.TRANSACTION_COMMITTED,it.TxnState.TRANSACTION_ABORTED]);function fL(t){return lL.has(t.transaction.state)}function xy(t,e,r,n){t.startTransaction(n);let s;try{s=r(t)}catch(i){s=Promise.reject(i)}if(!(0,Xn.isPromiseLike)(s))throw t.abortTransaction().catch(()=>null),new he.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise");return s.then(()=>{if(!fL(t))return I7(t,e,r,n)},i=>{function o(u){if(u instanceof he.MongoError&&u.hasErrorLabel(he.MongoErrorLabel.TransientTransactionError)&&F7(e,M7))return xy(t,e,r,n);throw oh(u)&&u.addErrorLabel(he.MongoErrorLabel.UnknownTransactionCommitResult),u}return t.inTransaction()?t.abortTransaction().then(()=>o(i)):o(i)})}var B7=(0,rL.promisify)(hL);function hL(t,e,r){let n=t.transaction.state;if(n===it.TxnState.NO_TRANSACTION){r(new he.MongoTransactionError("No transaction started"));return}if(e==="commitTransaction"){if(n===it.TxnState.STARTING_TRANSACTION||n===it.TxnState.TRANSACTION_COMMITTED_EMPTY){t.transaction.transition(it.TxnState.TRANSACTION_COMMITTED_EMPTY),r();return}if(n===it.TxnState.TRANSACTION_ABORTED){r(new he.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction"));return}}else{if(n===it.TxnState.STARTING_TRANSACTION){t.transaction.transition(it.TxnState.TRANSACTION_ABORTED),r();return}if(n===it.TxnState.TRANSACTION_ABORTED){r(new he.MongoTransactionError("Cannot call abortTransaction twice"));return}if(n===it.TxnState.TRANSACTION_COMMITTED||n===it.TxnState.TRANSACTION_COMMITTED_EMPTY){r(new he.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction"));return}}let s={[e]:1},i;t.transaction.options.writeConcern?i=Object.assign({},t.transaction.options.writeConcern):t.clientOptions&&t.clientOptions.writeConcern&&(i={w:t.clientOptions.writeConcern.w}),n===it.TxnState.TRANSACTION_COMMITTED&&(i=Object.assign({wtimeoutMS:1e4},i,{w:"majority"})),i&&oL.WriteConcern.apply(s,i),e==="commitTransaction"&&t.transaction.options.maxTimeMS&&Object.assign(s,{maxTimeMS:t.transaction.options.maxTimeMS});function o(u,a){if(e!=="commitTransaction")return t.transaction.transition(it.TxnState.TRANSACTION_ABORTED),t.loadBalanced&&nh(t,{force:!1}),r();t.transaction.transition(it.TxnState.TRANSACTION_COMMITTED),u instanceof he.MongoError&&(u.hasErrorLabel(he.MongoErrorLabel.RetryableWriteError)||u instanceof he.MongoWriteConcernError||oh(u)?cL(u)&&(u.addErrorLabel(he.MongoErrorLabel.UnknownTransactionCommitResult),t.unpin({error:u})):u.hasErrorLabel(he.MongoErrorLabel.TransientTransactionError)&&t.unpin({error:u})),r(u,a)}t.transaction.recoveryToken&&(s.recoveryToken=t.transaction.recoveryToken),(0,w7.executeOperation)(t.client,new b7.RunAdminCommandOperation(void 0,s,{session:t,readPreference:D7.ReadPreference.primary,bypassPinningCheck:!0}),(u,a)=>{if(s.abortTransaction&&t.unpin(),u instanceof he.MongoError&&u.hasErrorLabel(he.MongoErrorLabel.RetryableWriteError))return s.commitTransaction&&(t.unpin({force:!0}),s.writeConcern=Object.assign({wtimeout:1e4},s.writeConcern,{w:"majority"})),(0,w7.executeOperation)(t.client,new b7.RunAdminCommandOperation(void 0,s,{session:t,readPreference:D7.ReadPreference.primary,bypassPinningCheck:!0}),o);o(u,a)})}var u1=class t{constructor(){this.id={id:new Zf.Binary((0,Xn.uuidV4)(),Zf.Binary.SUBTYPE_UUID)},this.lastUse=(0,Xn.now)(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(e){return Math.round((0,Xn.calculateDurationInMs)(this.lastUse)%864e5%36e5/6e4)>e-1}static clone(e){let r=new ArrayBuffer(16),n=Buffer.from(r);n.set(e.id.id.buffer);let s=new Zf.Binary(n,e.id.id.sub_type);return Object.setPrototypeOf({id:{id:s},lastUse:e.lastUse,txnNumber:e.txnNumber,isDirty:e.isDirty},t.prototype)}};Lr.ServerSession=u1;var ih=class{constructor(e){if(e==null)throw new he.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=e,this.sessions=new Xn.List}acquire(){let e=this.client.topology?.logicalSessionTimeoutMinutes??10,r=null;for(;this.sessions.length>0;){let n=this.sessions.shift();if(n!=null&&(this.client.topology?.loadBalanced||!n.hasTimedOut(e))){r=n;break}}return r==null&&(r=new u1),r}release(e){let r=this.client.topology?.logicalSessionTimeoutMinutes??10;if(this.client.topology?.loadBalanced&&!r&&this.sessions.unshift(e),!!r&&(this.sessions.prune(n=>n.hasTimedOut(r)),!e.hasTimedOut(r))){if(e.isDirty)return;this.sessions.unshift(e)}}};Lr.ServerSessionPool=ih;function dL(t,e,r){if(t.hasEnded)return new he.MongoExpiredSessionError;let n=t.serverSession;if(n==null)return new he.MongoRuntimeError("Unable to acquire server session");if(r.writeConcern?.w===0)return t&&t.explicit?new he.MongoAPIError("Cannot have explicit session with unacknowledged writes"):void 0;n.lastUse=(0,Xn.now)(),e.lsid=n.id;let s=t.inTransaction()||(0,it.isTransactionCommand)(e);if((!!r.willRetryWrite||s)&&(n.txnNumber+=t[rh],t[rh]=0,e.txnNumber=Zf.Long.fromNumber(n.txnNumber)),!s){t.transaction.state!==it.TxnState.NO_TRANSACTION&&t.transaction.transition(it.TxnState.NO_TRANSACTION),t.supports.causalConsistency&&t.operationTime&&(0,Xn.commandSupportsReadConcern)(e,r)?(e.readConcern=e.readConcern||{},Object.assign(e.readConcern,{afterClusterTime:t.operationTime})):t[ra]&&(e.readConcern=e.readConcern||{level:iL.ReadConcernLevel.snapshot},t[th]!=null&&Object.assign(e.readConcern,{atClusterTime:t[th]}));return}if(e.autocommit=!1,t.transaction.state===it.TxnState.STARTING_TRANSACTION){t.transaction.transition(it.TxnState.TRANSACTION_IN_PROGRESS),e.startTransaction=!0;let o=t.transaction.options.readConcern||t?.clientOptions?.readConcern;o&&(e.readConcern=o),t.supports.causalConsistency&&t.operationTime&&(e.readConcern=e.readConcern||{},Object.assign(e.readConcern,{afterClusterTime:t.operationTime}))}}Lr.applySession=dL;function pL(t,e){if(e.$clusterTime&&(0,Ny._advanceClusterTime)(t,e.$clusterTime),e.operationTime&&t&&t.supports.causalConsistency&&t.advanceOperationTime(e.operationTime),e.recoveryToken&&t&&t.inTransaction()&&(t.transaction._recoveryToken=e.recoveryToken),t?.[ra]&&t[th]==null){let r=e.cursor?.atClusterTime||e.atClusterTime;r&&(t[th]=r)}}Lr.updateSessionFromResponse=pL});var ii=y($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.assertUninitialized=$s.AbstractCursor=$s.CURSOR_FLAGS=void 0;var R7=require("stream"),vy=require("util"),Zn=pt(),fn=Q(),mL=ln(),x7=cn(),yL=Sy(),gL=p7(),$7=bn(),uh=It(),ky=a1(),N7=ne(),Er=Symbol("id"),_r=Symbol("documents"),ah=Symbol("server"),c1=Symbol("namespace"),na=Symbol("client"),si=Symbol("session"),jt=Symbol("options"),h1=Symbol("transform"),l1=Symbol("initialized"),Wo=Symbol("closed"),f1=Symbol("killed"),v7=Symbol("kInit");$s.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];var Ho=class extends mL.TypedEventEmitter{constructor(e,r,n={}){if(super(),!e.s.isMongoClient)throw new fn.MongoRuntimeError("Cursor must be constructed with MongoClient");this[na]=e,this[c1]=r,this[Er]=null,this[_r]=new N7.List,this[l1]=!1,this[Wo]=!1,this[f1]=!1,this[jt]={readPreference:n.readPreference&&n.readPreference instanceof uh.ReadPreference?n.readPreference:uh.ReadPreference.primary,...(0,Zn.pluckBSONSerializeOptions)(n)};let s=$7.ReadConcern.fromOptions(n);s&&(this[jt].readConcern=s),typeof n.batchSize=="number"&&(this[jt].batchSize=n.batchSize),n.comment!==void 0&&(this[jt].comment=n.comment),typeof n.maxTimeMS=="number"&&(this[jt].maxTimeMS=n.maxTimeMS),typeof n.maxAwaitTimeMS=="number"&&(this[jt].maxAwaitTimeMS=n.maxAwaitTimeMS),n.session instanceof ky.ClientSession?this[si]=n.session:this[si]=this[na].startSession({owner:this,explicit:!1})}get id(){return this[Er]??void 0}get isDead(){return(this[Er]?.isZero()??!1)||this[Wo]||this[f1]}get client(){return this[na]}get server(){return this[ah]}get namespace(){return this[c1]}get readPreference(){return this[jt].readPreference}get readConcern(){return this[jt].readConcern}get session(){return this[si]}set session(e){this[si]=e}get cursorOptions(){return this[jt]}get closed(){return this[Wo]}get killed(){return this[f1]}get loadBalanced(){return!!this[na].topology?.loadBalanced}bufferedCount(){return this[_r].length}readBufferedDocuments(e){let r=[],n=Math.min(e??this[_r].length,this[_r].length);for(let s=0;s<n;s++){let i=this[_r].shift();i!=null&&r.push(i)}return r}async*[Symbol.asyncIterator](){if(!this.closed)try{for(;;){let e=await this.next();if(e===null){if(!this.closed){let r="Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.";throw await sa(this,{needsToEmitClosed:!0}).catch(()=>null),new fn.MongoAPIError(r)}break}if(yield e,this[Er]===Zn.Long.ZERO)break}}finally{this.closed||await this.close().catch(()=>null)}}stream(e){if(e?.transform){let r=e.transform;return new lh(this).pipe(new R7.Transform({objectMode:!0,highWaterMark:1,transform(s,i,o){try{let u=r(s);o(void 0,u)}catch(u){o(u)}}}))}return new lh(this)}async hasNext(){if(this[Er]===Zn.Long.ZERO)return!1;if(this[_r].length!==0)return!0;let e=await ch(this,{blocking:!0,transform:!1});return e?(this[_r].unshift(e),!0):!1}async next(){if(this[Er]===Zn.Long.ZERO)throw new fn.MongoCursorExhaustedError;return ch(this,{blocking:!0,transform:!0})}async tryNext(){if(this[Er]===Zn.Long.ZERO)throw new fn.MongoCursorExhaustedError;return ch(this,{blocking:!1,transform:!0})}async forEach(e){if(typeof e!="function")throw new fn.MongoInvalidArgumentError('Argument "iterator" must be a function');for await(let r of this)if(e(r)===!1)break}async close(){let e=!this[Wo];this[Wo]=!0,await sa(this,{needsToEmitClosed:e})}async toArray(){let e=[];for await(let r of this)e.push(r);return e}addCursorFlag(e,r){if(zo(this),!$s.CURSOR_FLAGS.includes(e))throw new fn.MongoInvalidArgumentError(`Flag ${e} is not one of ${$s.CURSOR_FLAGS}`);if(typeof r!="boolean")throw new fn.MongoInvalidArgumentError(`Flag ${e} must be a boolean value`);return this[jt][e]=r,this}map(e){zo(this);let r=this[h1];return r?this[h1]=n=>e(r(n)):this[h1]=e,this}withReadPreference(e){if(zo(this),e instanceof uh.ReadPreference)this[jt].readPreference=e;else if(typeof e=="string")this[jt].readPreference=uh.ReadPreference.fromString(e);else throw new fn.MongoInvalidArgumentError(`Invalid read preference: ${e}`);return this}withReadConcern(e){zo(this);let r=$7.ReadConcern.fromOptions({readConcern:e});return r&&(this[jt].readConcern=r),this}maxTimeMS(e){if(zo(this),typeof e!="number")throw new fn.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[jt].maxTimeMS=e,this}batchSize(e){if(zo(this),this[jt].tailable)throw new fn.MongoTailableCursorError("Tailable cursor does not support batchSize");if(typeof e!="number")throw new fn.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this[jt].batchSize=e,this}rewind(){if(!this[l1])return;this[Er]=null,this[_r].clear(),this[Wo]=!1,this[f1]=!1,this[l1]=!1;let e=this[si];e&&e.explicit===!1&&(e.hasEnded||e.endSession().catch(()=>null),this[si]=this.client.startSession({owner:this,explicit:!1}))}_getMore(e,r){let n=new yL.GetMoreOperation(this[c1],this[Er],this[ah],{...this[jt],session:this[si],batchSize:e});(0,x7.executeOperation)(this[na],n,r)}[v7](e){this._initialize(this[si],(r,n)=>{if(n){let s=n.response;this[ah]=n.server,s.cursor&&(this[Er]=typeof s.cursor.id=="number"?Zn.Long.fromNumber(s.cursor.id):typeof s.cursor.id=="bigint"?Zn.Long.fromBigInt(s.cursor.id):s.cursor.id,s.cursor.ns&&(this[c1]=(0,N7.ns)(s.cursor.ns)),this[_r].pushMany(s.cursor.firstBatch)),this[Er]==null&&(this[Er]=Zn.Long.ZERO,this[_r].push(n.response))}if(this[l1]=!0,r)return qy(this,{error:r},()=>e(r,void 0));if(this.isDead)return qy(this,void 0,()=>e());e()})}};Ho.CLOSE="close";$s.AbstractCursor=Ho;async function ch(t,{blocking:e,transform:r}){if(t.closed)return null;do{if(t[Er]==null&&await(0,vy.promisify)(t[v7].bind(t))(),t[_r].length!==0){let s=t[_r].shift();if(s!=null&&r&&t[h1])try{return t[h1](s)}catch(i){throw await sa(t,{error:i,needsToEmitClosed:!0}).catch(()=>null),i}return s}if(t.isDead)return await sa(t,{}),null;let n=t[jt].batchSize||1e3;try{let s=await(0,vy.promisify)(t._getMore.bind(t))(n);if(s){let i=typeof s.cursor.id=="number"?Zn.Long.fromNumber(s.cursor.id):typeof s.cursor.id=="bigint"?Zn.Long.fromBigInt(s.cursor.id):s.cursor.id;t[_r].pushMany(s.cursor.nextBatch),t[Er]=i}}catch(s){throw await sa(t,{error:s}).catch(()=>null),s}if(t.isDead&&await sa(t,{}),t[_r].length===0&&e===!1)return null}while(!t.isDead||t[_r].length!==0);return null}var sa=(0,vy.promisify)(qy);function qy(t,e,r){let n=t[Er],s=t[c1],i=t[ah],o=t[si],u=e?.error,a=e?.needsToEmitClosed??t[_r].length===0;if(u&&t.loadBalanced&&u instanceof fn.MongoNetworkError)return c();if(n==null||i==null||n.isZero()||s==null){if(a&&(t[Wo]=!0,t[Er]=Zn.Long.ZERO,t.emit(Ho.CLOSE)),o){if(o.owner===t){o.endSession({error:u}).finally(()=>{r()});return}o.inTransaction()||(0,ky.maybeClearPinnedConnection)(o,{error:u})}return r()}function c(){if(o){if(o.owner===t){o.endSession({error:u}).finally(()=>{t.emit(Ho.CLOSE),r()});return}o.inTransaction()||(0,ky.maybeClearPinnedConnection)(o,{error:u})}return t.emit(Ho.CLOSE),r()}if(t[f1]=!0,o.hasEnded)return c();(0,x7.executeOperation)(t[na],new gL.KillCursorsOperation(n,s,i,{session:o})).catch(()=>null).finally(c)}function zo(t){if(t[l1])throw new fn.MongoCursorInUseError}$s.assertUninitialized=zo;var lh=class extends R7.Readable{constructor(e){super({objectMode:!0,autoDestroy:!1,highWaterMark:1}),this._readInProgress=!1,this._cursor=e}_read(e){this._readInProgress||(this._readInProgress=!0,this._readNext())}_destroy(e,r){this._cursor.close().then(()=>r(e),n=>r(n))}_readNext(){ch(this._cursor,{blocking:!0,transform:!0}).then(e=>{if(e==null)this.push(null);else if(this.destroyed)this._cursor.close().catch(()=>null);else{if(this.push(e))return this._readNext();this._readInProgress=!1}},e=>e.message.match(/server is closed/)?(this._cursor.close().catch(()=>null),this.push(null)):e.message.match(/operation was interrupted/)?this.push(null):this.destroy(e))}}});var d1=y(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.AggregationCursor=void 0;var k7=Uf(),q7=cn(),EL=ne(),Mn=ii(),Ar=Symbol("pipeline"),fh=Symbol("options"),Ly=class t extends Mn.AbstractCursor{constructor(e,r,n=[],s={}){super(e,r,s),this[Ar]=n,this[fh]=s}get pipeline(){return this[Ar]}clone(){let e=(0,EL.mergeOptions)({},this[fh]);return delete e.session,new t(this.client,this.namespace,this[Ar],{...e})}map(e){return super.map(e)}_initialize(e,r){let n=new k7.AggregateOperation(this.namespace,this[Ar],{...this[fh],...this.cursorOptions,session:e});(0,q7.executeOperation)(this.client,n,(s,i)=>{if(s||i==null)return r(s);r(void 0,{server:n.server,session:e,response:i})})}async explain(e){return(0,q7.executeOperation)(this.client,new k7.AggregateOperation(this.namespace,this[Ar],{...this[fh],...this.cursorOptions,explain:e??!0}))}group(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$group:e}),this}limit(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$limit:e}),this}match(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$match:e}),this}out(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$out:e}),this}project(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$project:e}),this}lookup(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$lookup:e}),this}redact(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$redact:e}),this}skip(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$skip:e}),this}sort(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$sort:e}),this}unwind(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$unwind:e}),this}geoNear(e){return(0,Mn.assertUninitialized)(this),this[Ar].push({$geoNear:e}),this}};hh.AggregationCursor=Ly});var Uy=y(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.CountOperation=void 0;var _L=mt(),jy=Ne(),dh=class extends _L.CommandCallbackOperation{constructor(e,r,n){super({s:{namespace:e}},n),this.options=n,this.collectionName=e.collection,this.query=r}executeCallback(e,r,n){let s=this.options,i={count:this.collectionName,query:this.query};typeof s.limit=="number"&&(i.limit=s.limit),typeof s.skip=="number"&&(i.skip=s.skip),s.hint!=null&&(i.hint=s.hint),typeof s.maxTimeMS=="number"&&(i.maxTimeMS=s.maxTimeMS),super.executeCommandCallback(e,r,i,(o,u)=>{n(o,u?u.n:0)})}};ph.CountOperation=dh;(0,jy.defineAspects)(dh,[jy.Aspect.READ_OPERATION,jy.Aspect.RETRYABLE])});var yh=y(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.formatSort=void 0;var L7=Q();function ia(t=1){let e=`${t}`.toLowerCase();if(AL(t))return t;switch(e){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new L7.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(t)}`)}}function AL(t){return typeof t=="object"&&t!=null&&"$meta"in t&&typeof t.$meta=="string"}function OL(t){if(Array.isArray(t)&&t.length===2)try{return ia(t[1]),!0}catch{return!1}return!1}function CL(t){return Array.isArray(t)&&Array.isArray(t[0])}function SL(t){return t instanceof Map&&t.size>0}function wL(t){return new Map([[`${t[0]}`,ia([t[1]])]])}function bL(t){let e=t.map(([r,n])=>[`${r}`,ia(n)]);return new Map(e)}function DL(t){let e=t.map(r=>[`${r}`,1]);return new Map(e)}function BL(t){let e=Object.entries(t).map(([r,n])=>[`${r}`,ia(n)]);return new Map(e)}function TL(t){let e=Array.from(t).map(([r,n])=>[`${r}`,ia(n)]);return new Map(e)}function PL(t,e){if(t!=null){if(typeof t=="string")return new Map([[t,ia(e)]]);if(typeof t!="object")throw new L7.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(t)} Sort must be a valid object`);if(!Array.isArray(t))return SL(t)?TL(t):Object.keys(t).length?BL(t):void 0;if(t.length)return CL(t)?bL(t):OL(t)?wL(t):DL(t)}}mh.formatSort=PL});var U7=y(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.FindOperation=void 0;var ML=Q(),FL=bn(),IL=yh(),j7=ne(),$L=mt(),p1=Ne(),gh=class extends $L.CommandCallbackOperation{constructor(e,r,n={},s={}){if(super(e,s),this.options={...s},delete this.options.writeConcern,this.ns=r,typeof n!="object"||Array.isArray(n))throw new ML.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");this.filter=n!=null&&n._bsontype==="ObjectId"?{_id:n}:n}executeCallback(e,r,n){this.server=e;let s=this.options,i=NL(this.ns,this.filter,s);this.explain&&(i=(0,j7.decorateWithExplain)(i,this.explain)),e.command(this.ns,i,{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:r},n)}};Eh.FindOperation=gh;function NL(t,e,r){let n={find:t.collection,filter:e};if(r.sort&&(n.sort=(0,IL.formatSort)(r.sort)),r.projection){let i=r.projection;i&&Array.isArray(i)&&(i=i.length?i.reduce((o,u)=>(o[u]=1,o),{}):{_id:1}),n.projection=i}r.hint&&(n.hint=(0,j7.normalizeHintField)(r.hint)),typeof r.skip=="number"&&(n.skip=r.skip),typeof r.limit=="number"&&(r.limit<0?(n.limit=-r.limit,n.singleBatch=!0):n.limit=r.limit),typeof r.batchSize=="number"&&(r.batchSize<0?(r.limit&&r.limit!==0&&Math.abs(r.batchSize)<Math.abs(r.limit)&&(n.limit=-r.batchSize),n.singleBatch=!0):n.batchSize=r.batchSize),typeof r.singleBatch=="boolean"&&(n.singleBatch=r.singleBatch),r.comment!==void 0&&(n.comment=r.comment),typeof r.maxTimeMS=="number"&&(n.maxTimeMS=r.maxTimeMS);let s=FL.ReadConcern.fromOptions(r);return s&&(n.readConcern=s.toJSON()),r.max&&(n.max=r.max),r.min&&(n.min=r.min),typeof r.returnKey=="boolean"&&(n.returnKey=r.returnKey),typeof r.showRecordId=="boolean"&&(n.showRecordId=r.showRecordId),typeof r.tailable=="boolean"&&(n.tailable=r.tailable),typeof r.oplogReplay=="boolean"&&(n.oplogReplay=r.oplogReplay),typeof r.timeout=="boolean"?n.noCursorTimeout=!r.timeout:typeof r.noCursorTimeout=="boolean"&&(n.noCursorTimeout=r.noCursorTimeout),typeof r.awaitData=="boolean"&&(n.awaitData=r.awaitData),typeof r.allowPartialResults=="boolean"&&(n.allowPartialResults=r.allowPartialResults),r.collation&&(n.collation=r.collation),typeof r.allowDiskUse=="boolean"&&(n.allowDiskUse=r.allowDiskUse),r.let&&(n.let=r.let),n}(0,p1.defineAspects)(gh,[p1.Aspect.READ_OPERATION,p1.Aspect.RETRYABLE,p1.Aspect.EXPLAINABLE,p1.Aspect.CURSOR_CREATING])});var Hy=y(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.FindCursor=oa.FLAGS=void 0;var RL=pt(),es=Q(),xL=Uy(),Vy=cn(),V7=U7(),Wy=yh(),W7=ne(),Yt=ii(),Go=Symbol("filter"),m1=Symbol("numReturned"),De=Symbol("builtOptions");oa.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];var zy=class t extends Yt.AbstractCursor{constructor(e,r,n={},s={}){super(e,r,s),this[Go]=n,this[De]=s,s.sort!=null&&(this[De].sort=(0,Wy.formatSort)(s.sort))}clone(){let e=(0,W7.mergeOptions)({},this[De]);return delete e.session,new t(this.client,this.namespace,this[Go],{...e})}map(e){return super.map(e)}_initialize(e,r){let n=new V7.FindOperation(void 0,this.namespace,this[Go],{...this[De],...this.cursorOptions,session:e});(0,Vy.executeOperation)(this.client,n,(s,i)=>{if(s||i==null)return r(s);i.cursor?this[m1]=i.cursor.firstBatch.length:this[m1]=i.documents?i.documents.length:0,r(void 0,{server:n.server,session:e,response:i})})}_getMore(e,r){let n=this[m1];if(n){let s=this[De].limit;if(e=s&&s>0&&n+e>s?s-n:e,e<=0){this.close().finally(()=>r(void 0,{cursor:{id:RL.Long.ZERO,nextBatch:[]}}));return}}super._getMore(e,(s,i)=>{if(s)return r(s);i&&(this[m1]=this[m1]+i.cursor.nextBatch.length),r(void 0,i)})}async count(e){if((0,W7.emitWarningOnce)("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),typeof e=="boolean")throw new es.MongoInvalidArgumentError("Invalid first parameter to count");return(0,Vy.executeOperation)(this.client,new xL.CountOperation(this.namespace,this[Go],{...this[De],...this.cursorOptions,...e}))}async explain(e){return(0,Vy.executeOperation)(this.client,new V7.FindOperation(void 0,this.namespace,this[Go],{...this[De],...this.cursorOptions,explain:e??!0}))}filter(e){return(0,Yt.assertUninitialized)(this),this[Go]=e,this}hint(e){return(0,Yt.assertUninitialized)(this),this[De].hint=e,this}min(e){return(0,Yt.assertUninitialized)(this),this[De].min=e,this}max(e){return(0,Yt.assertUninitialized)(this),this[De].max=e,this}returnKey(e){return(0,Yt.assertUninitialized)(this),this[De].returnKey=e,this}showRecordId(e){return(0,Yt.assertUninitialized)(this),this[De].showRecordId=e,this}addQueryModifier(e,r){if((0,Yt.assertUninitialized)(this),e[0]!=="$")throw new es.MongoInvalidArgumentError(`${e} is not a valid query modifier`);switch(e.substr(1)){case"comment":this[De].comment=r;break;case"explain":this[De].explain=r;break;case"hint":this[De].hint=r;break;case"max":this[De].max=r;break;case"maxTimeMS":this[De].maxTimeMS=r;break;case"min":this[De].min=r;break;case"orderby":this[De].sort=(0,Wy.formatSort)(r);break;case"query":this[Go]=r;break;case"returnKey":this[De].returnKey=r;break;case"showDiskLoc":this[De].showRecordId=r;break;default:throw new es.MongoInvalidArgumentError(`Invalid query modifier: ${e}`)}return this}comment(e){return(0,Yt.assertUninitialized)(this),this[De].comment=e,this}maxAwaitTimeMS(e){if((0,Yt.assertUninitialized)(this),typeof e!="number")throw new es.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this[De].maxAwaitTimeMS=e,this}maxTimeMS(e){if((0,Yt.assertUninitialized)(this),typeof e!="number")throw new es.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[De].maxTimeMS=e,this}project(e){return(0,Yt.assertUninitialized)(this),this[De].projection=e,this}sort(e,r){if((0,Yt.assertUninitialized)(this),this[De].tailable)throw new es.MongoTailableCursorError("Tailable cursor does not support sorting");return this[De].sort=(0,Wy.formatSort)(e,r),this}allowDiskUse(e=!0){if((0,Yt.assertUninitialized)(this),!this[De].sort)throw new es.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');return e?(this[De].allowDiskUse=!0,this):(this[De].allowDiskUse=!1,this)}collation(e){return(0,Yt.assertUninitialized)(this),this[De].collation=e,this}limit(e){if((0,Yt.assertUninitialized)(this),this[De].tailable)throw new es.MongoTailableCursorError("Tailable cursor does not support limit");if(typeof e!="number")throw new es.MongoInvalidArgumentError('Operation "limit" requires an integer');return this[De].limit=e,this}skip(e){if((0,Yt.assertUninitialized)(this),this[De].tailable)throw new es.MongoTailableCursorError("Tailable cursor does not support skip");if(typeof e!="number")throw new es.MongoInvalidArgumentError('Operation "skip" requires an integer');return this[De].skip=e,this}};oa.FindCursor=zy});var _1=y(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.IndexInformationOperation=Bt.IndexExistsOperation=Bt.ListIndexesOperation=Bt.DropIndexesOperation=Bt.DropIndexOperation=Bt.EnsureIndexOperation=Bt.CreateIndexOperation=Bt.CreateIndexesOperation=Bt.IndexesOperation=void 0;var Gy=Q(),vL=It(),Jy=ne(),Xy=mt(),Zy=cy(),Qt=Ne(),kL=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);function qL(t){return typeof t=="number"||t==="2d"||t==="2dsphere"||t==="text"||t==="geoHaystack"}function LL(t){return Array.isArray(t)&&t.length===2&&qL(t[1])}function jL(t,e){let r=new Map,n=!Array.isArray(t)||LL(t)?[t]:t;for(let s of n)if(typeof s=="string")r.set(s,1);else if(Array.isArray(s))r.set(s[0],s[1]??1);else if(s instanceof Map)for(let[i,o]of s)r.set(i,o);else if((0,Jy.isObject)(s))for(let[i,o]of Object.entries(s))r.set(i,o);return{...e,key:r}}var Ky=class extends Qt.AbstractCallbackOperation{constructor(e,r){super(r),this.options=r,this.collection=e}executeCallback(e,r,n){let s=this.collection,i=this.options;(0,Zy.indexInformation)(s.s.db,s.collectionName,{full:!0,...i,readPreference:this.readPreference,session:r},n)}};Bt.IndexesOperation=Ky;var y1=class extends Xy.CommandCallbackOperation{constructor(e,r,n,s){super(e,s),this.options=s??{},this.collectionName=r,this.indexes=n.map(i=>{let o=i.key instanceof Map?i.key:new Map(Object.entries(i.key)),u=i.name!=null?i.name:Array.from(o).flat().join("_");return{...Object.fromEntries(Object.entries({...i}).filter(([c])=>kL.has(c))),name:u,key:o}})}executeCallback(e,r,n){let s=this.options,i=this.indexes,o=(0,Jy.maxWireVersion)(e),u={createIndexes:this.collectionName,indexes:i};if(s.commitQuorum!=null){if(o<9){n(new Gy.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4"));return}u.commitQuorum=s.commitQuorum}this.options.collation=void 0,super.executeCommandCallback(e,r,u,a=>{if(a){n(a);return}let c=i.map(l=>l.name||"");n(void 0,c)})}};Bt.CreateIndexesOperation=y1;var g1=class extends y1{constructor(e,r,n,s){super(e,r,[jL(n,s)],s)}executeCallback(e,r,n){super.executeCallback(e,r,(s,i)=>s||!i?n(s):n(void 0,i[0]))}};Bt.CreateIndexOperation=g1;var _h=class extends g1{constructor(e,r,n,s){super(e,r,n,s),this.readPreference=vL.ReadPreference.primary,this.db=e,this.collectionName=r}executeCallback(e,r,n){let s=this.indexes[0].name;this.db.collection(this.collectionName).listIndexes({session:r}).toArray().then(o=>{if(o=Array.isArray(o)?o:[o],o.some(u=>u.name===s)){n(void 0,s);return}super.executeCallback(e,r,n)},o=>o instanceof Gy.MongoError&&o.code===Gy.MONGODB_ERROR_CODES.NamespaceNotFound?super.executeCallback(e,r,n):n(o))}};Bt.EnsureIndexOperation=_h;var E1=class extends Xy.CommandCallbackOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.collection=e,this.indexName=r}executeCallback(e,r,n){let s={dropIndexes:this.collection.collectionName,index:this.indexName};super.executeCommandCallback(e,r,s,n)}};Bt.DropIndexOperation=E1;var Ah=class extends E1{constructor(e,r){super(e,"*",r)}executeCallback(e,r,n){super.executeCallback(e,r,s=>{if(s)return n(s,!1);n(void 0,!0)})}};Bt.DropIndexesOperation=Ah;var Oh=class extends Xy.CommandCallbackOperation{constructor(e,r){super(e,r),this.options={...r},delete this.options.writeConcern,this.collectionNamespace=e.s.namespace}executeCallback(e,r,n){let s=(0,Jy.maxWireVersion)(e),i=this.options.batchSize?{batchSize:this.options.batchSize}:{},o={listIndexes:this.collectionNamespace.collection,cursor:i};s>=9&&this.options.comment!==void 0&&(o.comment=this.options.comment),super.executeCommandCallback(e,r,o,n)}};Bt.ListIndexesOperation=Oh;var Yy=class extends Qt.AbstractCallbackOperation{constructor(e,r,n){super(n),this.options=n,this.collection=e,this.indexes=r}executeCallback(e,r,n){let s=this.collection,i=this.indexes;(0,Zy.indexInformation)(s.s.db,s.collectionName,{...this.options,readPreference:this.readPreference,session:r},(o,u)=>{if(o!=null)return n(o);if(!Array.isArray(i))return n(void 0,u[i]!=null);for(let a=0;a<i.length;a++)if(u[i[a]]==null)return n(void 0,!1);return n(void 0,!0)})}};Bt.IndexExistsOperation=Yy;var Qy=class extends Qt.AbstractCallbackOperation{constructor(e,r,n){super(n),this.options=n??{},this.db=e,this.name=r}executeCallback(e,r,n){let s=this.db,i=this.name;(0,Zy.indexInformation)(s,i,{...this.options,readPreference:this.readPreference,session:r},n)}};Bt.IndexInformationOperation=Qy;(0,Qt.defineAspects)(Oh,[Qt.Aspect.READ_OPERATION,Qt.Aspect.RETRYABLE,Qt.Aspect.CURSOR_CREATING]);(0,Qt.defineAspects)(y1,[Qt.Aspect.WRITE_OPERATION]);(0,Qt.defineAspects)(g1,[Qt.Aspect.WRITE_OPERATION]);(0,Qt.defineAspects)(_h,[Qt.Aspect.WRITE_OPERATION]);(0,Qt.defineAspects)(E1,[Qt.Aspect.WRITE_OPERATION]);(0,Qt.defineAspects)(Ah,[Qt.Aspect.WRITE_OPERATION])});var tg=y(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.ListIndexesCursor=void 0;var UL=cn(),VL=_1(),WL=ii(),eg=class t extends WL.AbstractCursor{constructor(e,r){super(e.client,e.s.namespace,r),this.parent=e,this.options=r}clone(){return new t(this.parent,{...this.options,...this.cursorOptions})}_initialize(e,r){let n=new VL.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:e});(0,UL.executeOperation)(this.parent.client,n,(s,i)=>{if(s||i==null)return r(s);r(void 0,{server:n.server,session:e,response:i})})}};Ch.ListIndexesCursor=eg});var z7=y(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.ListSearchIndexesCursor=void 0;var zL=d1(),rg=class extends zL.AggregationCursor{constructor({fullNamespace:e,client:r},n,s={}){let i=n==null?[{$listSearchIndexes:{}}]:[{$listSearchIndexes:{name:n}}];super(r,e,i,s)}};Sh.ListSearchIndexesCursor=rg});var H7=y(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.CountDocumentsOperation=void 0;var HL=Uf(),ng=class extends HL.AggregateOperation{constructor(e,r,n){let s=[];s.push({$match:r}),typeof n.skip=="number"&&s.push({$skip:n.skip}),typeof n.limit=="number"&&s.push({$limit:n.limit}),s.push({$group:{_id:1,n:{$sum:1}}}),super(e.s.namespace,s,n)}executeCallback(e,r,n){super.executeCallback(e,r,(s,i)=>{if(s||!i){n(s);return}let o=i;if(o.cursor==null||o.cursor.firstBatch==null){n(void 0,0);return}let u=o.cursor.firstBatch;n(void 0,u.length?u[0].n:0)})}};wh.CountDocumentsOperation=ng});var K7=y(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.DistinctOperation=void 0;var G7=ne(),GL=mt(),bh=Ne(),Dh=class extends GL.CommandCallbackOperation{constructor(e,r,n,s){super(e,s),this.options=s??{},this.collection=e,this.key=r,this.query=n}executeCallback(e,r,n){let s=this.collection,i=this.key,o=this.query,u=this.options,a={distinct:s.collectionName,key:i,query:o};typeof u.maxTimeMS=="number"&&(a.maxTimeMS=u.maxTimeMS),typeof u.comment<"u"&&(a.comment=u.comment),(0,G7.decorateWithReadConcern)(a,s,u);try{(0,G7.decorateWithCollation)(a,s,u)}catch(c){return n(c)}super.executeCommandCallback(e,r,a,(c,l)=>{if(c){n(c);return}n(void 0,this.explain?l:l.values)})}};Bh.DistinctOperation=Dh;(0,bh.defineAspects)(Dh,[bh.Aspect.READ_OPERATION,bh.Aspect.RETRYABLE,bh.Aspect.EXPLAINABLE])});var sg=y(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.DropDatabaseOperation=ua.DropCollectionOperation=void 0;var Y7=Q(),Q7=mt(),Th=Ne(),Ph=class t extends Q7.CommandCallbackOperation{constructor(e,r,n={}){super(e,n),this.db=e,this.options=n,this.name=r}executeCallback(e,r,n){(async()=>{let s=this.db,i=this.options,o=this.name,u=s.client.options.autoEncryption?.encryptedFieldsMap,a=i.encryptedFields??u?.[`${s.databaseName}.${o}`];if(!a&&u&&(a=(await s.listCollections({name:o},{nameOnly:!1}).toArray())?.[0]?.options?.encryptedFields),a){let c=a.escCollection||`enxcol_.${o}.esc`,l=a.ecocCollection||`enxcol_.${o}.ecoc`;for(let f of[c,l]){let h=new t(s,f);try{await h.executeWithoutEncryptedFieldsCheck(e,r)}catch(d){if(!(d instanceof Y7.MongoServerError)||d.code!==Y7.MONGODB_ERROR_CODES.NamespaceNotFound)throw d}}}return this.executeWithoutEncryptedFieldsCheck(e,r)})().then(s=>n(void 0,s),s=>n(s))}executeWithoutEncryptedFieldsCheck(e,r){return new Promise((n,s)=>{super.executeCommandCallback(e,r,{drop:this.name},(i,o)=>{if(i)return s(i);n(!!o.ok)})})}};ua.DropCollectionOperation=Ph;var Mh=class extends Q7.CommandCallbackOperation{constructor(e,r){super(e,r),this.options=r}executeCallback(e,r,n){super.executeCommandCallback(e,r,{dropDatabase:1},(s,i)=>{if(s)return n(s);if(i.ok)return n(void 0,!0);n(void 0,!1)})}};ua.DropDatabaseOperation=Mh;(0,Th.defineAspects)(Ph,[Th.Aspect.WRITE_OPERATION]);(0,Th.defineAspects)(Mh,[Th.Aspect.WRITE_OPERATION])});var J7=y($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.EstimatedDocumentCountOperation=void 0;var KL=mt(),Fh=Ne(),Ih=class extends KL.CommandCallbackOperation{constructor(e,r={}){super(e,r),this.options=r,this.collectionName=e.collectionName}executeCallback(e,r,n){let s={count:this.collectionName};typeof this.options.maxTimeMS=="number"&&(s.maxTimeMS=this.options.maxTimeMS),this.options.comment!==void 0&&(s.comment=this.options.comment),super.executeCommandCallback(e,r,s,(i,o)=>{if(i){n(i);return}n(void 0,o?.n||0)})}};$h.EstimatedDocumentCountOperation=Ih;(0,Fh.defineAspects)(Ih,[Fh.Aspect.READ_OPERATION,Fh.Aspect.RETRYABLE,Fh.Aspect.CURSOR_CREATING])});var ag=y(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.FindOneAndUpdateOperation=ts.FindOneAndReplaceOperation=ts.FindOneAndDeleteOperation=ts.ReturnDocument=void 0;var Yi=Q(),YL=It(),QL=yh(),Rh=ne(),JL=mt(),Nh=Ne();ts.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});function X7(t,e){return t.new=e.returnDocument===ts.ReturnDocument.AFTER,t.upsert=e.upsert===!0,e.bypassDocumentValidation===!0&&(t.bypassDocumentValidation=e.bypassDocumentValidation),t}var aa=class extends JL.CommandCallbackOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.cmdBase={remove:!1,new:!1,upsert:!1},n.includeResultMetadata??(n.includeResultMetadata=!0);let s=(0,QL.formatSort)(n.sort);s&&(this.cmdBase.sort=s),n.projection&&(this.cmdBase.fields=n.projection),n.maxTimeMS&&(this.cmdBase.maxTimeMS=n.maxTimeMS),n.writeConcern&&(this.cmdBase.writeConcern=n.writeConcern),n.let&&(this.cmdBase.let=n.let),n.comment!==void 0&&(this.cmdBase.comment=n.comment),this.readPreference=YL.ReadPreference.primary,this.collection=e,this.query=r}executeCallback(e,r,n){let s=this.collection,i=this.query,o={...this.options,...this.bsonOptions},u={findAndModify:s.collectionName,query:i,...this.cmdBase};try{(0,Rh.decorateWithCollation)(u,s,o)}catch(a){return n(a)}if(o.hint){if(this.writeConcern?.w===0||(0,Rh.maxWireVersion)(e)<8){n(new Yi.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands"));return}u.hint=o.hint}super.executeCommandCallback(e,r,u,(a,c)=>a?n(a):n(void 0,o.includeResultMetadata?c:c.value??null))}},ig=class extends aa{constructor(e,r,n){if(r==null||typeof r!="object")throw new Yi.MongoInvalidArgumentError('Argument "filter" must be an object');super(e,r,n),this.cmdBase.remove=!0}};ts.FindOneAndDeleteOperation=ig;var og=class extends aa{constructor(e,r,n,s){if(r==null||typeof r!="object")throw new Yi.MongoInvalidArgumentError('Argument "filter" must be an object');if(n==null||typeof n!="object")throw new Yi.MongoInvalidArgumentError('Argument "replacement" must be an object');if((0,Rh.hasAtomicOperators)(n))throw new Yi.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(e,r,s),this.cmdBase.update=n,X7(this.cmdBase,s)}};ts.FindOneAndReplaceOperation=og;var ug=class extends aa{constructor(e,r,n,s){if(r==null||typeof r!="object")throw new Yi.MongoInvalidArgumentError('Argument "filter" must be an object');if(n==null||typeof n!="object")throw new Yi.MongoInvalidArgumentError('Argument "update" must be an object');if(!(0,Rh.hasAtomicOperators)(n))throw new Yi.MongoInvalidArgumentError("Update document requires atomic operators");super(e,r,s),this.cmdBase.update=n,X7(this.cmdBase,s),s.arrayFilters&&(this.cmdBase.arrayFilters=s.arrayFilters)}};ts.FindOneAndUpdateOperation=ug;(0,Nh.defineAspects)(aa,[Nh.Aspect.WRITE_OPERATION,Nh.Aspect.RETRYABLE,Nh.Aspect.EXPLAINABLE])});var Z7=y(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.IsCappedOperation=void 0;var XL=Q(),ZL=Ne(),cg=class extends ZL.AbstractCallbackOperation{constructor(e,r){super(r),this.options=r,this.collection=e}executeCallback(e,r,n){let s=this.collection;s.s.db.listCollections({name:s.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:r}).toArray().then(i=>{if(i.length===0)return n(new XL.MongoAPIError(`collection ${s.namespace} not found`));n(void 0,!!i[0].options?.capped)},i=>n(i))}};xh.IsCappedOperation=cg});var eO=y(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.OptionsOperation=void 0;var ej=Q(),tj=Ne(),lg=class extends tj.AbstractCallbackOperation{constructor(e,r){super(r),this.options=r,this.collection=e}executeCallback(e,r,n){let s=this.collection;s.s.db.listCollections({name:s.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:r}).toArray().then(i=>{if(i.length===0)return n(new ej.MongoAPIError(`collection ${s.namespace} not found`));n(void 0,i[0].options)},i=>n(i))}};vh.OptionsOperation=lg});var fg=y(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.RenameOperation=void 0;var rj=Ko(),nj=Q(),sj=ne(),tO=Ne(),ij=Hu(),kh=class extends ij.RunAdminCommandOperation{constructor(e,r,n){(0,sj.checkCollectionName)(r);let s=e.namespace,i=e.s.namespace.withCollection(r).toString(),o=typeof n.dropTarget=="boolean"?n.dropTarget:!1,u={renameCollection:s,to:i,dropTarget:o};super(e,u,n),this.options=n,this.collection=e,this.newName=r}executeCallback(e,r,n){let s=this.collection;super.executeCallback(e,r,(i,o)=>{if(i)return n(i);if(o?.errmsg)return n(new nj.MongoServerError(o));let u;try{u=new rj.Collection(s.s.db,this.newName,s.s.options)}catch(a){return n(a)}return n(void 0,u)})}};qh.RenameOperation=kh;(0,tO.defineAspects)(kh,[tO.Aspect.WRITE_OPERATION])});var rO=y(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.CreateSearchIndexesOperation=void 0;var oj=Ne(),hg=class extends oj.AbstractCallbackOperation{constructor(e,r){super(),this.collection=e,this.descriptions=r}executeCallback(e,r,n){let s=this.collection.fullNamespace,i={createSearchIndexes:s.collection,indexes:this.descriptions};e.command(s,i,{session:r},(o,u)=>{if(o||!u){n(o);return}let a=u?.indexesCreated??[];n(void 0,a.map(({name:c})=>c))})}};Lh.CreateSearchIndexesOperation=hg});var nO=y(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.DropSearchIndexOperation=void 0;var uj=Ne(),dg=class extends uj.AbstractCallbackOperation{constructor(e,r){super(),this.collection=e,this.name=r}executeCallback(e,r,n){let s=this.collection.fullNamespace,i={dropSearchIndex:s.collection};typeof this.name=="string"&&(i.name=this.name),e.command(s,i,{session:r},o=>{if(o){n(o);return}n()})}};jh.DropSearchIndexOperation=dg});var sO=y(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.UpdateSearchIndexOperation=void 0;var aj=Ne(),pg=class extends aj.AbstractCallbackOperation{constructor(e,r,n){super(),this.collection=e,this.name=r,this.definition=n}executeCallback(e,r,n){let s=this.collection.fullNamespace,i={updateSearchIndex:s.collection,name:this.name,definition:this.definition};e.command(s,i,{session:r},o=>{if(o){n(o);return}n()})}};Uh.UpdateSearchIndexOperation=pg});var mg=y(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.DbStatsOperation=ca.CollStatsOperation=void 0;var iO=mt(),Vh=Ne(),Wh=class extends iO.CommandCallbackOperation{constructor(e,r){super(e,r),this.options=r??{},this.collectionName=e.collectionName}executeCallback(e,r,n){let s={collStats:this.collectionName};this.options.scale!=null&&(s.scale=this.options.scale),super.executeCommandCallback(e,r,s,n)}};ca.CollStatsOperation=Wh;var zh=class extends iO.CommandCallbackOperation{constructor(e,r){super(e,r),this.options=r}executeCallback(e,r,n){let s={dbStats:!0};this.options.scale!=null&&(s.scale=this.options.scale),super.executeCommandCallback(e,r,s,n)}};ca.DbStatsOperation=zh;(0,Vh.defineAspects)(Wh,[Vh.Aspect.READ_OPERATION]);(0,Vh.defineAspects)(zh,[Vh.Aspect.READ_OPERATION])});var Ko=y(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.Collection=void 0;var cj=pt(),lj=Ey(),fj=Ay(),hj=la(),dj=d1(),pj=Hy(),mj=tg(),yj=z7(),oO=Q(),gj=ay(),Ej=Uy(),_j=H7(),uO=oy(),Aj=K7(),Oj=sg(),Cj=J7(),qe=cn(),yg=ag(),Yo=_1(),aO=ly(),Sj=Z7(),wj=eO(),bj=fg(),Dj=rO(),Bj=nO(),Tj=sO(),Pj=mg(),gg=hy(),Mj=bn(),Eg=It(),Te=ne(),Fj=qr(),_g=class{constructor(e,r,n){(0,Te.checkCollectionName)(r),this.s={db:e,options:n,namespace:new Te.MongoDBCollectionNamespace(e.databaseName,r),pkFactory:e.options?.pkFactory??Te.DEFAULT_PK_FACTORY,readPreference:Eg.ReadPreference.fromOptions(n),bsonOptions:(0,cj.resolveBSONOptions)(n,e),readConcern:Mj.ReadConcern.fromOptions(n),writeConcern:Fj.WriteConcern.fromOptions(n)},this.client=e.client}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.fullNamespace.toString()}get fullNamespace(){return this.s.namespace}get readConcern(){return this.s.readConcern==null?this.s.db.readConcern:this.s.readConcern}get readPreference(){return this.s.readPreference==null?this.s.db.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern==null?this.s.db.writeConcern:this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(e){this.s.collectionHint=(0,Te.normalizeHintField)(e)}async insertOne(e,r){return(0,qe.executeOperation)(this.client,new aO.InsertOneOperation(this,e,(0,Te.resolveOptions)(this,r)))}async insertMany(e,r){return(0,qe.executeOperation)(this.client,new aO.InsertManyOperation(this,e,(0,Te.resolveOptions)(this,r??{ordered:!0})))}async bulkWrite(e,r){if(!Array.isArray(e))throw new oO.MongoInvalidArgumentError('Argument "operations" must be an array of documents');return(0,qe.executeOperation)(this.client,new gj.BulkWriteOperation(this,e,(0,Te.resolveOptions)(this,r??{ordered:!0})))}async updateOne(e,r,n){return(0,qe.executeOperation)(this.client,new gg.UpdateOneOperation(this,e,r,(0,Te.resolveOptions)(this,n)))}async replaceOne(e,r,n){return(0,qe.executeOperation)(this.client,new gg.ReplaceOneOperation(this,e,r,(0,Te.resolveOptions)(this,n)))}async updateMany(e,r,n){return(0,qe.executeOperation)(this.client,new gg.UpdateManyOperation(this,e,r,(0,Te.resolveOptions)(this,n)))}async deleteOne(e={},r={}){return(0,qe.executeOperation)(this.client,new uO.DeleteOneOperation(this,e,(0,Te.resolveOptions)(this,r)))}async deleteMany(e={},r={}){return(0,qe.executeOperation)(this.client,new uO.DeleteManyOperation(this,e,(0,Te.resolveOptions)(this,r)))}async rename(e,r){return(0,qe.executeOperation)(this.client,new bj.RenameOperation(this,e,{...r,readPreference:Eg.ReadPreference.PRIMARY}))}async drop(e){return(0,qe.executeOperation)(this.client,new Oj.DropCollectionOperation(this.s.db,this.collectionName,e))}async findOne(e={},r={}){return this.find(e,r).limit(-1).batchSize(1).next()}find(e={},r={}){return new pj.FindCursor(this.client,this.s.namespace,e,(0,Te.resolveOptions)(this,r))}async options(e){return(0,qe.executeOperation)(this.client,new wj.OptionsOperation(this,(0,Te.resolveOptions)(this,e)))}async isCapped(e){return(0,qe.executeOperation)(this.client,new Sj.IsCappedOperation(this,(0,Te.resolveOptions)(this,e)))}async createIndex(e,r){return(0,qe.executeOperation)(this.client,new Yo.CreateIndexOperation(this,this.collectionName,e,(0,Te.resolveOptions)(this,r)))}async createIndexes(e,r){return(0,qe.executeOperation)(this.client,new Yo.CreateIndexesOperation(this,this.collectionName,e,(0,Te.resolveOptions)(this,{...r,maxTimeMS:void 0})))}async dropIndex(e,r){return(0,qe.executeOperation)(this.client,new Yo.DropIndexOperation(this,e,{...(0,Te.resolveOptions)(this,r),readPreference:Eg.ReadPreference.primary}))}async dropIndexes(e){return(0,qe.executeOperation)(this.client,new Yo.DropIndexesOperation(this,(0,Te.resolveOptions)(this,e)))}listIndexes(e){return new mj.ListIndexesCursor(this,(0,Te.resolveOptions)(this,e))}async indexExists(e,r){return(0,qe.executeOperation)(this.client,new Yo.IndexExistsOperation(this,e,(0,Te.resolveOptions)(this,r)))}async indexInformation(e){return(0,qe.executeOperation)(this.client,new Yo.IndexInformationOperation(this.s.db,this.collectionName,(0,Te.resolveOptions)(this,e)))}async estimatedDocumentCount(e){return(0,qe.executeOperation)(this.client,new Cj.EstimatedDocumentCountOperation(this,(0,Te.resolveOptions)(this,e)))}async countDocuments(e={},r={}){return(0,qe.executeOperation)(this.client,new _j.CountDocumentsOperation(this,e,(0,Te.resolveOptions)(this,r)))}async distinct(e,r={},n={}){return(0,qe.executeOperation)(this.client,new Aj.DistinctOperation(this,e,r,(0,Te.resolveOptions)(this,n)))}async indexes(e){return(0,qe.executeOperation)(this.client,new Yo.IndexesOperation(this,(0,Te.resolveOptions)(this,e)))}async stats(e){return(0,qe.executeOperation)(this.client,new Pj.CollStatsOperation(this,e))}async findOneAndDelete(e,r){return(0,qe.executeOperation)(this.client,new yg.FindOneAndDeleteOperation(this,e,(0,Te.resolveOptions)(this,r)))}async findOneAndReplace(e,r,n){return(0,qe.executeOperation)(this.client,new yg.FindOneAndReplaceOperation(this,e,r,(0,Te.resolveOptions)(this,n)))}async findOneAndUpdate(e,r,n){return(0,qe.executeOperation)(this.client,new yg.FindOneAndUpdateOperation(this,e,r,(0,Te.resolveOptions)(this,n)))}aggregate(e=[],r){if(!Array.isArray(e))throw new oO.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');return new dj.AggregationCursor(this.client,this.s.namespace,e,(0,Te.resolveOptions)(this,r))}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new hj.ChangeStream(this,e,(0,Te.resolveOptions)(this,r))}initializeUnorderedBulkOp(e){return new fj.UnorderedBulkOperation(this,(0,Te.resolveOptions)(this,e))}initializeOrderedBulkOp(e){return new lj.OrderedBulkOperation(this,(0,Te.resolveOptions)(this,e))}async count(e={},r={}){return(0,qe.executeOperation)(this.client,new Ej.CountOperation(this.fullNamespace,e,(0,Te.resolveOptions)(this,r)))}listSearchIndexes(e,r){r=typeof e=="object"?e:r??{};let n=e==null||typeof e=="object"?null:e;return new yj.ListSearchIndexesCursor(this,n,r)}async createSearchIndex(e){let[r]=await this.createSearchIndexes([e]);return r}async createSearchIndexes(e){return(0,qe.executeOperation)(this.client,new Dj.CreateSearchIndexesOperation(this,e))}async dropSearchIndex(e){return(0,qe.executeOperation)(this.client,new Bj.DropSearchIndexOperation(this,e))}async updateSearchIndex(e,r){return(0,qe.executeOperation)(this.client,new Tj.UpdateSearchIndexOperation(this,e,r))}};Hh.Collection=_g});var Sg=y(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.ChangeStreamCursor=void 0;var Ag=la(),cO=kt(),Ij=Uf(),$j=cn(),Og=ne(),Nj=ii(),Cg=class t extends Nj.AbstractCursor{constructor(e,r,n=[],s={}){super(e,r,s),this.pipeline=n,this.options=s,this._resumeToken=null,this.startAtOperationTime=s.startAtOperationTime,s.startAfter?this.resumeToken=s.startAfter:s.resumeAfter&&(this.resumeToken=s.resumeAfter)}set resumeToken(e){this._resumeToken=e,this.emit(Ag.ChangeStream.RESUME_TOKEN_CHANGED,e)}get resumeToken(){return this._resumeToken}get resumeOptions(){let e={...this.options};for(let r of["resumeAfter","startAfter","startAtOperationTime"])delete e[r];return this.resumeToken!=null?this.options.startAfter&&!this.hasReceived?e.startAfter=this.resumeToken:e.resumeAfter=this.resumeToken:this.startAtOperationTime!=null&&(0,Og.maxWireVersion)(this.server)>=7&&(e.startAtOperationTime=this.startAtOperationTime),e}cacheResumeToken(e){this.bufferedCount()===0&&this.postBatchResumeToken?this.resumeToken=this.postBatchResumeToken:this.resumeToken=e,this.hasReceived=!0}_processBatch(e){let r=e.cursor;r.postBatchResumeToken&&(this.postBatchResumeToken=e.cursor.postBatchResumeToken,("firstBatch"in e.cursor?e.cursor.firstBatch:e.cursor.nextBatch).length===0&&(this.resumeToken=r.postBatchResumeToken))}clone(){return new t(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}_initialize(e,r){let n=new Ij.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.options,session:e});(0,$j.executeOperation)(e.client,n,(s,i)=>{if(s||i==null)return r(s);let o=n.server;this.maxWireVersion=(0,Og.maxWireVersion)(o),this.startAtOperationTime==null&&this.resumeAfter==null&&this.startAfter==null&&this.maxWireVersion>=7&&(this.startAtOperationTime=i.operationTime),this._processBatch(i),this.emit(cO.INIT,i),this.emit(cO.RESPONSE),r(void 0,{server:o,session:e,response:i})})}_getMore(e,r){super._getMore(e,(n,s)=>{if(n)return r(n);this.maxWireVersion=(0,Og.maxWireVersion)(this.server),this._processBatch(s),this.emit(Ag.ChangeStream.MORE,s),this.emit(Ag.ChangeStream.RESPONSE),r(n,s)})}};Gh.ChangeStreamCursor=Cg});var lO=y(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.ListCollectionsOperation=void 0;var Rj=ne(),xj=mt(),Kh=Ne(),Yh=class extends xj.CommandCallbackOperation{constructor(e,r,n){super(e,n),this.options={...n},delete this.options.writeConcern,this.db=e,this.filter=r,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,typeof this.options.batchSize=="number"&&(this.batchSize=this.options.batchSize)}executeCallback(e,r,n){return super.executeCommandCallback(e,r,this.generateCommand((0,Rj.maxWireVersion)(e)),n)}generateCommand(e){let r={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};return e>=9&&this.options.comment!==void 0&&(r.comment=this.options.comment),r}};Qh.ListCollectionsOperation=Yh;(0,Kh.defineAspects)(Yh,[Kh.Aspect.READ_OPERATION,Kh.Aspect.RETRYABLE,Kh.Aspect.CURSOR_CREATING])});var bg=y(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.ListCollectionsCursor=void 0;var vj=cn(),kj=lO(),qj=ii(),wg=class t extends qj.AbstractCursor{constructor(e,r,n){super(e.client,e.s.namespace,n),this.parent=e,this.filter=r,this.options=n}clone(){return new t(this.parent,this.filter,{...this.options,...this.cursorOptions})}_initialize(e,r){let n=new kj.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:e});(0,vj.executeOperation)(this.parent.client,n,(s,i)=>{if(s||i==null)return r(s);r(void 0,{server:n.server,session:e,response:i})})}};Jh.ListCollectionsCursor=wg});var hO=y(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.RunCommandCursor=void 0;var fa=Q(),fO=cn(),Lj=Sy(),jj=Hu(),Uj=ne(),Vj=ii(),Dg=class extends Vj.AbstractCursor{setComment(e){return this.getMoreOptions.comment=e,this}setMaxTimeMS(e){return this.getMoreOptions.maxAwaitTimeMS=e,this}setBatchSize(e){return this.getMoreOptions.batchSize=e,this}clone(){throw new fa.MongoAPIError("Clone not supported, create a new cursor with db.runCursorCommand")}withReadConcern(e){throw new fa.MongoAPIError("RunCommandCursor does not support readConcern it must be attached to the command being run")}addCursorFlag(e,r){throw new fa.MongoAPIError("RunCommandCursor does not support cursor flags, they must be attached to the command being run")}maxTimeMS(e){throw new fa.MongoAPIError("maxTimeMS must be configured on the command document directly, to configure getMore.maxTimeMS use cursor.setMaxTimeMS()")}batchSize(e){throw new fa.MongoAPIError("batchSize must be configured on the command document directly, to configure getMore.batchSize use cursor.setBatchSize()")}constructor(e,r,n={}){super(e.client,(0,Uj.ns)(e.namespace),n),this.getMoreOptions={},this.db=e,this.command=Object.freeze({...r})}_initialize(e,r){let n=new jj.RunCommandOperation(this.db,this.command,{...this.cursorOptions,session:e,readPreference:this.cursorOptions.readPreference});(0,fO.executeOperation)(this.client,n).then(s=>{if(s.cursor==null){r(new fa.MongoUnexpectedServerResponseError("Expected server to respond with cursor"));return}r(void 0,{server:n.server,session:e,response:s})},s=>r(s))}_getMore(e,r){let n=new Lj.GetMoreOperation(this.namespace,this.id,this.server,{...this.cursorOptions,session:this.session,...this.getMoreOptions});(0,fO.executeOperation)(this.client,n,r)}};Xh.RunCommandCursor=Dg});var dO=y(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.CollectionsOperation=void 0;var Wj=Ko(),zj=Ne(),Bg=class extends zj.AbstractCallbackOperation{constructor(e,r){super(r),this.options=r,this.db=e}executeCallback(e,r,n){this.db.listCollections({},{...this.options,nameOnly:!0,readPreference:this.readPreference,session:r}).toArray().then(s=>{let i=[];for(let{name:o}of s)o.includes("$")||i.push(new Wj.Collection(this.db,o,this.db.s.options));n(void 0,i)},s=>n(s))}};Zh.CollectionsOperation=Bg});var yO=y(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.CreateCollectionOperation=void 0;var pO=xo(),Hj=Ko(),Gj=Q(),Kj=mt(),Yj=_1(),mO=Ne(),Qj=new Set(["w","wtimeout","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","useBigInt64","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),Jj="Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.",ed=class t extends Kj.CommandCallbackOperation{constructor(e,r,n={}){super(e,n),this.options=n,this.db=e,this.name=r}executeCallback(e,r,n){(async()=>{let s=this.db,i=this.name,o=this.options,u=o.encryptedFields??s.client.options.autoEncryption?.encryptedFieldsMap?.[`${s.databaseName}.${i}`];if(u){if(!e.loadBalanced&&e.description.maxWireVersion<pO.MIN_SUPPORTED_QE_WIRE_VERSION)throw new Gj.MongoCompatibilityError(`${Jj} The minimum server version required is ${pO.MIN_SUPPORTED_QE_SERVER_VERSION}`);let c=u.escCollection??`enxcol_.${i}.esc`,l=u.ecocCollection??`enxcol_.${i}.ecoc`;for(let f of[c,l])await new t(s,f,{clusteredIndex:{key:{_id:1},unique:!0}}).executeWithoutEncryptedFieldsCheck(e,r);o.encryptedFields||(this.options={...this.options,encryptedFields:u})}let a=await this.executeWithoutEncryptedFieldsCheck(e,r);return u&&await new Yj.CreateIndexOperation(s,i,{__safeContent__:1},{}).execute(e,r),a})().then(s=>n(void 0,s),s=>n(s))}executeWithoutEncryptedFieldsCheck(e,r){return new Promise((n,s)=>{let i=this.db,o=this.name,u=this.options,a=l=>{if(l)return s(l);n(new Hj.Collection(i,o,u))},c={create:o};for(let l in u)u[l]!=null&&typeof u[l]!="function"&&!Qj.has(l)&&(c[l]=u[l]);super.executeCommandCallback(e,r,c,a)})}};td.CreateCollectionOperation=ed;(0,mO.defineAspects)(ed,[mO.Aspect.WRITE_OPERATION])});var EO=y(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.ProfilingLevelOperation=void 0;var gO=Q(),Xj=mt(),Tg=class extends Xj.CommandCallbackOperation{constructor(e,r){super(e,r),this.options=r}executeCallback(e,r,n){super.executeCommandCallback(e,r,{profile:-1},(s,i)=>{if(s==null&&i.ok===1){let o=i.was;return o===0?n(void 0,"off"):o===1?n(void 0,"slow_only"):o===2?n(void 0,"all"):n(new gO.MongoRuntimeError(`Illegal profiling level value ${o}`))}else s!=null?n(s):n(new gO.MongoRuntimeError("Error with profile command"))})}};rd.ProfilingLevelOperation=Tg});var Mg=y(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.SetProfilingLevelOperation=Ns.ProfilingLevel=void 0;var _O=Q(),Zj=ne(),eU=mt(),tU=new Set(["off","slow_only","all"]);Ns.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});var Pg=class extends eU.CommandCallbackOperation{constructor(e,r,n){switch(super(e,n),this.options=n,r){case Ns.ProfilingLevel.off:this.profile=0;break;case Ns.ProfilingLevel.slowOnly:this.profile=1;break;case Ns.ProfilingLevel.all:this.profile=2;break;default:this.profile=0;break}this.level=r}executeCallback(e,r,n){let s=this.level;if(!tU.has(s))return n(new _O.MongoInvalidArgumentError(`Profiling level must be one of "${(0,Zj.enumToString)(Ns.ProfilingLevel)}"`));super.executeCommandCallback(e,r,{profile:this.profile},(i,o)=>i==null&&o.ok===1?n(void 0,s):i!=null?n(i):n(new _O.MongoRuntimeError("Error with profile command")))}};Ns.SetProfilingLevelOperation=Pg});var id=y(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.Db=void 0;var rU=sy(),nU=pt(),sU=la(),iU=Ko(),ha=kt(),oU=d1(),uU=bg(),aU=hO(),nd=Q(),cU=J2(),lU=dO(),fU=yO(),AO=sg(),hn=cn(),OO=_1(),hU=EO(),dU=ey(),pU=fg(),mU=Hu(),yU=Mg(),gU=mg(),EU=bn(),CO=It(),Ut=ne(),_U=qr(),AU=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","useBigInt64","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites"],oi=class{constructor(e,r,n){n=n??{},n=(0,Ut.filterOptions)(n,AU),OU(r),this.s={options:n,readPreference:CO.ReadPreference.fromOptions(n),bsonOptions:(0,nU.resolveBSONOptions)(n,e),pkFactory:n?.pkFactory??Ut.DEFAULT_PK_FACTORY,readConcern:EU.ReadConcern.fromOptions(n),writeConcern:_U.WriteConcern.fromOptions(n),namespace:new Ut.MongoDBNamespace(r)},this.client=e}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get secondaryOk(){return this.s.readPreference?.preference!=="primary"||!1}get readConcern(){return this.s.readConcern}get readPreference(){return this.s.readPreference==null?this.client.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}async createCollection(e,r){return(0,hn.executeOperation)(this.client,new fU.CreateCollectionOperation(this,e,(0,Ut.resolveOptions)(this,r)))}async command(e,r){return(0,hn.executeOperation)(this.client,new mU.RunCommandOperation(this,e,r))}aggregate(e=[],r){return new oU.AggregationCursor(this.client,this.s.namespace,e,(0,Ut.resolveOptions)(this,r))}admin(){return new rU.Admin(this)}collection(e,r={}){if(typeof r=="function")throw new nd.MongoInvalidArgumentError("The callback form of this helper has been removed.");return new iU.Collection(this,e,(0,Ut.resolveOptions)(this,r))}async stats(e){return(0,hn.executeOperation)(this.client,new gU.DbStatsOperation(this,(0,Ut.resolveOptions)(this,e)))}listCollections(e={},r={}){return new uU.ListCollectionsCursor(this,e,(0,Ut.resolveOptions)(this,r))}async renameCollection(e,r,n){return(0,hn.executeOperation)(this.client,new pU.RenameOperation(this.collection(e),r,{...n,new_collection:!0,readPreference:CO.ReadPreference.primary}))}async dropCollection(e,r){return(0,hn.executeOperation)(this.client,new AO.DropCollectionOperation(this,e,(0,Ut.resolveOptions)(this,r)))}async dropDatabase(e){return(0,hn.executeOperation)(this.client,new AO.DropDatabaseOperation(this,(0,Ut.resolveOptions)(this,e)))}async collections(e){return(0,hn.executeOperation)(this.client,new lU.CollectionsOperation(this,(0,Ut.resolveOptions)(this,e)))}async createIndex(e,r,n){return(0,hn.executeOperation)(this.client,new OO.CreateIndexOperation(this,e,r,(0,Ut.resolveOptions)(this,n)))}async addUser(e,r,n){n=n!=null&&typeof n=="object"?n:r!=null&&typeof r=="object"?r:void 0;let s=typeof r=="string"?r:void 0;return(0,hn.executeOperation)(this.client,new cU.AddUserOperation(this,e,s,(0,Ut.resolveOptions)(this,n)))}async removeUser(e,r){return(0,hn.executeOperation)(this.client,new dU.RemoveUserOperation(this,e,(0,Ut.resolveOptions)(this,r)))}async setProfilingLevel(e,r){return(0,hn.executeOperation)(this.client,new yU.SetProfilingLevelOperation(this,e,(0,Ut.resolveOptions)(this,r)))}async profilingLevel(e){return(0,hn.executeOperation)(this.client,new hU.ProfilingLevelOperation(this,(0,Ut.resolveOptions)(this,e)))}async indexInformation(e,r){return(0,hn.executeOperation)(this.client,new OO.IndexInformationOperation(this,e,(0,Ut.resolveOptions)(this,r)))}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new sU.ChangeStream(this,e,(0,Ut.resolveOptions)(this,r))}runCursorCommand(e,r){return new aU.RunCommandCursor(this,e,r)}};oi.SYSTEM_NAMESPACE_COLLECTION=ha.SYSTEM_NAMESPACE_COLLECTION;oi.SYSTEM_INDEX_COLLECTION=ha.SYSTEM_INDEX_COLLECTION;oi.SYSTEM_PROFILE_COLLECTION=ha.SYSTEM_PROFILE_COLLECTION;oi.SYSTEM_USER_COLLECTION=ha.SYSTEM_USER_COLLECTION;oi.SYSTEM_COMMAND_COLLECTION=ha.SYSTEM_COMMAND_COLLECTION;oi.SYSTEM_JS_COLLECTION=ha.SYSTEM_JS_COLLECTION;sd.Db=oi;function OU(t){if(typeof t!="string")throw new nd.MongoInvalidArgumentError("Database name must be a string");if(t.length===0)throw new nd.MongoInvalidArgumentError("Database name cannot be the empty string");if(t==="$external")return;let e=[" ",".","$","/","\\"];for(let r=0;r<e.length;r++)if(t.indexOf(e[r])!==-1)throw new nd.MongoAPIError(`database names cannot contain the character '${e[r]}'`)}});var bO=y((Mae,wO)=>{wO.exports=ui;function ui(t,e){if(!(this instanceof ui))return new ui(t,e);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=t||1024,this.deduplicate=e?e.deduplicate:null,this.zeros=this.deduplicate?od(this.deduplicate.length):null}ui.prototype.updated=function(t){for(;this.deduplicate&&t.buffer[t.deduplicate]===this.deduplicate[t.deduplicate];)if(t.deduplicate++,t.deduplicate===this.deduplicate.length){t.deduplicate=0,t.buffer.equals&&t.buffer.equals(this.deduplicate)&&(t.buffer=this.deduplicate);break}t.updated||!this.updates||(t.updated=!0,this.updates.push(t))};ui.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var t=this.updates.pop();return t.updated=!1,t};ui.prototype._array=function(t,e){if(t>=this.maxPages){if(e)return;CU(this,t)}bU(t,this.path);for(var r=this.pages,n=this.level;n>0;n--){var s=this.path[n],i=r[s];if(!i){if(e)return;i=r[s]=new Array(32768)}r=i}return r};ui.prototype.get=function(t,e){var r=this._array(t,e),n=this.path[0],s=r&&r[n];return!s&&!e&&(s=r[n]=new SO(t,od(this.pageSize)),t>=this.length&&(this.length=t+1)),s&&s.buffer===this.deduplicate&&this.deduplicate&&!e&&(s.buffer=wU(s.buffer),s.deduplicate=0),s};ui.prototype.set=function(t,e){var r=this._array(t,!1),n=this.path[0];if(t>=this.length&&(this.length=t+1),!e||this.zeros&&e.equals&&e.equals(this.zeros)){r[n]=void 0;return}this.deduplicate&&e.equals&&e.equals(this.deduplicate)&&(e=this.deduplicate);var s=r[n],i=SU(e,this.pageSize);s?s.buffer=i:r[n]=new SO(t,i)};ui.prototype.toBuffer=function(){for(var t=new Array(this.length),e=od(this.pageSize),r=0;r<t.length;)for(var n=this._array(r,!0),s=0;s<32768&&r<t.length;s++)t[r++]=n&&n[s]?n[s].buffer:e;return Buffer.concat(t)};function CU(t,e){for(;t.maxPages<e;){var r=t.pages;t.pages=new Array(32768),t.pages[0]=r,t.level++,t.maxPages*=32768}}function SU(t,e){if(t.length===e)return t;if(t.length>e)return t.slice(0,e);var r=od(e);return t.copy(r),r}function od(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e}function wU(t){var e=Buffer.allocUnsafe?Buffer.allocUnsafe(t.length):new Buffer(t.length);return t.copy(e),e}function SO(t,e){this.offset=t*e.length,this.buffer=e,this.updated=!1,this.deduplicate=0}function bU(t,e){t=(t-(e[0]=t&32767))/32768,t=(t-(e[1]=t&32767))/32768,e[3]=(t-(e[2]=t&32767))/32768&32767}});var BO=y((Fae,DO)=>{var DU=bO();DO.exports=Qi;function Qi(t){if(!(this instanceof Qi))return new Qi(t);if(t||(t={}),Buffer.isBuffer(t)&&(t={buffer:t}),this.pageOffset=t.pageOffset||0,this.pageSize=t.pageSize||1024,this.pages=t.pages||DU(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!TU(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!t.trackUpdates,this._pageMask=this.pageSize-1,t.buffer){for(var e=0;e<t.buffer.length;e+=this.pageSize)this.pages.set(e/this.pageSize,t.buffer.slice(e,e+this.pageSize));this.byteLength=t.buffer.length,this.length=8*this.byteLength}}Qi.prototype.get=function(t){var e=t&7,r=(t-e)/8;return!!(this.getByte(r)&128>>e)};Qi.prototype.getByte=function(t){var e=t&this._pageMask,r=(t-e)/this.pageSize,n=this.pages.get(r,!0);return n?n.buffer[e+this.pageOffset]:0};Qi.prototype.set=function(t,e){var r=t&7,n=(t-r)/8,s=this.getByte(n);return this.setByte(n,e?s|128>>r:s&(255^128>>r))};Qi.prototype.toBuffer=function(){for(var t=BU(this.pages.length*this.pageSize),e=0;e<this.pages.length;e++){var r=this.pages.get(e,!0),n=e*this.pageSize;r&&r.buffer.copy(t,n,this.pageOffset,this.pageOffset+this.pageSize)}return t};Qi.prototype.setByte=function(t,e){var r=t&this._pageMask,n=(t-r)/this.pageSize,s=this.pages.get(n,!1);return r+=this.pageOffset,s.buffer[r]===e?!1:(s.buffer[r]=e,t>=this.byteLength&&(this.byteLength=t+1,this.length=this.byteLength*8),this._trackUpdates&&this.pages.updated(s),!0)};function BU(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e}function TU(t){return!(t&t-1)}});var TO=y(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});var PU=require("zlib");Fg.default=(0,PU.gunzipSync)(Buffer.from("H4sIAAAAAAACA+3dTYgcWR0A8FfTnekQ47aCkBxiZpYV8RhwYQM7bA/ksoLgSRD0IOSiePAkLrowvWSF4CkHEW856MlTQHA9RKZ1ZJODsEcVcTOyhxUEbXdXtpPp1PNVV39Uz4czEyaTVOb3G6a7XtWrr/devX49/+qekG2Go7Aa2jHGyozG+Dmrzi2mP/xb/zMhLI+WlRm2byubm2h0ivVi7BYzusVjuNkt1l9uFWsutWL8OP4rzV9KeXdsKx1HFhbSc6vIG0fKBZ14UNfLFS6FRrGRtXh98ZvphL/x4uLV/IOzaat/vlikv/TixavxR8PQitfPpKNbffXSwgtr8fV07GX+L1967urwg5W0/t0LV37y/oWFlQtX8ping7reXE3LT680r9yPKyn/3Vn64SwdVs6m/KN0yHrp9D+RvXsqpe6MSia5mH6LSog//Xq/++O74YVTjfDFWK2VIuNSemiPppphcVYeyzcudKqFMiq6cs3vVkrzlcnE0mxeZ1Jf2ZXsSvk8TmRZWYdpalydxd5bc8eUkt1wlEbtqTVLr8XQLFpKMb+dpr9SbSOt4ozTgXUq8+Ihm8cTt0shtCvT6dwao6sxPf5ydmU208/Z0yH8IZtlvZi3e5fG12yn3PLSdPvnQ7vsK9rxyKpqevzFZGVfu3YHezvbnbvit9Xdm5fGbf/MZ7PuuNrTjLJnaofH7gm0h+VKU/g/tdUocrer3cO4yOcuycGoyLrba6Ta+lrlnkZ5ntvWCrfV39wLTuNg9QvsvHb37P8BAGCP0eNTOH5szf154JmnNQIcn7b+FziyAfX4eWnn+C6Lm4M0mj31ubkViiDV4WLvs56qN54xGS3HWER5su6nQtZubl9tcY/4atbr9e5kWewew/g2a8fdy2Yaa97+pgQAAAAAAIBHtt+dYmWwaN/byI5g/9PYVfMvb4YvvDpOLJxvFgueP9VbPXh8/yCZViZxNYATaejmDQAAAACgfjJ/3QUA4JD3Px1InT+5PtQCAAAAAAAAAKD2xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP6G6+khVCgSAAAAAAAAAKidYQjLYVfNcPSyAE+dhQsnvAAq59/VHAAAAAAAAOCJmv8E/w4HiLqf3nWuWCB1pe0esg/pT3sKd+m4XjhpFpZH3/1THTcU6cfRLnrHf3ZNPZs+bf9rwPuIUPYAWb+j/Zy0EaAxAAAAAADwrPJ1IMBenu6ea99M+0W/17wCAAAAAAAAnGRLm8oA4JnQUAQAAAAAAAAAUHvi/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/jdX0ECsUCQAAAAAAAADUTiMCAAAAAAAAAHU3VAQAAAAAAAAAUH8hLNf1uwsWbhT/uWBzUEx/ei1Nxc001VqrnN2wuRjCK3G4HuNgtuJoSVj17Q9QyBQBAAAAAAAAHMKpuJ4/+Otc5L2XZi8dJlQ/LCPXhc4keJ9UI9uFre3rDfY9uoXZPQBFHL34HSWWm8sx5rH83d967IfZMRZHHG/2Qi8MFnbscXnhnzHei5NND8P2bW2OT3G8vFeebBHbz9dGEf5jDt+fK4/mTve1bnwndsNL92+mE/75xhs/yz65Ed/ZbP29SP96oxvCDxrxcjj333R262/d6X6tG66lYy/z/+rtMn83nHvv9nfOv/dw4+pvspCl4v7+1npa/nHvtbSvjSJ/mf79/VuLC7N03LiW8o/SMU8ldO+jPOul1OVQ3vVwK+TZqBLCt3/RXvveS7eaD0L8YyhrJeV/cC0WGTdD1hzlCo2H98vzK9a+963V7qRVTeaNa+ZGpWp+N62jSmOetJD8dn67fB4n8nzchG7n4+os2tcgzLWUQVg70rta8lE7nqW7IW710v7eDsV1F7e6433njYfd9j9Gl2KIveptMePVamOXQuhXO5tUk6Pv+kiPX43T7/3YevDy4MN+HLw8CHPX6OqOOwKe73z0+pnf3rvT6pX76j/SUU7/3UjqX5r7ZW7PdZU8Vq2id+29Pphdh3n1Tqp/t0aXaWVOPnsFGre+waRdpKf/TK+7fiX3bOWluVeJg77AAPNDwr37fwAA2GP0+BSOHwcn6/231ghwfPr6X+DIBtTj582d47s8LD3xMeYktt+YHXHe6XQuH9P4Nu+H3ctmGmve/qYEAAAAAACAR7bfnWJlsGgSNNoM54tPZ23EI4vYzPY1/fzq1ud/GP/01jjx8P2tYsG7DzrrB4/vHySTz5YB+n8AAAAAgJrJ/XEXAIDHEf/2yXUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGdABAAAAAAAAADqbqgIAAAAAAAAAKD2hv8DWK79UBhoBgA=","base64"))});var FO=y(Or=>{"use strict";var MO=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Or,"__esModule",{value:!0});Or.bidirectional_l=Or.bidirectional_r_al=Or.prohibited_characters=Or.non_ASCII_space_characters=Or.commonly_mapped_to_nothing=Or.unassigned_code_points=void 0;var MU=MO(BO()),PO=MO(TO()),A1=0;function da(){let t=PO.default.readUInt32BE(A1);A1+=4;let e=PO.default.slice(A1,A1+t);return A1+=t,(0,MU.default)({buffer:e})}Or.unassigned_code_points=da();Or.commonly_mapped_to_nothing=da();Or.non_ASCII_space_characters=da();Or.prohibited_characters=da();Or.bidirectional_r_al=da();Or.bidirectional_l=da()});var RO=y((Nae,NO)=>{"use strict";var Ji=FO(),FU=Ji.non_ASCII_space_characters,IU=Ji.commonly_mapped_to_nothing,IO=t=>t.codePointAt(0),$U=t=>t[0],NU=t=>t[t.length-1];function $O(t){let e=[],r=t.length;for(let n=0;n<r;n+=1){let s=t.charCodeAt(n);if(s>=55296&&s<=56319&&r>n+1){let i=t.charCodeAt(n+1);if(i>=56320&&i<=57343){e.push((s-55296)*1024+i-56320+65536),n+=1;continue}}e.push(s)}return e}function O1(t,e={}){if(typeof t!="string")throw new TypeError("Expected string.");if(t.length===0)return"";let r=$O(t).map(l=>FU.get(l)?32:l).filter(l=>!IU.get(l)),n=String.fromCodePoint.apply(null,r).normalize("NFKC"),s=$O(n);if(s.some(l=>Ji.prohibited_characters.get(l)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(e.allowUnassigned!==!0&&s.some(f=>Ji.unassigned_code_points.get(f)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5");let o=s.some(l=>Ji.bidirectional_r_al.get(l)),u=s.some(l=>Ji.bidirectional_l.get(l));if(o&&u)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");let a=Ji.bidirectional_r_al.get(IO($U(n))),c=Ji.bidirectional_r_al.get(IO(NU(n)));if(o&&!(a&&c))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return n}O1.saslprep=O1;O1.default=O1;NO.exports=O1});var ma=y(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.AutoEncryptionLoggerLevel=He.aws4=He.saslprep=He.getSnappy=He.getAwsCredentialProvider=He.getZstdLibrary=He.ZStandard=He.getKerberos=He.Kerberos=void 0;var pa=Q();function C1(t){let e=t?{kModuleError:t}:{};return new Proxy(e,{get:(r,n)=>{if(n==="kModuleError")return t;throw t},set:()=>{throw t}})}He.Kerberos=C1(new pa.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication"));function RU(){try{return He.Kerberos=require("kerberos"),He.Kerberos}catch{return He.Kerberos}}He.getKerberos=RU;He.ZStandard=C1(new pa.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression"));function xU(){try{return He.ZStandard=require("@mongodb-js/zstd"),He.ZStandard}catch{return He.ZStandard}}He.getZstdLibrary=xU;function vU(){try{return require("@aws-sdk/credential-providers")}catch{return C1(new pa.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk."))}}He.getAwsCredentialProvider=vU;function kU(){try{return require("snappy")}catch(t){return{kModuleError:new pa.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression",{cause:t})}}}He.getSnappy=kU;He.saslprep=C1(new pa.MongoMissingDependencyError("Optional module `saslprep` not found. Please install it to enable Stringprep Profile for User Names and Passwords"));try{He.saslprep=RO()}catch{}He.aws4=C1(new pa.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication"));try{He.aws4=require("aws4")}catch{}He.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4})});var ai=y(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.AuthProvider=ya.AuthContext=void 0;var qU=Q(),Ig=class{constructor(e,r,n){this.reauthenticating=!1,this.connection=e,this.credentials=r,this.options=n}};ya.AuthContext=Ig;var $g=class{async prepare(e,r){return e}async reauth(e){if(e.reauthenticating)throw new qU.MongoRuntimeError("Reauthentication already in progress.");try{e.reauthenticating=!0,await this.auth(e)}finally{e.reauthenticating=!1}}};ya.AuthProvider=$g});var ud=y(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.resolveCname=dn.performGSSAPICanonicalizeHostName=dn.GSSAPI=dn.GSSAPICanonicalizationValue=void 0;var Rg=require("dns"),LU=ma(),xO=Q(),jU=ne(),UU=ai();dn.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});async function Ng(t,e){return t.commandAsync((0,jU.ns)("$external.$cmd"),e,void 0)}var S1,xg=class extends UU.AuthProvider{async auth(e){let{connection:r,credentials:n}=e;if(n==null)throw new xO.MongoMissingCredentialsError("Credentials required for GSSAPI authentication");let{username:s}=n,i=await VU(e),o=await i.step(""),u=await Ng(r,WU(o)),a=await vO(i,10,u.payload),c=await Ng(r,zU(a,u.conversationId)),l=await HU(i,s,c.payload);await Ng(r,{saslContinue:1,conversationId:c.conversationId,payload:l})}};dn.GSSAPI=xg;async function VU(t){let{hostAddress:e}=t.options,{credentials:r}=t;if(!e||typeof e.host!="string"||!r)throw new xO.MongoInvalidArgumentError("Connection must have host and port and credentials defined.");if(GU(),"kModuleError"in S1)throw S1.kModuleError;let{initializeClient:n}=S1,{username:s,password:i}=r,o=r.mechanismProperties,u=o.SERVICE_NAME??"mongodb",a=await kO(e.host,o),c={};i!=null&&Object.assign(c,{user:s,password:i});let l=o.SERVICE_HOST??a,f=`${u}${process.platform==="win32"?"/":"@"}${l}`;return"SERVICE_REALM"in o&&(f=`${f}@${o.SERVICE_REALM}`),n(f,c)}function WU(t){return{saslStart:1,mechanism:"GSSAPI",payload:t,autoAuthorize:1}}function zU(t,e){return{saslContinue:1,conversationId:e,payload:t}}async function vO(t,e,r){try{return await t.step(r)||""}catch(n){if(e===0)throw n;return vO(t,e-1,r)}}async function HU(t,e,r){let n=await t.unwrap(r);return t.wrap(n||"",{user:e})}async function kO(t,e){let r=e.CANONICALIZE_HOST_NAME;if(!r||r===dn.GSSAPICanonicalizationValue.none)return t;if(r===dn.GSSAPICanonicalizationValue.on||r===dn.GSSAPICanonicalizationValue.forwardAndReverse){let{address:n}=await Rg.promises.lookup(t);try{let s=await Rg.promises.resolvePtr(n);return s.length>0?s[0]:t}catch{return vg(t)}}else return vg(t)}dn.performGSSAPICanonicalizeHostName=kO;async function vg(t){try{let e=await Rg.promises.resolveCname(t);return e.length>0?e[0]:t}catch{return t}}dn.resolveCname=vg;function GU(){S1||(S1=(0,LU.getKerberos)())}});var xs=y(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.AUTH_MECHS_AUTH_SRC_EXTERNAL=Rs.AuthMechanism=void 0;Rs.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509",MONGODB_OIDC:"MONGODB-OIDC"});Rs.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([Rs.AuthMechanism.MONGODB_GSSAPI,Rs.AuthMechanism.MONGODB_AWS,Rs.AuthMechanism.MONGODB_OIDC,Rs.AuthMechanism.MONGODB_X509])});var ad=y(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.MongoCredentials=Qo.DEFAULT_ALLOWED_HOSTS=void 0;var Fn=Q(),KU=ud(),Jt=xs();function YU(t){if(t){if(Array.isArray(t.saslSupportedMechs))return t.saslSupportedMechs.includes(Jt.AuthMechanism.MONGODB_SCRAM_SHA256)?Jt.AuthMechanism.MONGODB_SCRAM_SHA256:Jt.AuthMechanism.MONGODB_SCRAM_SHA1;if(t.maxWireVersion>=3)return Jt.AuthMechanism.MONGODB_SCRAM_SHA1}return Jt.AuthMechanism.MONGODB_CR}var qO=["aws","azure"],LO="Auth mechanism property ALLOWED_HOSTS must be an array of strings.";Qo.DEFAULT_ALLOWED_HOSTS=["*.mongodb.net","*.mongodb-dev.net","*.mongodbgov.net","localhost","127.0.0.1","::1"];var QU="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.",kg=class t{constructor(e){this.username=e.username??"",this.password=e.password,this.source=e.source,!this.source&&e.db&&(this.source=e.db),this.mechanism=e.mechanism||Jt.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=e.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)&&(!this.username&&process.env.AWS_ACCESS_KEY_ID&&(this.username=process.env.AWS_ACCESS_KEY_ID),!this.password&&process.env.AWS_SECRET_ACCESS_KEY&&(this.password=process.env.AWS_SECRET_ACCESS_KEY),this.mechanismProperties.AWS_SESSION_TOKEN==null&&process.env.AWS_SESSION_TOKEN!=null&&(this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:process.env.AWS_SESSION_TOKEN})),this.mechanism===Jt.AuthMechanism.MONGODB_OIDC&&!this.mechanismProperties.ALLOWED_HOSTS&&(this.mechanismProperties={...this.mechanismProperties,ALLOWED_HOSTS:Qo.DEFAULT_ALLOWED_HOSTS}),Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(e){return this.mechanism===e.mechanism&&this.username===e.username&&this.password===e.password&&this.source===e.source}resolveAuthMechanism(e){return this.mechanism.match(/DEFAULT/i)?new t({username:this.username,password:this.password,source:this.source,mechanism:YU(e),mechanismProperties:this.mechanismProperties}):this}validate(){if((this.mechanism===Jt.AuthMechanism.MONGODB_GSSAPI||this.mechanism===Jt.AuthMechanism.MONGODB_CR||this.mechanism===Jt.AuthMechanism.MONGODB_PLAIN||this.mechanism===Jt.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===Jt.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new Fn.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(this.mechanism===Jt.AuthMechanism.MONGODB_OIDC){if(this.username&&this.mechanismProperties.PROVIDER_NAME)throw new Fn.MongoInvalidArgumentError(`username and PROVIDER_NAME may not be used together for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.PROVIDER_NAME==="azure"&&!this.mechanismProperties.TOKEN_AUDIENCE)throw new Fn.MongoAzureError(QU);if(this.mechanismProperties.PROVIDER_NAME&&!qO.includes(this.mechanismProperties.PROVIDER_NAME))throw new Fn.MongoInvalidArgumentError(`Currently only a PROVIDER_NAME in ${qO.join(",")} is supported for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.REFRESH_TOKEN_CALLBACK&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new Fn.MongoInvalidArgumentError(`A REQUEST_TOKEN_CALLBACK must be provided when using a REFRESH_TOKEN_CALLBACK for mechanism '${this.mechanism}'`);if(!this.mechanismProperties.PROVIDER_NAME&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new Fn.MongoInvalidArgumentError(`Either a PROVIDER_NAME or a REQUEST_TOKEN_CALLBACK must be specified for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.ALLOWED_HOSTS){let r=this.mechanismProperties.ALLOWED_HOSTS;if(!Array.isArray(r))throw new Fn.MongoInvalidArgumentError(LO);for(let n of r)if(typeof n!="string")throw new Fn.MongoInvalidArgumentError(LO)}}if(Jt.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)&&this.source!=null&&this.source!=="$external")throw new Fn.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`);if(this.mechanism===Jt.AuthMechanism.MONGODB_PLAIN&&this.source==null)throw new Fn.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===Jt.AuthMechanism.MONGODB_X509&&this.password!=null){if(this.password===""){Reflect.set(this,"password",void 0);return}throw new Fn.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}let e=this.mechanismProperties.CANONICALIZE_HOST_NAME??!1;if(!Object.values(KU.GSSAPICanonicalizationValue).includes(e))throw new Fn.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${e}`)}static merge(e,r){return new t({username:r.username??e?.username??"",password:r.password??e?.password??"",mechanism:r.mechanism??e?.mechanism??Jt.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:r.mechanismProperties??e?.mechanismProperties??{},source:r.source??r.db??e?.source??"admin"})}};Qo.MongoCredentials=kg});var ld=y(Ue=>{"use strict";function Ge(t,e,r){return r.globals&&(t=r.globals[t.name]),new t(`${r.context?r.context:"Value"} ${e}.`)}function _a(t,e){if(typeof t=="bigint")throw Ge(TypeError,"is a BigInt which cannot be converted to a number",e);return e.globals?e.globals.Number(t):Number(t)}function UO(t){return t>0&&t%1===.5&&!(t&1)||t<0&&t%1===-.5&&(t&1)===1?w1(Math.floor(t)):w1(Math.round(t))}function cd(t){return w1(Math.trunc(t))}function jO(t){return t<0?-1:1}function JU(t,e){let r=t%e;return jO(e)!==jO(r)?r+e:r}function w1(t){return t===0?0:t}function Aa(t,{unsigned:e}){let r,n;e?(r=0,n=2**t-1):(r=-(2**(t-1)),n=2**(t-1)-1);let s=2**t,i=2**(t-1);return(o,u={})=>{let a=_a(o,u);if(a=w1(a),u.enforceRange){if(!Number.isFinite(a))throw Ge(TypeError,"is not a finite number",u);if(a=cd(a),a<r||a>n)throw Ge(TypeError,`is outside the accepted range of ${r} to ${n}, inclusive`,u);return a}return!Number.isNaN(a)&&u.clamp?(a=Math.min(Math.max(a,r),n),a=UO(a),a):!Number.isFinite(a)||a===0?0:(a=cd(a),a>=r&&a<=n?a:(a=JU(a,s),!e&&a>=i?a-s:a))}}function VO(t,{unsigned:e}){let r=Number.MAX_SAFE_INTEGER,n=e?0:Number.MIN_SAFE_INTEGER,s=e?BigInt.asUintN:BigInt.asIntN;return(i,o={})=>{let u=_a(i,o);if(u=w1(u),o.enforceRange){if(!Number.isFinite(u))throw Ge(TypeError,"is not a finite number",o);if(u=cd(u),u<n||u>r)throw Ge(TypeError,`is outside the accepted range of ${n} to ${r}, inclusive`,o);return u}if(!Number.isNaN(u)&&o.clamp)return u=Math.min(Math.max(u,n),r),u=UO(u),u;if(!Number.isFinite(u)||u===0)return 0;let a=BigInt(cd(u));return a=s(t,a),Number(a)}}Ue.any=t=>t;Ue.undefined=()=>{};Ue.boolean=t=>!!t;Ue.byte=Aa(8,{unsigned:!1});Ue.octet=Aa(8,{unsigned:!0});Ue.short=Aa(16,{unsigned:!1});Ue["unsigned short"]=Aa(16,{unsigned:!0});Ue.long=Aa(32,{unsigned:!1});Ue["unsigned long"]=Aa(32,{unsigned:!0});Ue["long long"]=VO(64,{unsigned:!1});Ue["unsigned long long"]=VO(64,{unsigned:!0});Ue.double=(t,e={})=>{let r=_a(t,e);if(!Number.isFinite(r))throw Ge(TypeError,"is not a finite floating-point value",e);return r};Ue["unrestricted double"]=(t,e={})=>_a(t,e);Ue.float=(t,e={})=>{let r=_a(t,e);if(!Number.isFinite(r))throw Ge(TypeError,"is not a finite floating-point value",e);if(Object.is(r,-0))return r;let n=Math.fround(r);if(!Number.isFinite(n))throw Ge(TypeError,"is outside the range of a single-precision floating-point value",e);return n};Ue["unrestricted float"]=(t,e={})=>{let r=_a(t,e);return isNaN(r)||Object.is(r,-0)?r:Math.fround(r)};Ue.DOMString=(t,e={})=>{if(e.treatNullAsEmptyString&&t===null)return"";if(typeof t=="symbol")throw Ge(TypeError,"is a symbol, which cannot be converted to a string",e);return(e.globals?e.globals.String:String)(t)};Ue.ByteString=(t,e={})=>{let r=Ue.DOMString(t,e),n;for(let s=0;(n=r.codePointAt(s))!==void 0;++s)if(n>255)throw Ge(TypeError,"is not a valid ByteString",e);return r};Ue.USVString=(t,e={})=>{let r=Ue.DOMString(t,e),n=r.length,s=[];for(let i=0;i<n;++i){let o=r.charCodeAt(i);if(o<55296||o>57343)s.push(String.fromCodePoint(o));else if(56320<=o&&o<=57343)s.push(String.fromCodePoint(65533));else if(i===n-1)s.push(String.fromCodePoint(65533));else{let u=r.charCodeAt(i+1);if(56320<=u&&u<=57343){let a=o&1023,c=u&1023;s.push(String.fromCodePoint(65536+1024*a+c)),++i}else s.push(String.fromCodePoint(65533))}}return s.join("")};Ue.object=(t,e={})=>{if(t===null||typeof t!="object"&&typeof t!="function")throw Ge(TypeError,"is not an object",e);return t};var XU=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,ZU=typeof SharedArrayBuffer=="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;function qg(t){try{return XU.call(t),!0}catch{return!1}}function ga(t){try{return ZU.call(t),!0}catch{return!1}}function Ea(t){try{return new Uint8Array(t),!1}catch{return!0}}Ue.ArrayBuffer=(t,e={})=>{if(!qg(t))throw e.allowShared&&!ga(t)?Ge(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",e):Ge(TypeError,"is not an ArrayBuffer",e);if(Ea(t))throw Ge(TypeError,"is a detached ArrayBuffer",e);return t};var eV=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;Ue.DataView=(t,e={})=>{try{eV.call(t)}catch{throw Ge(TypeError,"is not a DataView",e)}if(!e.allowShared&&ga(t.buffer))throw Ge(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",e);if(Ea(t.buffer))throw Ge(TypeError,"is backed by a detached ArrayBuffer",e);return t};var tV=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(t=>{let{name:e}=t,r=/^[AEIOU]/u.test(e)?"an":"a";Ue[e]=(n,s={})=>{if(!ArrayBuffer.isView(n)||tV.call(n)!==e)throw Ge(TypeError,`is not ${r} ${e} object`,s);if(!s.allowShared&&ga(n.buffer))throw Ge(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",s);if(Ea(n.buffer))throw Ge(TypeError,"is a view on a detached ArrayBuffer",s);return n}});Ue.ArrayBufferView=(t,e={})=>{if(!ArrayBuffer.isView(t))throw Ge(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",e);if(!e.allowShared&&ga(t.buffer))throw Ge(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",e);if(Ea(t.buffer))throw Ge(TypeError,"is a view on a detached ArrayBuffer",e);return t};Ue.BufferSource=(t,e={})=>{if(ArrayBuffer.isView(t)){if(!e.allowShared&&ga(t.buffer))throw Ge(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",e);if(Ea(t.buffer))throw Ge(TypeError,"is a view on a detached ArrayBuffer",e);return t}if(!e.allowShared&&!qg(t))throw Ge(TypeError,"is not an ArrayBuffer or a view on one",e);if(e.allowShared&&!ga(t)&&!qg(t))throw Ge(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",e);if(Ea(t))throw Ge(TypeError,"is a detached ArrayBuffer",e);return t};Ue.DOMTimeStamp=Ue["unsigned long long"]});var hd=y((QO,JO)=>{"use strict";function rV(t){return typeof t=="object"&&t!==null||typeof t=="function"}var WO=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function nV(t,e){for(let r of Reflect.ownKeys(e)){let n=Reflect.getOwnPropertyDescriptor(e,r);if(n&&!Reflect.defineProperty(t,r,n))throw new TypeError(`Cannot redefine property: ${String(r)}`)}}function sV(t,e){let r=GO(t);return Object.defineProperties(Object.create(r["%Object.prototype%"]),Object.getOwnPropertyDescriptors(e))}var zO=Symbol("wrapper"),HO=Symbol("impl"),Oa=Symbol("SameObject caches"),fd=Symbol.for("[webidl2js] constructor registry"),iV=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function GO(t){if(WO(t,fd))return t[fd];let e=Object.create(null);e["%Object.prototype%"]=t.Object.prototype,e["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(new t.Array()[Symbol.iterator]()));try{e["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(t.eval("(async function* () {})").prototype))}catch{e["%AsyncIteratorPrototype%"]=iV}return t[fd]=e,e}function oV(t,e,r){return t[Oa]||(t[Oa]=Object.create(null)),e in t[Oa]||(t[Oa][e]=r()),t[Oa][e]}function KO(t){return t?t[zO]:null}function YO(t){return t?t[HO]:null}function uV(t){let e=KO(t);return e||t}function aV(t){let e=YO(t);return e||t}var cV=Symbol("internal");function lV(t){if(typeof t!="string")return!1;let e=t>>>0;if(e===2**32-1)return!1;let r=`${e}`;return t===r}var fV=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function hV(t){try{return fV.call(t),!0}catch{return!1}}function dV([t,e],r){let n;switch(r){case"key":n=t;break;case"value":n=e;break;case"key+value":n=[t,e];break}return{value:n,done:!1}}var pV=Symbol("supports property index"),mV=Symbol("supported property indices"),yV=Symbol("supports property name"),gV=Symbol("supported property names"),EV=Symbol("indexed property get"),_V=Symbol("indexed property set new"),AV=Symbol("indexed property set existing"),OV=Symbol("named property get"),CV=Symbol("named property set new"),SV=Symbol("named property set existing"),wV=Symbol("named property delete"),bV=Symbol("async iterator get the next iteration result"),DV=Symbol("async iterator return steps"),BV=Symbol("async iterator initialization steps"),TV=Symbol("async iterator end of iteration");JO.exports=QO={isObject:rV,hasOwn:WO,define:nV,newObjectInRealm:sV,wrapperSymbol:zO,implSymbol:HO,getSameObject:oV,ctorRegistrySymbol:fd,initCtorRegistry:GO,wrapperForImpl:KO,implForWrapper:YO,tryWrapperForImpl:uV,tryImplForWrapper:aV,iterInternalSymbol:cV,isArrayBuffer:hV,isArrayIndexPropName:lV,supportsPropertyIndex:pV,supportedPropertyIndices:mV,supportsPropertyName:yV,supportedPropertyNames:gV,indexedGet:EV,indexedSetNew:_V,indexedSetExisting:AV,namedGet:OV,namedSetNew:CV,namedSetExisting:SV,namedDelete:wV,asyncIteratorNext:bV,asyncIteratorReturn:DV,asyncIteratorInit:BV,asyncIteratorEOI:TV,iteratorResult:dV}});var ZO=y((jae,XO)=>{"use strict";var PV=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,MV=/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,FV=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,IV=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,$V=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,NV=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,RV=/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0898-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11FD5}-\u{11FF1}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,xV=/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,vV=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,kV=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,qV=/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B7E\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1123E}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,LV=/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u;XO.exports={combiningMarks:PV,combiningClassVirama:MV,validZWNJ:FV,bidiDomain:IV,bidiS1LTR:$V,bidiS1RTL:NV,bidiS2:RV,bidiS3:xV,bidiS4EN:vV,bidiS4AN:kV,bidiS5:qV,bidiS6:LV}});var eC=y((Uae,jV)=>{jV.exports=[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," \u0308"],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," \u0304"],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," \u0301"],[181,1,"\u03BC"],[182,2],[183,2],[184,5," \u0327"],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"1\u20444"],[189,1,"1\u20442"],[190,1,"3\u20444"],[191,2],[192,1,"\xE0"],[193,1,"\xE1"],[194,1,"\xE2"],[195,1,"\xE3"],[196,1,"\xE4"],[197,1,"\xE5"],[198,1,"\xE6"],[199,1,"\xE7"],[200,1,"\xE8"],[201,1,"\xE9"],[202,1,"\xEA"],[203,1,"\xEB"],[204,1,"\xEC"],[205,1,"\xED"],[206,1,"\xEE"],[207,1,"\xEF"],[208,1,"\xF0"],[209,1,"\xF1"],[210,1,"\xF2"],[211,1,"\xF3"],[212,1,"\xF4"],[213,1,"\xF5"],[214,1,"\xF6"],[215,2],[216,1,"\xF8"],[217,1,"\xF9"],[218,1,"\xFA"],[219,1,"\xFB"],[220,1,"\xFC"],[221,1,"\xFD"],[222,1,"\xFE"],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,"\u0101"],[257,2],[258,1,"\u0103"],[259,2],[260,1,"\u0105"],[261,2],[262,1,"\u0107"],[263,2],[264,1,"\u0109"],[265,2],[266,1,"\u010B"],[267,2],[268,1,"\u010D"],[269,2],[270,1,"\u010F"],[271,2],[272,1,"\u0111"],[273,2],[274,1,"\u0113"],[275,2],[276,1,"\u0115"],[277,2],[278,1,"\u0117"],[279,2],[280,1,"\u0119"],[281,2],[282,1,"\u011B"],[283,2],[284,1,"\u011D"],[285,2],[286,1,"\u011F"],[287,2],[288,1,"\u0121"],[289,2],[290,1,"\u0123"],[291,2],[292,1,"\u0125"],[293,2],[294,1,"\u0127"],[295,2],[296,1,"\u0129"],[297,2],[298,1,"\u012B"],[299,2],[300,1,"\u012D"],[301,2],[302,1,"\u012F"],[303,2],[304,1,"i\u0307"],[305,2],[[306,307],1,"ij"],[308,1,"\u0135"],[309,2],[310,1,"\u0137"],[[311,312],2],[313,1,"\u013A"],[314,2],[315,1,"\u013C"],[316,2],[317,1,"\u013E"],[318,2],[[319,320],1,"l\xB7"],[321,1,"\u0142"],[322,2],[323,1,"\u0144"],[324,2],[325,1,"\u0146"],[326,2],[327,1,"\u0148"],[328,2],[329,1,"\u02BCn"],[330,1,"\u014B"],[331,2],[332,1,"\u014D"],[333,2],[334,1,"\u014F"],[335,2],[336,1,"\u0151"],[337,2],[338,1,"\u0153"],[339,2],[340,1,"\u0155"],[341,2],[342,1,"\u0157"],[343,2],[344,1,"\u0159"],[345,2],[346,1,"\u015B"],[347,2],[348,1,"\u015D"],[349,2],[350,1,"\u015F"],[351,2],[352,1,"\u0161"],[353,2],[354,1,"\u0163"],[355,2],[356,1,"\u0165"],[357,2],[358,1,"\u0167"],[359,2],[360,1,"\u0169"],[361,2],[362,1,"\u016B"],[363,2],[364,1,"\u016D"],[365,2],[366,1,"\u016F"],[367,2],[368,1,"\u0171"],[369,2],[370,1,"\u0173"],[371,2],[372,1,"\u0175"],[373,2],[374,1,"\u0177"],[375,2],[376,1,"\xFF"],[377,1,"\u017A"],[378,2],[379,1,"\u017C"],[380,2],[381,1,"\u017E"],[382,2],[383,1,"s"],[384,2],[385,1,"\u0253"],[386,1,"\u0183"],[387,2],[388,1,"\u0185"],[389,2],[390,1,"\u0254"],[391,1,"\u0188"],[392,2],[393,1,"\u0256"],[394,1,"\u0257"],[395,1,"\u018C"],[[396,397],2],[398,1,"\u01DD"],[399,1,"\u0259"],[400,1,"\u025B"],[401,1,"\u0192"],[402,2],[403,1,"\u0260"],[404,1,"\u0263"],[405,2],[406,1,"\u0269"],[407,1,"\u0268"],[408,1,"\u0199"],[[409,411],2],[412,1,"\u026F"],[413,1,"\u0272"],[414,2],[415,1,"\u0275"],[416,1,"\u01A1"],[417,2],[418,1,"\u01A3"],[419,2],[420,1,"\u01A5"],[421,2],[422,1,"\u0280"],[423,1,"\u01A8"],[424,2],[425,1,"\u0283"],[[426,427],2],[428,1,"\u01AD"],[429,2],[430,1,"\u0288"],[431,1,"\u01B0"],[432,2],[433,1,"\u028A"],[434,1,"\u028B"],[435,1,"\u01B4"],[436,2],[437,1,"\u01B6"],[438,2],[439,1,"\u0292"],[440,1,"\u01B9"],[[441,443],2],[444,1,"\u01BD"],[[445,451],2],[[452,454],1,"d\u017E"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,"\u01CE"],[462,2],[463,1,"\u01D0"],[464,2],[465,1,"\u01D2"],[466,2],[467,1,"\u01D4"],[468,2],[469,1,"\u01D6"],[470,2],[471,1,"\u01D8"],[472,2],[473,1,"\u01DA"],[474,2],[475,1,"\u01DC"],[[476,477],2],[478,1,"\u01DF"],[479,2],[480,1,"\u01E1"],[481,2],[482,1,"\u01E3"],[483,2],[484,1,"\u01E5"],[485,2],[486,1,"\u01E7"],[487,2],[488,1,"\u01E9"],[489,2],[490,1,"\u01EB"],[491,2],[492,1,"\u01ED"],[493,2],[494,1,"\u01EF"],[[495,496],2],[[497,499],1,"dz"],[500,1,"\u01F5"],[501,2],[502,1,"\u0195"],[503,1,"\u01BF"],[504,1,"\u01F9"],[505,2],[506,1,"\u01FB"],[507,2],[508,1,"\u01FD"],[509,2],[510,1,"\u01FF"],[511,2],[512,1,"\u0201"],[513,2],[514,1,"\u0203"],[515,2],[516,1,"\u0205"],[517,2],[518,1,"\u0207"],[519,2],[520,1,"\u0209"],[521,2],[522,1,"\u020B"],[523,2],[524,1,"\u020D"],[525,2],[526,1,"\u020F"],[527,2],[528,1,"\u0211"],[529,2],[530,1,"\u0213"],[531,2],[532,1,"\u0215"],[533,2],[534,1,"\u0217"],[535,2],[536,1,"\u0219"],[537,2],[538,1,"\u021B"],[539,2],[540,1,"\u021D"],[541,2],[542,1,"\u021F"],[543,2],[544,1,"\u019E"],[545,2],[546,1,"\u0223"],[547,2],[548,1,"\u0225"],[549,2],[550,1,"\u0227"],[551,2],[552,1,"\u0229"],[553,2],[554,1,"\u022B"],[555,2],[556,1,"\u022D"],[557,2],[558,1,"\u022F"],[559,2],[560,1,"\u0231"],[561,2],[562,1,"\u0233"],[563,2],[[564,566],2],[[567,569],2],[570,1,"\u2C65"],[571,1,"\u023C"],[572,2],[573,1,"\u019A"],[574,1,"\u2C66"],[[575,576],2],[577,1,"\u0242"],[578,2],[579,1,"\u0180"],[580,1,"\u0289"],[581,1,"\u028C"],[582,1,"\u0247"],[583,2],[584,1,"\u0249"],[585,2],[586,1,"\u024B"],[587,2],[588,1,"\u024D"],[589,2],[590,1,"\u024F"],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,"\u0266"],[690,1,"j"],[691,1,"r"],[692,1,"\u0279"],[693,1,"\u027B"],[694,1,"\u0281"],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," \u0306"],[729,5," \u0307"],[730,5," \u030A"],[731,5," \u0328"],[732,5," \u0303"],[733,5," \u030B"],[734,2],[735,2],[736,1,"\u0263"],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,"\u0295"],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,"\u0300"],[833,1,"\u0301"],[834,2],[835,1,"\u0313"],[836,1,"\u0308\u0301"],[837,1,"\u03B9"],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,"\u0371"],[881,2],[882,1,"\u0373"],[883,2],[884,1,"\u02B9"],[885,2],[886,1,"\u0377"],[887,2],[[888,889],3],[890,5," \u03B9"],[[891,893],2],[894,5,";"],[895,1,"\u03F3"],[[896,899],3],[900,5," \u0301"],[901,5," \u0308\u0301"],[902,1,"\u03AC"],[903,1,"\xB7"],[904,1,"\u03AD"],[905,1,"\u03AE"],[906,1,"\u03AF"],[907,3],[908,1,"\u03CC"],[909,3],[910,1,"\u03CD"],[911,1,"\u03CE"],[912,2],[913,1,"\u03B1"],[914,1,"\u03B2"],[915,1,"\u03B3"],[916,1,"\u03B4"],[917,1,"\u03B5"],[918,1,"\u03B6"],[919,1,"\u03B7"],[920,1,"\u03B8"],[921,1,"\u03B9"],[922,1,"\u03BA"],[923,1,"\u03BB"],[924,1,"\u03BC"],[925,1,"\u03BD"],[926,1,"\u03BE"],[927,1,"\u03BF"],[928,1,"\u03C0"],[929,1,"\u03C1"],[930,3],[931,1,"\u03C3"],[932,1,"\u03C4"],[933,1,"\u03C5"],[934,1,"\u03C6"],[935,1,"\u03C7"],[936,1,"\u03C8"],[937,1,"\u03C9"],[938,1,"\u03CA"],[939,1,"\u03CB"],[[940,961],2],[962,6,"\u03C3"],[[963,974],2],[975,1,"\u03D7"],[976,1,"\u03B2"],[977,1,"\u03B8"],[978,1,"\u03C5"],[979,1,"\u03CD"],[980,1,"\u03CB"],[981,1,"\u03C6"],[982,1,"\u03C0"],[983,2],[984,1,"\u03D9"],[985,2],[986,1,"\u03DB"],[987,2],[988,1,"\u03DD"],[989,2],[990,1,"\u03DF"],[991,2],[992,1,"\u03E1"],[993,2],[994,1,"\u03E3"],[995,2],[996,1,"\u03E5"],[997,2],[998,1,"\u03E7"],[999,2],[1e3,1,"\u03E9"],[1001,2],[1002,1,"\u03EB"],[1003,2],[1004,1,"\u03ED"],[1005,2],[1006,1,"\u03EF"],[1007,2],[1008,1,"\u03BA"],[1009,1,"\u03C1"],[1010,1,"\u03C3"],[1011,2],[1012,1,"\u03B8"],[1013,1,"\u03B5"],[1014,2],[1015,1,"\u03F8"],[1016,2],[1017,1,"\u03C3"],[1018,1,"\u03FB"],[1019,2],[1020,2],[1021,1,"\u037B"],[1022,1,"\u037C"],[1023,1,"\u037D"],[1024,1,"\u0450"],[1025,1,"\u0451"],[1026,1,"\u0452"],[1027,1,"\u0453"],[1028,1,"\u0454"],[1029,1,"\u0455"],[1030,1,"\u0456"],[1031,1,"\u0457"],[1032,1,"\u0458"],[1033,1,"\u0459"],[1034,1,"\u045A"],[1035,1,"\u045B"],[1036,1,"\u045C"],[1037,1,"\u045D"],[1038,1,"\u045E"],[1039,1,"\u045F"],[1040,1,"\u0430"],[1041,1,"\u0431"],[1042,1,"\u0432"],[1043,1,"\u0433"],[1044,1,"\u0434"],[1045,1,"\u0435"],[1046,1,"\u0436"],[1047,1,"\u0437"],[1048,1,"\u0438"],[1049,1,"\u0439"],[1050,1,"\u043A"],[1051,1,"\u043B"],[1052,1,"\u043C"],[1053,1,"\u043D"],[1054,1,"\u043E"],[1055,1,"\u043F"],[1056,1,"\u0440"],[1057,1,"\u0441"],[1058,1,"\u0442"],[1059,1,"\u0443"],[1060,1,"\u0444"],[1061,1,"\u0445"],[1062,1,"\u0446"],[1063,1,"\u0447"],[1064,1,"\u0448"],[1065,1,"\u0449"],[1066,1,"\u044A"],[1067,1,"\u044B"],[1068,1,"\u044C"],[1069,1,"\u044D"],[1070,1,"\u044E"],[1071,1,"\u044F"],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,"\u0461"],[1121,2],[1122,1,"\u0463"],[1123,2],[1124,1,"\u0465"],[1125,2],[1126,1,"\u0467"],[1127,2],[1128,1,"\u0469"],[1129,2],[1130,1,"\u046B"],[1131,2],[1132,1,"\u046D"],[1133,2],[1134,1,"\u046F"],[1135,2],[1136,1,"\u0471"],[1137,2],[1138,1,"\u0473"],[1139,2],[1140,1,"\u0475"],[1141,2],[1142,1,"\u0477"],[1143,2],[1144,1,"\u0479"],[1145,2],[1146,1,"\u047B"],[1147,2],[1148,1,"\u047D"],[1149,2],[1150,1,"\u047F"],[1151,2],[1152,1,"\u0481"],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,"\u048B"],[1163,2],[1164,1,"\u048D"],[1165,2],[1166,1,"\u048F"],[1167,2],[1168,1,"\u0491"],[1169,2],[1170,1,"\u0493"],[1171,2],[1172,1,"\u0495"],[1173,2],[1174,1,"\u0497"],[1175,2],[1176,1,"\u0499"],[1177,2],[1178,1,"\u049B"],[1179,2],[1180,1,"\u049D"],[1181,2],[1182,1,"\u049F"],[1183,2],[1184,1,"\u04A1"],[1185,2],[1186,1,"\u04A3"],[1187,2],[1188,1,"\u04A5"],[1189,2],[1190,1,"\u04A7"],[1191,2],[1192,1,"\u04A9"],[1193,2],[1194,1,"\u04AB"],[1195,2],[1196,1,"\u04AD"],[1197,2],[1198,1,"\u04AF"],[1199,2],[1200,1,"\u04B1"],[1201,2],[1202,1,"\u04B3"],[1203,2],[1204,1,"\u04B5"],[1205,2],[1206,1,"\u04B7"],[1207,2],[1208,1,"\u04B9"],[1209,2],[1210,1,"\u04BB"],[1211,2],[1212,1,"\u04BD"],[1213,2],[1214,1,"\u04BF"],[1215,2],[1216,3],[1217,1,"\u04C2"],[1218,2],[1219,1,"\u04C4"],[1220,2],[1221,1,"\u04C6"],[1222,2],[1223,1,"\u04C8"],[1224,2],[1225,1,"\u04CA"],[1226,2],[1227,1,"\u04CC"],[1228,2],[1229,1,"\u04CE"],[1230,2],[1231,2],[1232,1,"\u04D1"],[1233,2],[1234,1,"\u04D3"],[1235,2],[1236,1,"\u04D5"],[1237,2],[1238,1,"\u04D7"],[1239,2],[1240,1,"\u04D9"],[1241,2],[1242,1,"\u04DB"],[1243,2],[1244,1,"\u04DD"],[1245,2],[1246,1,"\u04DF"],[1247,2],[1248,1,"\u04E1"],[1249,2],[1250,1,"\u04E3"],[1251,2],[1252,1,"\u04E5"],[1253,2],[1254,1,"\u04E7"],[1255,2],[1256,1,"\u04E9"],[1257,2],[1258,1,"\u04EB"],[1259,2],[1260,1,"\u04ED"],[1261,2],[1262,1,"\u04EF"],[1263,2],[1264,1,"\u04F1"],[1265,2],[1266,1,"\u04F3"],[1267,2],[1268,1,"\u04F5"],[1269,2],[1270,1,"\u04F7"],[1271,2],[1272,1,"\u04F9"],[1273,2],[1274,1,"\u04FB"],[1275,2],[1276,1,"\u04FD"],[1277,2],[1278,1,"\u04FF"],[1279,2],[1280,1,"\u0501"],[1281,2],[1282,1,"\u0503"],[1283,2],[1284,1,"\u0505"],[1285,2],[1286,1,"\u0507"],[1287,2],[1288,1,"\u0509"],[1289,2],[1290,1,"\u050B"],[1291,2],[1292,1,"\u050D"],[1293,2],[1294,1,"\u050F"],[1295,2],[1296,1,"\u0511"],[1297,2],[1298,1,"\u0513"],[1299,2],[1300,1,"\u0515"],[1301,2],[1302,1,"\u0517"],[1303,2],[1304,1,"\u0519"],[1305,2],[1306,1,"\u051B"],[1307,2],[1308,1,"\u051D"],[1309,2],[1310,1,"\u051F"],[1311,2],[1312,1,"\u0521"],[1313,2],[1314,1,"\u0523"],[1315,2],[1316,1,"\u0525"],[1317,2],[1318,1,"\u0527"],[1319,2],[1320,1,"\u0529"],[1321,2],[1322,1,"\u052B"],[1323,2],[1324,1,"\u052D"],[1325,2],[1326,1,"\u052F"],[1327,2],[1328,3],[1329,1,"\u0561"],[1330,1,"\u0562"],[1331,1,"\u0563"],[1332,1,"\u0564"],[1333,1,"\u0565"],[1334,1,"\u0566"],[1335,1,"\u0567"],[1336,1,"\u0568"],[1337,1,"\u0569"],[1338,1,"\u056A"],[1339,1,"\u056B"],[1340,1,"\u056C"],[1341,1,"\u056D"],[1342,1,"\u056E"],[1343,1,"\u056F"],[1344,1,"\u0570"],[1345,1,"\u0571"],[1346,1,"\u0572"],[1347,1,"\u0573"],[1348,1,"\u0574"],[1349,1,"\u0575"],[1350,1,"\u0576"],[1351,1,"\u0577"],[1352,1,"\u0578"],[1353,1,"\u0579"],[1354,1,"\u057A"],[1355,1,"\u057B"],[1356,1,"\u057C"],[1357,1,"\u057D"],[1358,1,"\u057E"],[1359,1,"\u057F"],[1360,1,"\u0580"],[1361,1,"\u0581"],[1362,1,"\u0582"],[1363,1,"\u0583"],[1364,1,"\u0584"],[1365,1,"\u0585"],[1366,1,"\u0586"],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,"\u0565\u0582"],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,"\u0627\u0674"],[1654,1,"\u0648\u0674"],[1655,1,"\u06C7\u0674"],[1656,1,"\u064A\u0674"],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2199],3],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,"\u0915\u093C"],[2393,1,"\u0916\u093C"],[2394,1,"\u0917\u093C"],[2395,1,"\u091C\u093C"],[2396,1,"\u0921\u093C"],[2397,1,"\u0922\u093C"],[2398,1,"\u092B\u093C"],[2399,1,"\u092F\u093C"],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,"\u09A1\u09BC"],[2525,1,"\u09A2\u09BC"],[2526,3],[2527,1,"\u09AF\u09BC"],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,"\u0A32\u0A3C"],[2612,3],[2613,2],[2614,1,"\u0A38\u0A3C"],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,"\u0A16\u0A3C"],[2650,1,"\u0A17\u0A3C"],[2651,1,"\u0A1C\u0A3C"],[2652,2],[2653,3],[2654,1,"\u0A2B\u0A3C"],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,"\u0B21\u0B3C"],[2909,1,"\u0B22\u0B3C"],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[[3315,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,"\u0E4D\u0E32"],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,"\u0ECD\u0EB2"],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[[3790,3791],3],[[3792,3801],2],[[3802,3803],3],[3804,1,"\u0EAB\u0E99"],[3805,1,"\u0EAB\u0EA1"],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,"\u0F0B"],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,"\u0F42\u0FB7"],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,"\u0F4C\u0FB7"],[[3918,3921],2],[3922,1,"\u0F51\u0FB7"],[[3923,3926],2],[3927,1,"\u0F56\u0FB7"],[[3928,3931],2],[3932,1,"\u0F5B\u0FB7"],[[3933,3944],2],[3945,1,"\u0F40\u0FB5"],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,"\u0F71\u0F72"],[3956,2],[3957,1,"\u0F71\u0F74"],[3958,1,"\u0FB2\u0F80"],[3959,1,"\u0FB2\u0F71\u0F80"],[3960,1,"\u0FB3\u0F80"],[3961,1,"\u0FB3\u0F71\u0F80"],[[3962,3968],2],[3969,1,"\u0F71\u0F80"],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,"\u0F92\u0FB7"],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,"\u0F9C\u0FB7"],[[3998,4001],2],[4002,1,"\u0FA1\u0FB7"],[[4003,4006],2],[4007,1,"\u0FA6\u0FB7"],[[4008,4011],2],[4012,1,"\u0FAB\u0FB7"],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,"\u0F90\u0FB5"],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,"\u2D27"],[[4296,4300],3],[4301,1,"\u2D2D"],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,"\u10DC"],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,"\u13F0"],[5113,1,"\u13F1"],[5114,1,"\u13F2"],[5115,1,"\u13F3"],[5116,1,"\u13F4"],[5117,1,"\u13F5"],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6e3],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[[6989,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,"\u0432"],[7297,1,"\u0434"],[7298,1,"\u043E"],[7299,1,"\u0441"],[[7300,7301],1,"\u0442"],[7302,1,"\u044A"],[7303,1,"\u0463"],[7304,1,"\uA64B"],[[7305,7311],3],[7312,1,"\u10D0"],[7313,1,"\u10D1"],[7314,1,"\u10D2"],[7315,1,"\u10D3"],[7316,1,"\u10D4"],[7317,1,"\u10D5"],[7318,1,"\u10D6"],[7319,1,"\u10D7"],[7320,1,"\u10D8"],[7321,1,"\u10D9"],[7322,1,"\u10DA"],[7323,1,"\u10DB"],[7324,1,"\u10DC"],[7325,1,"\u10DD"],[7326,1,"\u10DE"],[7327,1,"\u10DF"],[7328,1,"\u10E0"],[7329,1,"\u10E1"],[7330,1,"\u10E2"],[7331,1,"\u10E3"],[7332,1,"\u10E4"],[7333,1,"\u10E5"],[7334,1,"\u10E6"],[7335,1,"\u10E7"],[7336,1,"\u10E8"],[7337,1,"\u10E9"],[7338,1,"\u10EA"],[7339,1,"\u10EB"],[7340,1,"\u10EC"],[7341,1,"\u10ED"],[7342,1,"\u10EE"],[7343,1,"\u10EF"],[7344,1,"\u10F0"],[7345,1,"\u10F1"],[7346,1,"\u10F2"],[7347,1,"\u10F3"],[7348,1,"\u10F4"],[7349,1,"\u10F5"],[7350,1,"\u10F6"],[7351,1,"\u10F7"],[7352,1,"\u10F8"],[7353,1,"\u10F9"],[7354,1,"\u10FA"],[[7355,7356],3],[7357,1,"\u10FD"],[7358,1,"\u10FE"],[7359,1,"\u10FF"],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,"\xE6"],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,"\u01DD"],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,"\u0223"],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,"\u0250"],[7493,1,"\u0251"],[7494,1,"\u1D02"],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,"\u0259"],[7499,1,"\u025B"],[7500,1,"\u025C"],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,"\u014B"],[7506,1,"o"],[7507,1,"\u0254"],[7508,1,"\u1D16"],[7509,1,"\u1D17"],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,"\u1D1D"],[7514,1,"\u026F"],[7515,1,"v"],[7516,1,"\u1D25"],[7517,1,"\u03B2"],[7518,1,"\u03B3"],[7519,1,"\u03B4"],[7520,1,"\u03C6"],[7521,1,"\u03C7"],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,"\u03B2"],[7527,1,"\u03B3"],[7528,1,"\u03C1"],[7529,1,"\u03C6"],[7530,1,"\u03C7"],[7531,2],[[7532,7543],2],[7544,1,"\u043D"],[[7545,7578],2],[7579,1,"\u0252"],[7580,1,"c"],[7581,1,"\u0255"],[7582,1,"\xF0"],[7583,1,"\u025C"],[7584,1,"f"],[7585,1,"\u025F"],[7586,1,"\u0261"],[7587,1,"\u0265"],[7588,1,"\u0268"],[7589,1,"\u0269"],[7590,1,"\u026A"],[7591,1,"\u1D7B"],[7592,1,"\u029D"],[7593,1,"\u026D"],[7594,1,"\u1D85"],[7595,1,"\u029F"],[7596,1,"\u0271"],[7597,1,"\u0270"],[7598,1,"\u0272"],[7599,1,"\u0273"],[7600,1,"\u0274"],[7601,1,"\u0275"],[7602,1,"\u0278"],[7603,1,"\u0282"],[7604,1,"\u0283"],[7605,1,"\u01AB"],[7606,1,"\u0289"],[7607,1,"\u028A"],[7608,1,"\u1D1C"],[7609,1,"\u028B"],[7610,1,"\u028C"],[7611,1,"z"],[7612,1,"\u0290"],[7613,1,"\u0291"],[7614,1,"\u0292"],[7615,1,"\u03B8"],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,"\u1E01"],[7681,2],[7682,1,"\u1E03"],[7683,2],[7684,1,"\u1E05"],[7685,2],[7686,1,"\u1E07"],[7687,2],[7688,1,"\u1E09"],[7689,2],[7690,1,"\u1E0B"],[7691,2],[7692,1,"\u1E0D"],[7693,2],[7694,1,"\u1E0F"],[7695,2],[7696,1,"\u1E11"],[7697,2],[7698,1,"\u1E13"],[7699,2],[7700,1,"\u1E15"],[7701,2],[7702,1,"\u1E17"],[7703,2],[7704,1,"\u1E19"],[7705,2],[7706,1,"\u1E1B"],[7707,2],[7708,1,"\u1E1D"],[7709,2],[7710,1,"\u1E1F"],[7711,2],[7712,1,"\u1E21"],[7713,2],[7714,1,"\u1E23"],[7715,2],[7716,1,"\u1E25"],[7717,2],[7718,1,"\u1E27"],[7719,2],[7720,1,"\u1E29"],[7721,2],[7722,1,"\u1E2B"],[7723,2],[7724,1,"\u1E2D"],[7725,2],[7726,1,"\u1E2F"],[7727,2],[7728,1,"\u1E31"],[7729,2],[7730,1,"\u1E33"],[7731,2],[7732,1,"\u1E35"],[7733,2],[7734,1,"\u1E37"],[7735,2],[7736,1,"\u1E39"],[7737,2],[7738,1,"\u1E3B"],[7739,2],[7740,1,"\u1E3D"],[7741,2],[7742,1,"\u1E3F"],[7743,2],[7744,1,"\u1E41"],[7745,2],[7746,1,"\u1E43"],[7747,2],[7748,1,"\u1E45"],[7749,2],[7750,1,"\u1E47"],[7751,2],[7752,1,"\u1E49"],[7753,2],[7754,1,"\u1E4B"],[7755,2],[7756,1,"\u1E4D"],[7757,2],[7758,1,"\u1E4F"],[7759,2],[7760,1,"\u1E51"],[7761,2],[7762,1,"\u1E53"],[7763,2],[7764,1,"\u1E55"],[7765,2],[7766,1,"\u1E57"],[7767,2],[7768,1,"\u1E59"],[7769,2],[7770,1,"\u1E5B"],[7771,2],[7772,1,"\u1E5D"],[7773,2],[7774,1,"\u1E5F"],[7775,2],[7776,1,"\u1E61"],[7777,2],[7778,1,"\u1E63"],[7779,2],[7780,1,"\u1E65"],[7781,2],[7782,1,"\u1E67"],[7783,2],[7784,1,"\u1E69"],[7785,2],[7786,1,"\u1E6B"],[7787,2],[7788,1,"\u1E6D"],[7789,2],[7790,1,"\u1E6F"],[7791,2],[7792,1,"\u1E71"],[7793,2],[7794,1,"\u1E73"],[7795,2],[7796,1,"\u1E75"],[7797,2],[7798,1,"\u1E77"],[7799,2],[7800,1,"\u1E79"],[7801,2],[7802,1,"\u1E7B"],[7803,2],[7804,1,"\u1E7D"],[7805,2],[7806,1,"\u1E7F"],[7807,2],[7808,1,"\u1E81"],[7809,2],[7810,1,"\u1E83"],[7811,2],[7812,1,"\u1E85"],[7813,2],[7814,1,"\u1E87"],[7815,2],[7816,1,"\u1E89"],[7817,2],[7818,1,"\u1E8B"],[7819,2],[7820,1,"\u1E8D"],[7821,2],[7822,1,"\u1E8F"],[7823,2],[7824,1,"\u1E91"],[7825,2],[7826,1,"\u1E93"],[7827,2],[7828,1,"\u1E95"],[[7829,7833],2],[7834,1,"a\u02BE"],[7835,1,"\u1E61"],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,"\u1EA1"],[7841,2],[7842,1,"\u1EA3"],[7843,2],[7844,1,"\u1EA5"],[7845,2],[7846,1,"\u1EA7"],[7847,2],[7848,1,"\u1EA9"],[7849,2],[7850,1,"\u1EAB"],[7851,2],[7852,1,"\u1EAD"],[7853,2],[7854,1,"\u1EAF"],[7855,2],[7856,1,"\u1EB1"],[7857,2],[7858,1,"\u1EB3"],[7859,2],[7860,1,"\u1EB5"],[7861,2],[7862,1,"\u1EB7"],[7863,2],[7864,1,"\u1EB9"],[7865,2],[7866,1,"\u1EBB"],[7867,2],[7868,1,"\u1EBD"],[7869,2],[7870,1,"\u1EBF"],[7871,2],[7872,1,"\u1EC1"],[7873,2],[7874,1,"\u1EC3"],[7875,2],[7876,1,"\u1EC5"],[7877,2],[7878,1,"\u1EC7"],[7879,2],[7880,1,"\u1EC9"],[7881,2],[7882,1,"\u1ECB"],[7883,2],[7884,1,"\u1ECD"],[7885,2],[7886,1,"\u1ECF"],[7887,2],[7888,1,"\u1ED1"],[7889,2],[7890,1,"\u1ED3"],[7891,2],[7892,1,"\u1ED5"],[7893,2],[7894,1,"\u1ED7"],[7895,2],[7896,1,"\u1ED9"],[7897,2],[7898,1,"\u1EDB"],[7899,2],[7900,1,"\u1EDD"],[7901,2],[7902,1,"\u1EDF"],[7903,2],[7904,1,"\u1EE1"],[7905,2],[7906,1,"\u1EE3"],[7907,2],[7908,1,"\u1EE5"],[7909,2],[7910,1,"\u1EE7"],[7911,2],[7912,1,"\u1EE9"],[7913,2],[7914,1,"\u1EEB"],[7915,2],[7916,1,"\u1EED"],[7917,2],[7918,1,"\u1EEF"],[7919,2],[7920,1,"\u1EF1"],[7921,2],[7922,1,"\u1EF3"],[7923,2],[7924,1,"\u1EF5"],[7925,2],[7926,1,"\u1EF7"],[7927,2],[7928,1,"\u1EF9"],[7929,2],[7930,1,"\u1EFB"],[7931,2],[7932,1,"\u1EFD"],[7933,2],[7934,1,"\u1EFF"],[7935,2],[[7936,7943],2],[7944,1,"\u1F00"],[7945,1,"\u1F01"],[7946,1,"\u1F02"],[7947,1,"\u1F03"],[7948,1,"\u1F04"],[7949,1,"\u1F05"],[7950,1,"\u1F06"],[7951,1,"\u1F07"],[[7952,7957],2],[[7958,7959],3],[7960,1,"\u1F10"],[7961,1,"\u1F11"],[7962,1,"\u1F12"],[7963,1,"\u1F13"],[7964,1,"\u1F14"],[7965,1,"\u1F15"],[[7966,7967],3],[[7968,7975],2],[7976,1,"\u1F20"],[7977,1,"\u1F21"],[7978,1,"\u1F22"],[7979,1,"\u1F23"],[7980,1,"\u1F24"],[7981,1,"\u1F25"],[7982,1,"\u1F26"],[7983,1,"\u1F27"],[[7984,7991],2],[7992,1,"\u1F30"],[7993,1,"\u1F31"],[7994,1,"\u1F32"],[7995,1,"\u1F33"],[7996,1,"\u1F34"],[7997,1,"\u1F35"],[7998,1,"\u1F36"],[7999,1,"\u1F37"],[[8e3,8005],2],[[8006,8007],3],[8008,1,"\u1F40"],[8009,1,"\u1F41"],[8010,1,"\u1F42"],[8011,1,"\u1F43"],[8012,1,"\u1F44"],[8013,1,"\u1F45"],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,"\u1F51"],[8026,3],[8027,1,"\u1F53"],[8028,3],[8029,1,"\u1F55"],[8030,3],[8031,1,"\u1F57"],[[8032,8039],2],[8040,1,"\u1F60"],[8041,1,"\u1F61"],[8042,1,"\u1F62"],[8043,1,"\u1F63"],[8044,1,"\u1F64"],[8045,1,"\u1F65"],[8046,1,"\u1F66"],[8047,1,"\u1F67"],[8048,2],[8049,1,"\u03AC"],[8050,2],[8051,1,"\u03AD"],[8052,2],[8053,1,"\u03AE"],[8054,2],[8055,1,"\u03AF"],[8056,2],[8057,1,"\u03CC"],[8058,2],[8059,1,"\u03CD"],[8060,2],[8061,1,"\u03CE"],[[8062,8063],3],[8064,1,"\u1F00\u03B9"],[8065,1,"\u1F01\u03B9"],[8066,1,"\u1F02\u03B9"],[8067,1,"\u1F03\u03B9"],[8068,1,"\u1F04\u03B9"],[8069,1,"\u1F05\u03B9"],[8070,1,"\u1F06\u03B9"],[8071,1,"\u1F07\u03B9"],[8072,1,"\u1F00\u03B9"],[8073,1,"\u1F01\u03B9"],[8074,1,"\u1F02\u03B9"],[8075,1,"\u1F03\u03B9"],[8076,1,"\u1F04\u03B9"],[8077,1,"\u1F05\u03B9"],[8078,1,"\u1F06\u03B9"],[8079,1,"\u1F07\u03B9"],[8080,1,"\u1F20\u03B9"],[8081,1,"\u1F21\u03B9"],[8082,1,"\u1F22\u03B9"],[8083,1,"\u1F23\u03B9"],[8084,1,"\u1F24\u03B9"],[8085,1,"\u1F25\u03B9"],[8086,1,"\u1F26\u03B9"],[8087,1,"\u1F27\u03B9"],[8088,1,"\u1F20\u03B9"],[8089,1,"\u1F21\u03B9"],[8090,1,"\u1F22\u03B9"],[8091,1,"\u1F23\u03B9"],[8092,1,"\u1F24\u03B9"],[8093,1,"\u1F25\u03B9"],[8094,1,"\u1F26\u03B9"],[8095,1,"\u1F27\u03B9"],[8096,1,"\u1F60\u03B9"],[8097,1,"\u1F61\u03B9"],[8098,1,"\u1F62\u03B9"],[8099,1,"\u1F63\u03B9"],[8100,1,"\u1F64\u03B9"],[8101,1,"\u1F65\u03B9"],[8102,1,"\u1F66\u03B9"],[8103,1,"\u1F67\u03B9"],[8104,1,"\u1F60\u03B9"],[8105,1,"\u1F61\u03B9"],[8106,1,"\u1F62\u03B9"],[8107,1,"\u1F63\u03B9"],[8108,1,"\u1F64\u03B9"],[8109,1,"\u1F65\u03B9"],[8110,1,"\u1F66\u03B9"],[8111,1,"\u1F67\u03B9"],[[8112,8113],2],[8114,1,"\u1F70\u03B9"],[8115,1,"\u03B1\u03B9"],[8116,1,"\u03AC\u03B9"],[8117,3],[8118,2],[8119,1,"\u1FB6\u03B9"],[8120,1,"\u1FB0"],[8121,1,"\u1FB1"],[8122,1,"\u1F70"],[8123,1,"\u03AC"],[8124,1,"\u03B1\u03B9"],[8125,5," \u0313"],[8126,1,"\u03B9"],[8127,5," \u0313"],[8128,5," \u0342"],[8129,5," \u0308\u0342"],[8130,1,"\u1F74\u03B9"],[8131,1,"\u03B7\u03B9"],[8132,1,"\u03AE\u03B9"],[8133,3],[8134,2],[8135,1,"\u1FC6\u03B9"],[8136,1,"\u1F72"],[8137,1,"\u03AD"],[8138,1,"\u1F74"],[8139,1,"\u03AE"],[8140,1,"\u03B7\u03B9"],[8141,5," \u0313\u0300"],[8142,5," \u0313\u0301"],[8143,5," \u0313\u0342"],[[8144,8146],2],[8147,1,"\u0390"],[[8148,8149],3],[[8150,8151],2],[8152,1,"\u1FD0"],[8153,1,"\u1FD1"],[8154,1,"\u1F76"],[8155,1,"\u03AF"],[8156,3],[8157,5," \u0314\u0300"],[8158,5," \u0314\u0301"],[8159,5," \u0314\u0342"],[[8160,8162],2],[8163,1,"\u03B0"],[[8164,8167],2],[8168,1,"\u1FE0"],[8169,1,"\u1FE1"],[8170,1,"\u1F7A"],[8171,1,"\u03CD"],[8172,1,"\u1FE5"],[8173,5," \u0308\u0300"],[8174,5," \u0308\u0301"],[8175,5,"`"],[[8176,8177],3],[8178,1,"\u1F7C\u03B9"],[8179,1,"\u03C9\u03B9"],[8180,1,"\u03CE\u03B9"],[8181,3],[8182,2],[8183,1,"\u1FF6\u03B9"],[8184,1,"\u1F78"],[8185,1,"\u03CC"],[8186,1,"\u1F7C"],[8187,1,"\u03CE"],[8188,1,"\u03C9\u03B9"],[8189,5," \u0301"],[8190,5," \u0314"],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,"\u2010"],[[8210,8214],2],[8215,5," \u0333"],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,"\u2032\u2032"],[8244,1,"\u2032\u2032\u2032"],[8245,2],[8246,1,"\u2035\u2035"],[8247,1,"\u2035\u2035\u2035"],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," \u0305"],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,"\u2032\u2032\u2032\u2032"],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,"\u2212"],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,"\u2212"],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,"\u0259"],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"\xB0c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,"\u025B"],[8456,2],[8457,1,"\xB0f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,"\u0127"],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,"\u03C9"],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,"\xE5"],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,"\u05D0"],[8502,1,"\u05D1"],[8503,1,"\u05D2"],[8504,1,"\u05D3"],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,"\u03C0"],[[8509,8510],1,"\u03B3"],[8511,1,"\u03C0"],[8512,1,"\u2211"],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"1\u20447"],[8529,1,"1\u20449"],[8530,1,"1\u204410"],[8531,1,"1\u20443"],[8532,1,"2\u20443"],[8533,1,"1\u20445"],[8534,1,"2\u20445"],[8535,1,"3\u20445"],[8536,1,"4\u20445"],[8537,1,"1\u20446"],[8538,1,"5\u20446"],[8539,1,"1\u20448"],[8540,1,"3\u20448"],[8541,1,"5\u20448"],[8542,1,"7\u20448"],[8543,1,"1\u2044"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"0\u20443"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,"\u222B\u222B"],[8749,1,"\u222B\u222B\u222B"],[8750,2],[8751,1,"\u222E\u222E"],[8752,1,"\u222E\u222E\u222E"],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9e3],2],[9001,1,"\u3008"],[9002,1,"\u3009"],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,"\u222B\u222B\u222B\u222B"],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,"\u2ADD\u0338"],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,"\u2C30"],[11265,1,"\u2C31"],[11266,1,"\u2C32"],[11267,1,"\u2C33"],[11268,1,"\u2C34"],[11269,1,"\u2C35"],[11270,1,"\u2C36"],[11271,1,"\u2C37"],[11272,1,"\u2C38"],[11273,1,"\u2C39"],[11274,1,"\u2C3A"],[11275,1,"\u2C3B"],[11276,1,"\u2C3C"],[11277,1,"\u2C3D"],[11278,1,"\u2C3E"],[11279,1,"\u2C3F"],[11280,1,"\u2C40"],[11281,1,"\u2C41"],[11282,1,"\u2C42"],[11283,1,"\u2C43"],[11284,1,"\u2C44"],[11285,1,"\u2C45"],[11286,1,"\u2C46"],[11287,1,"\u2C47"],[11288,1,"\u2C48"],[11289,1,"\u2C49"],[11290,1,"\u2C4A"],[11291,1,"\u2C4B"],[11292,1,"\u2C4C"],[11293,1,"\u2C4D"],[11294,1,"\u2C4E"],[11295,1,"\u2C4F"],[11296,1,"\u2C50"],[11297,1,"\u2C51"],[11298,1,"\u2C52"],[11299,1,"\u2C53"],[11300,1,"\u2C54"],[11301,1,"\u2C55"],[11302,1,"\u2C56"],[11303,1,"\u2C57"],[11304,1,"\u2C58"],[11305,1,"\u2C59"],[11306,1,"\u2C5A"],[11307,1,"\u2C5B"],[11308,1,"\u2C5C"],[11309,1,"\u2C5D"],[11310,1,"\u2C5E"],[11311,1,"\u2C5F"],[[11312,11358],2],[11359,2],[11360,1,"\u2C61"],[11361,2],[11362,1,"\u026B"],[11363,1,"\u1D7D"],[11364,1,"\u027D"],[[11365,11366],2],[11367,1,"\u2C68"],[11368,2],[11369,1,"\u2C6A"],[11370,2],[11371,1,"\u2C6C"],[11372,2],[11373,1,"\u0251"],[11374,1,"\u0271"],[11375,1,"\u0250"],[11376,1,"\u0252"],[11377,2],[11378,1,"\u2C73"],[11379,2],[11380,2],[11381,1,"\u2C76"],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,"\u023F"],[11391,1,"\u0240"],[11392,1,"\u2C81"],[11393,2],[11394,1,"\u2C83"],[11395,2],[11396,1,"\u2C85"],[11397,2],[11398,1,"\u2C87"],[11399,2],[11400,1,"\u2C89"],[11401,2],[11402,1,"\u2C8B"],[11403,2],[11404,1,"\u2C8D"],[11405,2],[11406,1,"\u2C8F"],[11407,2],[11408,1,"\u2C91"],[11409,2],[11410,1,"\u2C93"],[11411,2],[11412,1,"\u2C95"],[11413,2],[11414,1,"\u2C97"],[11415,2],[11416,1,"\u2C99"],[11417,2],[11418,1,"\u2C9B"],[11419,2],[11420,1,"\u2C9D"],[11421,2],[11422,1,"\u2C9F"],[11423,2],[11424,1,"\u2CA1"],[11425,2],[11426,1,"\u2CA3"],[11427,2],[11428,1,"\u2CA5"],[11429,2],[11430,1,"\u2CA7"],[11431,2],[11432,1,"\u2CA9"],[11433,2],[11434,1,"\u2CAB"],[11435,2],[11436,1,"\u2CAD"],[11437,2],[11438,1,"\u2CAF"],[11439,2],[11440,1,"\u2CB1"],[11441,2],[11442,1,"\u2CB3"],[11443,2],[11444,1,"\u2CB5"],[11445,2],[11446,1,"\u2CB7"],[11447,2],[11448,1,"\u2CB9"],[11449,2],[11450,1,"\u2CBB"],[11451,2],[11452,1,"\u2CBD"],[11453,2],[11454,1,"\u2CBF"],[11455,2],[11456,1,"\u2CC1"],[11457,2],[11458,1,"\u2CC3"],[11459,2],[11460,1,"\u2CC5"],[11461,2],[11462,1,"\u2CC7"],[11463,2],[11464,1,"\u2CC9"],[11465,2],[11466,1,"\u2CCB"],[11467,2],[11468,1,"\u2CCD"],[11469,2],[11470,1,"\u2CCF"],[11471,2],[11472,1,"\u2CD1"],[11473,2],[11474,1,"\u2CD3"],[11475,2],[11476,1,"\u2CD5"],[11477,2],[11478,1,"\u2CD7"],[11479,2],[11480,1,"\u2CD9"],[11481,2],[11482,1,"\u2CDB"],[11483,2],[11484,1,"\u2CDD"],[11485,2],[11486,1,"\u2CDF"],[11487,2],[11488,1,"\u2CE1"],[11489,2],[11490,1,"\u2CE3"],[[11491,11492],2],[[11493,11498],2],[11499,1,"\u2CEC"],[11500,2],[11501,1,"\u2CEE"],[[11502,11505],2],[11506,1,"\u2CF3"],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,"\u2D61"],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,"\u6BCD"],[[11936,12018],2],[12019,1,"\u9F9F"],[[12020,12031],3],[12032,1,"\u4E00"],[12033,1,"\u4E28"],[12034,1,"\u4E36"],[12035,1,"\u4E3F"],[12036,1,"\u4E59"],[12037,1,"\u4E85"],[12038,1,"\u4E8C"],[12039,1,"\u4EA0"],[12040,1,"\u4EBA"],[12041,1,"\u513F"],[12042,1,"\u5165"],[12043,1,"\u516B"],[12044,1,"\u5182"],[12045,1,"\u5196"],[12046,1,"\u51AB"],[12047,1,"\u51E0"],[12048,1,"\u51F5"],[12049,1,"\u5200"],[12050,1,"\u529B"],[12051,1,"\u52F9"],[12052,1,"\u5315"],[12053,1,"\u531A"],[12054,1,"\u5338"],[12055,1,"\u5341"],[12056,1,"\u535C"],[12057,1,"\u5369"],[12058,1,"\u5382"],[12059,1,"\u53B6"],[12060,1,"\u53C8"],[12061,1,"\u53E3"],[12062,1,"\u56D7"],[12063,1,"\u571F"],[12064,1,"\u58EB"],[12065,1,"\u5902"],[12066,1,"\u590A"],[12067,1,"\u5915"],[12068,1,"\u5927"],[12069,1,"\u5973"],[12070,1,"\u5B50"],[12071,1,"\u5B80"],[12072,1,"\u5BF8"],[12073,1,"\u5C0F"],[12074,1,"\u5C22"],[12075,1,"\u5C38"],[12076,1,"\u5C6E"],[12077,1,"\u5C71"],[12078,1,"\u5DDB"],[12079,1,"\u5DE5"],[12080,1,"\u5DF1"],[12081,1,"\u5DFE"],[12082,1,"\u5E72"],[12083,1,"\u5E7A"],[12084,1,"\u5E7F"],[12085,1,"\u5EF4"],[12086,1,"\u5EFE"],[12087,1,"\u5F0B"],[12088,1,"\u5F13"],[12089,1,"\u5F50"],[12090,1,"\u5F61"],[12091,1,"\u5F73"],[12092,1,"\u5FC3"],[12093,1,"\u6208"],[12094,1,"\u6236"],[12095,1,"\u624B"],[12096,1,"\u652F"],[12097,1,"\u6534"],[12098,1,"\u6587"],[12099,1,"\u6597"],[12100,1,"\u65A4"],[12101,1,"\u65B9"],[12102,1,"\u65E0"],[12103,1,"\u65E5"],[12104,1,"\u66F0"],[12105,1,"\u6708"],[12106,1,"\u6728"],[12107,1,"\u6B20"],[12108,1,"\u6B62"],[12109,1,"\u6B79"],[12110,1,"\u6BB3"],[12111,1,"\u6BCB"],[12112,1,"\u6BD4"],[12113,1,"\u6BDB"],[12114,1,"\u6C0F"],[12115,1,"\u6C14"],[12116,1,"\u6C34"],[12117,1,"\u706B"],[12118,1,"\u722A"],[12119,1,"\u7236"],[12120,1,"\u723B"],[12121,1,"\u723F"],[12122,1,"\u7247"],[12123,1,"\u7259"],[12124,1,"\u725B"],[12125,1,"\u72AC"],[12126,1,"\u7384"],[12127,1,"\u7389"],[12128,1,"\u74DC"],[12129,1,"\u74E6"],[12130,1,"\u7518"],[12131,1,"\u751F"],[12132,1,"\u7528"],[12133,1,"\u7530"],[12134,1,"\u758B"],[12135,1,"\u7592"],[12136,1,"\u7676"],[12137,1,"\u767D"],[12138,1,"\u76AE"],[12139,1,"\u76BF"],[12140,1,"\u76EE"],[12141,1,"\u77DB"],[12142,1,"\u77E2"],[12143,1,"\u77F3"],[12144,1,"\u793A"],[12145,1,"\u79B8"],[12146,1,"\u79BE"],[12147,1,"\u7A74"],[12148,1,"\u7ACB"],[12149,1,"\u7AF9"],[12150,1,"\u7C73"],[12151,1,"\u7CF8"],[12152,1,"\u7F36"],[12153,1,"\u7F51"],[12154,1,"\u7F8A"],[12155,1,"\u7FBD"],[12156,1,"\u8001"],[12157,1,"\u800C"],[12158,1,"\u8012"],[12159,1,"\u8033"],[12160,1,"\u807F"],[12161,1,"\u8089"],[12162,1,"\u81E3"],[12163,1,"\u81EA"],[12164,1,"\u81F3"],[12165,1,"\u81FC"],[12166,1,"\u820C"],[12167,1,"\u821B"],[12168,1,"\u821F"],[12169,1,"\u826E"],[12170,1,"\u8272"],[12171,1,"\u8278"],[12172,1,"\u864D"],[12173,1,"\u866B"],[12174,1,"\u8840"],[12175,1,"\u884C"],[12176,1,"\u8863"],[12177,1,"\u897E"],[12178,1,"\u898B"],[12179,1,"\u89D2"],[12180,1,"\u8A00"],[12181,1,"\u8C37"],[12182,1,"\u8C46"],[12183,1,"\u8C55"],[12184,1,"\u8C78"],[12185,1,"\u8C9D"],[12186,1,"\u8D64"],[12187,1,"\u8D70"],[12188,1,"\u8DB3"],[12189,1,"\u8EAB"],[12190,1,"\u8ECA"],[12191,1,"\u8F9B"],[12192,1,"\u8FB0"],[12193,1,"\u8FB5"],[12194,1,"\u9091"],[12195,1,"\u9149"],[12196,1,"\u91C6"],[12197,1,"\u91CC"],[12198,1,"\u91D1"],[12199,1,"\u9577"],[12200,1,"\u9580"],[12201,1,"\u961C"],[12202,1,"\u96B6"],[12203,1,"\u96B9"],[12204,1,"\u96E8"],[12205,1,"\u9751"],[12206,1,"\u975E"],[12207,1,"\u9762"],[12208,1,"\u9769"],[12209,1,"\u97CB"],[12210,1,"\u97ED"],[12211,1,"\u97F3"],[12212,1,"\u9801"],[12213,1,"\u98A8"],[12214,1,"\u98DB"],[12215,1,"\u98DF"],[12216,1,"\u9996"],[12217,1,"\u9999"],[12218,1,"\u99AC"],[12219,1,"\u9AA8"],[12220,1,"\u9AD8"],[12221,1,"\u9ADF"],[12222,1,"\u9B25"],[12223,1,"\u9B2F"],[12224,1,"\u9B32"],[12225,1,"\u9B3C"],[12226,1,"\u9B5A"],[12227,1,"\u9CE5"],[12228,1,"\u9E75"],[12229,1,"\u9E7F"],[12230,1,"\u9EA5"],[12231,1,"\u9EBB"],[12232,1,"\u9EC3"],[12233,1,"\u9ECD"],[12234,1,"\u9ED1"],[12235,1,"\u9EF9"],[12236,1,"\u9EFD"],[12237,1,"\u9F0E"],[12238,1,"\u9F13"],[12239,1,"\u9F20"],[12240,1,"\u9F3B"],[12241,1,"\u9F4A"],[12242,1,"\u9F52"],[12243,1,"\u9F8D"],[12244,1,"\u9F9C"],[12245,1,"\u9FA0"],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,"\u3012"],[12343,2],[12344,1,"\u5341"],[12345,1,"\u5344"],[12346,1,"\u5345"],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," \u3099"],[12444,5," \u309A"],[[12445,12446],2],[12447,1,"\u3088\u308A"],[12448,2],[[12449,12542],2],[12543,1,"\u30B3\u30C8"],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,"\u1100"],[12594,1,"\u1101"],[12595,1,"\u11AA"],[12596,1,"\u1102"],[12597,1,"\u11AC"],[12598,1,"\u11AD"],[12599,1,"\u1103"],[12600,1,"\u1104"],[12601,1,"\u1105"],[12602,1,"\u11B0"],[12603,1,"\u11B1"],[12604,1,"\u11B2"],[12605,1,"\u11B3"],[12606,1,"\u11B4"],[12607,1,"\u11B5"],[12608,1,"\u111A"],[12609,1,"\u1106"],[12610,1,"\u1107"],[12611,1,"\u1108"],[12612,1,"\u1121"],[12613,1,"\u1109"],[12614,1,"\u110A"],[12615,1,"\u110B"],[12616,1,"\u110C"],[12617,1,"\u110D"],[12618,1,"\u110E"],[12619,1,"\u110F"],[12620,1,"\u1110"],[12621,1,"\u1111"],[12622,1,"\u1112"],[12623,1,"\u1161"],[12624,1,"\u1162"],[12625,1,"\u1163"],[12626,1,"\u1164"],[12627,1,"\u1165"],[12628,1,"\u1166"],[12629,1,"\u1167"],[12630,1,"\u1168"],[12631,1,"\u1169"],[12632,1,"\u116A"],[12633,1,"\u116B"],[12634,1,"\u116C"],[12635,1,"\u116D"],[12636,1,"\u116E"],[12637,1,"\u116F"],[12638,1,"\u1170"],[12639,1,"\u1171"],[12640,1,"\u1172"],[12641,1,"\u1173"],[12642,1,"\u1174"],[12643,1,"\u1175"],[12644,3],[12645,1,"\u1114"],[12646,1,"\u1115"],[12647,1,"\u11C7"],[12648,1,"\u11C8"],[12649,1,"\u11CC"],[12650,1,"\u11CE"],[12651,1,"\u11D3"],[12652,1,"\u11D7"],[12653,1,"\u11D9"],[12654,1,"\u111C"],[12655,1,"\u11DD"],[12656,1,"\u11DF"],[12657,1,"\u111D"],[12658,1,"\u111E"],[12659,1,"\u1120"],[12660,1,"\u1122"],[12661,1,"\u1123"],[12662,1,"\u1127"],[12663,1,"\u1129"],[12664,1,"\u112B"],[12665,1,"\u112C"],[12666,1,"\u112D"],[12667,1,"\u112E"],[12668,1,"\u112F"],[12669,1,"\u1132"],[12670,1,"\u1136"],[12671,1,"\u1140"],[12672,1,"\u1147"],[12673,1,"\u114C"],[12674,1,"\u11F1"],[12675,1,"\u11F2"],[12676,1,"\u1157"],[12677,1,"\u1158"],[12678,1,"\u1159"],[12679,1,"\u1184"],[12680,1,"\u1185"],[12681,1,"\u1188"],[12682,1,"\u1191"],[12683,1,"\u1192"],[12684,1,"\u1194"],[12685,1,"\u119E"],[12686,1,"\u11A1"],[12687,3],[[12688,12689],2],[12690,1,"\u4E00"],[12691,1,"\u4E8C"],[12692,1,"\u4E09"],[12693,1,"\u56DB"],[12694,1,"\u4E0A"],[12695,1,"\u4E2D"],[12696,1,"\u4E0B"],[12697,1,"\u7532"],[12698,1,"\u4E59"],[12699,1,"\u4E19"],[12700,1,"\u4E01"],[12701,1,"\u5929"],[12702,1,"\u5730"],[12703,1,"\u4EBA"],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"(\u1100)"],[12801,5,"(\u1102)"],[12802,5,"(\u1103)"],[12803,5,"(\u1105)"],[12804,5,"(\u1106)"],[12805,5,"(\u1107)"],[12806,5,"(\u1109)"],[12807,5,"(\u110B)"],[12808,5,"(\u110C)"],[12809,5,"(\u110E)"],[12810,5,"(\u110F)"],[12811,5,"(\u1110)"],[12812,5,"(\u1111)"],[12813,5,"(\u1112)"],[12814,5,"(\uAC00)"],[12815,5,"(\uB098)"],[12816,5,"(\uB2E4)"],[12817,5,"(\uB77C)"],[12818,5,"(\uB9C8)"],[12819,5,"(\uBC14)"],[12820,5,"(\uC0AC)"],[12821,5,"(\uC544)"],[12822,5,"(\uC790)"],[12823,5,"(\uCC28)"],[12824,5,"(\uCE74)"],[12825,5,"(\uD0C0)"],[12826,5,"(\uD30C)"],[12827,5,"(\uD558)"],[12828,5,"(\uC8FC)"],[12829,5,"(\uC624\uC804)"],[12830,5,"(\uC624\uD6C4)"],[12831,3],[12832,5,"(\u4E00)"],[12833,5,"(\u4E8C)"],[12834,5,"(\u4E09)"],[12835,5,"(\u56DB)"],[12836,5,"(\u4E94)"],[12837,5,"(\u516D)"],[12838,5,"(\u4E03)"],[12839,5,"(\u516B)"],[12840,5,"(\u4E5D)"],[12841,5,"(\u5341)"],[12842,5,"(\u6708)"],[12843,5,"(\u706B)"],[12844,5,"(\u6C34)"],[12845,5,"(\u6728)"],[12846,5,"(\u91D1)"],[12847,5,"(\u571F)"],[12848,5,"(\u65E5)"],[12849,5,"(\u682A)"],[12850,5,"(\u6709)"],[12851,5,"(\u793E)"],[12852,5,"(\u540D)"],[12853,5,"(\u7279)"],[12854,5,"(\u8CA1)"],[12855,5,"(\u795D)"],[12856,5,"(\u52B4)"],[12857,5,"(\u4EE3)"],[12858,5,"(\u547C)"],[12859,5,"(\u5B66)"],[12860,5,"(\u76E3)"],[12861,5,"(\u4F01)"],[12862,5,"(\u8CC7)"],[12863,5,"(\u5354)"],[12864,5,"(\u796D)"],[12865,5,"(\u4F11)"],[12866,5,"(\u81EA)"],[12867,5,"(\u81F3)"],[12868,1,"\u554F"],[12869,1,"\u5E7C"],[12870,1,"\u6587"],[12871,1,"\u7B8F"],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,"\u1100"],[12897,1,"\u1102"],[12898,1,"\u1103"],[12899,1,"\u1105"],[12900,1,"\u1106"],[12901,1,"\u1107"],[12902,1,"\u1109"],[12903,1,"\u110B"],[12904,1,"\u110C"],[12905,1,"\u110E"],[12906,1,"\u110F"],[12907,1,"\u1110"],[12908,1,"\u1111"],[12909,1,"\u1112"],[12910,1,"\uAC00"],[12911,1,"\uB098"],[12912,1,"\uB2E4"],[12913,1,"\uB77C"],[12914,1,"\uB9C8"],[12915,1,"\uBC14"],[12916,1,"\uC0AC"],[12917,1,"\uC544"],[12918,1,"\uC790"],[12919,1,"\uCC28"],[12920,1,"\uCE74"],[12921,1,"\uD0C0"],[12922,1,"\uD30C"],[12923,1,"\uD558"],[12924,1,"\uCC38\uACE0"],[12925,1,"\uC8FC\uC758"],[12926,1,"\uC6B0"],[12927,2],[12928,1,"\u4E00"],[12929,1,"\u4E8C"],[12930,1,"\u4E09"],[12931,1,"\u56DB"],[12932,1,"\u4E94"],[12933,1,"\u516D"],[12934,1,"\u4E03"],[12935,1,"\u516B"],[12936,1,"\u4E5D"],[12937,1,"\u5341"],[12938,1,"\u6708"],[12939,1,"\u706B"],[12940,1,"\u6C34"],[12941,1,"\u6728"],[12942,1,"\u91D1"],[12943,1,"\u571F"],[12944,1,"\u65E5"],[12945,1,"\u682A"],[12946,1,"\u6709"],[12947,1,"\u793E"],[12948,1,"\u540D"],[12949,1,"\u7279"],[12950,1,"\u8CA1"],[12951,1,"\u795D"],[12952,1,"\u52B4"],[12953,1,"\u79D8"],[12954,1,"\u7537"],[12955,1,"\u5973"],[12956,1,"\u9069"],[12957,1,"\u512A"],[12958,1,"\u5370"],[12959,1,"\u6CE8"],[12960,1,"\u9805"],[12961,1,"\u4F11"],[12962,1,"\u5199"],[12963,1,"\u6B63"],[12964,1,"\u4E0A"],[12965,1,"\u4E2D"],[12966,1,"\u4E0B"],[12967,1,"\u5DE6"],[12968,1,"\u53F3"],[12969,1,"\u533B"],[12970,1,"\u5B97"],[12971,1,"\u5B66"],[12972,1,"\u76E3"],[12973,1,"\u4F01"],[12974,1,"\u8CC7"],[12975,1,"\u5354"],[12976,1,"\u591C"],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1\u6708"],[12993,1,"2\u6708"],[12994,1,"3\u6708"],[12995,1,"4\u6708"],[12996,1,"5\u6708"],[12997,1,"6\u6708"],[12998,1,"7\u6708"],[12999,1,"8\u6708"],[13e3,1,"9\u6708"],[13001,1,"10\u6708"],[13002,1,"11\u6708"],[13003,1,"12\u6708"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,"\u30A2"],[13009,1,"\u30A4"],[13010,1,"\u30A6"],[13011,1,"\u30A8"],[13012,1,"\u30AA"],[13013,1,"\u30AB"],[13014,1,"\u30AD"],[13015,1,"\u30AF"],[13016,1,"\u30B1"],[13017,1,"\u30B3"],[13018,1,"\u30B5"],[13019,1,"\u30B7"],[13020,1,"\u30B9"],[13021,1,"\u30BB"],[13022,1,"\u30BD"],[13023,1,"\u30BF"],[13024,1,"\u30C1"],[13025,1,"\u30C4"],[13026,1,"\u30C6"],[13027,1,"\u30C8"],[13028,1,"\u30CA"],[13029,1,"\u30CB"],[13030,1,"\u30CC"],[13031,1,"\u30CD"],[13032,1,"\u30CE"],[13033,1,"\u30CF"],[13034,1,"\u30D2"],[13035,1,"\u30D5"],[13036,1,"\u30D8"],[13037,1,"\u30DB"],[13038,1,"\u30DE"],[13039,1,"\u30DF"],[13040,1,"\u30E0"],[13041,1,"\u30E1"],[13042,1,"\u30E2"],[13043,1,"\u30E4"],[13044,1,"\u30E6"],[13045,1,"\u30E8"],[13046,1,"\u30E9"],[13047,1,"\u30EA"],[13048,1,"\u30EB"],[13049,1,"\u30EC"],[13050,1,"\u30ED"],[13051,1,"\u30EF"],[13052,1,"\u30F0"],[13053,1,"\u30F1"],[13054,1,"\u30F2"],[13055,1,"\u4EE4\u548C"],[13056,1,"\u30A2\u30D1\u30FC\u30C8"],[13057,1,"\u30A2\u30EB\u30D5\u30A1"],[13058,1,"\u30A2\u30F3\u30DA\u30A2"],[13059,1,"\u30A2\u30FC\u30EB"],[13060,1,"\u30A4\u30CB\u30F3\u30B0"],[13061,1,"\u30A4\u30F3\u30C1"],[13062,1,"\u30A6\u30A9\u30F3"],[13063,1,"\u30A8\u30B9\u30AF\u30FC\u30C9"],[13064,1,"\u30A8\u30FC\u30AB\u30FC"],[13065,1,"\u30AA\u30F3\u30B9"],[13066,1,"\u30AA\u30FC\u30E0"],[13067,1,"\u30AB\u30A4\u30EA"],[13068,1,"\u30AB\u30E9\u30C3\u30C8"],[13069,1,"\u30AB\u30ED\u30EA\u30FC"],[13070,1,"\u30AC\u30ED\u30F3"],[13071,1,"\u30AC\u30F3\u30DE"],[13072,1,"\u30AE\u30AC"],[13073,1,"\u30AE\u30CB\u30FC"],[13074,1,"\u30AD\u30E5\u30EA\u30FC"],[13075,1,"\u30AE\u30EB\u30C0\u30FC"],[13076,1,"\u30AD\u30ED"],[13077,1,"\u30AD\u30ED\u30B0\u30E9\u30E0"],[13078,1,"\u30AD\u30ED\u30E1\u30FC\u30C8\u30EB"],[13079,1,"\u30AD\u30ED\u30EF\u30C3\u30C8"],[13080,1,"\u30B0\u30E9\u30E0"],[13081,1,"\u30B0\u30E9\u30E0\u30C8\u30F3"],[13082,1,"\u30AF\u30EB\u30BC\u30A4\u30ED"],[13083,1,"\u30AF\u30ED\u30FC\u30CD"],[13084,1,"\u30B1\u30FC\u30B9"],[13085,1,"\u30B3\u30EB\u30CA"],[13086,1,"\u30B3\u30FC\u30DD"],[13087,1,"\u30B5\u30A4\u30AF\u30EB"],[13088,1,"\u30B5\u30F3\u30C1\u30FC\u30E0"],[13089,1,"\u30B7\u30EA\u30F3\u30B0"],[13090,1,"\u30BB\u30F3\u30C1"],[13091,1,"\u30BB\u30F3\u30C8"],[13092,1,"\u30C0\u30FC\u30B9"],[13093,1,"\u30C7\u30B7"],[13094,1,"\u30C9\u30EB"],[13095,1,"\u30C8\u30F3"],[13096,1,"\u30CA\u30CE"],[13097,1,"\u30CE\u30C3\u30C8"],[13098,1,"\u30CF\u30A4\u30C4"],[13099,1,"\u30D1\u30FC\u30BB\u30F3\u30C8"],[13100,1,"\u30D1\u30FC\u30C4"],[13101,1,"\u30D0\u30FC\u30EC\u30EB"],[13102,1,"\u30D4\u30A2\u30B9\u30C8\u30EB"],[13103,1,"\u30D4\u30AF\u30EB"],[13104,1,"\u30D4\u30B3"],[13105,1,"\u30D3\u30EB"],[13106,1,"\u30D5\u30A1\u30E9\u30C3\u30C9"],[13107,1,"\u30D5\u30A3\u30FC\u30C8"],[13108,1,"\u30D6\u30C3\u30B7\u30A7\u30EB"],[13109,1,"\u30D5\u30E9\u30F3"],[13110,1,"\u30D8\u30AF\u30BF\u30FC\u30EB"],[13111,1,"\u30DA\u30BD"],[13112,1,"\u30DA\u30CB\u30D2"],[13113,1,"\u30D8\u30EB\u30C4"],[13114,1,"\u30DA\u30F3\u30B9"],[13115,1,"\u30DA\u30FC\u30B8"],[13116,1,"\u30D9\u30FC\u30BF"],[13117,1,"\u30DD\u30A4\u30F3\u30C8"],[13118,1,"\u30DC\u30EB\u30C8"],[13119,1,"\u30DB\u30F3"],[13120,1,"\u30DD\u30F3\u30C9"],[13121,1,"\u30DB\u30FC\u30EB"],[13122,1,"\u30DB\u30FC\u30F3"],[13123,1,"\u30DE\u30A4\u30AF\u30ED"],[13124,1,"\u30DE\u30A4\u30EB"],[13125,1,"\u30DE\u30C3\u30CF"],[13126,1,"\u30DE\u30EB\u30AF"],[13127,1,"\u30DE\u30F3\u30B7\u30E7\u30F3"],[13128,1,"\u30DF\u30AF\u30ED\u30F3"],[13129,1,"\u30DF\u30EA"],[13130,1,"\u30DF\u30EA\u30D0\u30FC\u30EB"],[13131,1,"\u30E1\u30AC"],[13132,1,"\u30E1\u30AC\u30C8\u30F3"],[13133,1,"\u30E1\u30FC\u30C8\u30EB"],[13134,1,"\u30E4\u30FC\u30C9"],[13135,1,"\u30E4\u30FC\u30EB"],[13136,1,"\u30E6\u30A2\u30F3"],[13137,1,"\u30EA\u30C3\u30C8\u30EB"],[13138,1,"\u30EA\u30E9"],[13139,1,"\u30EB\u30D4\u30FC"],[13140,1,"\u30EB\u30FC\u30D6\u30EB"],[13141,1,"\u30EC\u30E0"],[13142,1,"\u30EC\u30F3\u30C8\u30B2\u30F3"],[13143,1,"\u30EF\u30C3\u30C8"],[13144,1,"0\u70B9"],[13145,1,"1\u70B9"],[13146,1,"2\u70B9"],[13147,1,"3\u70B9"],[13148,1,"4\u70B9"],[13149,1,"5\u70B9"],[13150,1,"6\u70B9"],[13151,1,"7\u70B9"],[13152,1,"8\u70B9"],[13153,1,"9\u70B9"],[13154,1,"10\u70B9"],[13155,1,"11\u70B9"],[13156,1,"12\u70B9"],[13157,1,"13\u70B9"],[13158,1,"14\u70B9"],[13159,1,"15\u70B9"],[13160,1,"16\u70B9"],[13161,1,"17\u70B9"],[13162,1,"18\u70B9"],[13163,1,"19\u70B9"],[13164,1,"20\u70B9"],[13165,1,"21\u70B9"],[13166,1,"22\u70B9"],[13167,1,"23\u70B9"],[13168,1,"24\u70B9"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,"\u5E73\u6210"],[13180,1,"\u662D\u548C"],[13181,1,"\u5927\u6B63"],[13182,1,"\u660E\u6CBB"],[13183,1,"\u682A\u5F0F\u4F1A\u793E"],[13184,1,"pa"],[13185,1,"na"],[13186,1,"\u03BCa"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"\u03BCf"],[13197,1,"\u03BCg"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"\u03BCl"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"\u03BCm"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"m\u2215s"],[13224,1,"m\u2215s2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rad\u2215s"],[13231,1,"rad\u2215s2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"\u03BCs"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"\u03BCv"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"\u03BCw"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k\u03C9"],[13249,1,"m\u03C9"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"c\u2215kg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"v\u2215m"],[13279,1,"a\u2215m"],[13280,1,"1\u65E5"],[13281,1,"2\u65E5"],[13282,1,"3\u65E5"],[13283,1,"4\u65E5"],[13284,1,"5\u65E5"],[13285,1,"6\u65E5"],[13286,1,"7\u65E5"],[13287,1,"8\u65E5"],[13288,1,"9\u65E5"],[13289,1,"10\u65E5"],[13290,1,"11\u65E5"],[13291,1,"12\u65E5"],[13292,1,"13\u65E5"],[13293,1,"14\u65E5"],[13294,1,"15\u65E5"],[13295,1,"16\u65E5"],[13296,1,"17\u65E5"],[13297,1,"18\u65E5"],[13298,1,"19\u65E5"],[13299,1,"20\u65E5"],[13300,1,"21\u65E5"],[13301,1,"22\u65E5"],[13302,1,"23\u65E5"],[13303,1,"24\u65E5"],[13304,1,"25\u65E5"],[13305,1,"26\u65E5"],[13306,1,"27\u65E5"],[13307,1,"28\u65E5"],[13308,1,"29\u65E5"],[13309,1,"30\u65E5"],[13310,1,"31\u65E5"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,"\uA641"],[42561,2],[42562,1,"\uA643"],[42563,2],[42564,1,"\uA645"],[42565,2],[42566,1,"\uA647"],[42567,2],[42568,1,"\uA649"],[42569,2],[42570,1,"\uA64B"],[42571,2],[42572,1,"\uA64D"],[42573,2],[42574,1,"\uA64F"],[42575,2],[42576,1,"\uA651"],[42577,2],[42578,1,"\uA653"],[42579,2],[42580,1,"\uA655"],[42581,2],[42582,1,"\uA657"],[42583,2],[42584,1,"\uA659"],[42585,2],[42586,1,"\uA65B"],[42587,2],[42588,1,"\uA65D"],[42589,2],[42590,1,"\uA65F"],[42591,2],[42592,1,"\uA661"],[42593,2],[42594,1,"\uA663"],[42595,2],[42596,1,"\uA665"],[42597,2],[42598,1,"\uA667"],[42599,2],[42600,1,"\uA669"],[42601,2],[42602,1,"\uA66B"],[42603,2],[42604,1,"\uA66D"],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,"\uA681"],[42625,2],[42626,1,"\uA683"],[42627,2],[42628,1,"\uA685"],[42629,2],[42630,1,"\uA687"],[42631,2],[42632,1,"\uA689"],[42633,2],[42634,1,"\uA68B"],[42635,2],[42636,1,"\uA68D"],[42637,2],[42638,1,"\uA68F"],[42639,2],[42640,1,"\uA691"],[42641,2],[42642,1,"\uA693"],[42643,2],[42644,1,"\uA695"],[42645,2],[42646,1,"\uA697"],[42647,2],[42648,1,"\uA699"],[42649,2],[42650,1,"\uA69B"],[42651,2],[42652,1,"\u044A"],[42653,1,"\u044C"],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,"\uA723"],[42787,2],[42788,1,"\uA725"],[42789,2],[42790,1,"\uA727"],[42791,2],[42792,1,"\uA729"],[42793,2],[42794,1,"\uA72B"],[42795,2],[42796,1,"\uA72D"],[42797,2],[42798,1,"\uA72F"],[[42799,42801],2],[42802,1,"\uA733"],[42803,2],[42804,1,"\uA735"],[42805,2],[42806,1,"\uA737"],[42807,2],[42808,1,"\uA739"],[42809,2],[42810,1,"\uA73B"],[42811,2],[42812,1,"\uA73D"],[42813,2],[42814,1,"\uA73F"],[42815,2],[42816,1,"\uA741"],[42817,2],[42818,1,"\uA743"],[42819,2],[42820,1,"\uA745"],[42821,2],[42822,1,"\uA747"],[42823,2],[42824,1,"\uA749"],[42825,2],[42826,1,"\uA74B"],[42827,2],[42828,1,"\uA74D"],[42829,2],[42830,1,"\uA74F"],[42831,2],[42832,1,"\uA751"],[42833,2],[42834,1,"\uA753"],[42835,2],[42836,1,"\uA755"],[42837,2],[42838,1,"\uA757"],[42839,2],[42840,1,"\uA759"],[42841,2],[42842,1,"\uA75B"],[42843,2],[42844,1,"\uA75D"],[42845,2],[42846,1,"\uA75F"],[42847,2],[42848,1,"\uA761"],[42849,2],[42850,1,"\uA763"],[42851,2],[42852,1,"\uA765"],[42853,2],[42854,1,"\uA767"],[42855,2],[42856,1,"\uA769"],[42857,2],[42858,1,"\uA76B"],[42859,2],[42860,1,"\uA76D"],[42861,2],[42862,1,"\uA76F"],[42863,2],[42864,1,"\uA76F"],[[42865,42872],2],[42873,1,"\uA77A"],[42874,2],[42875,1,"\uA77C"],[42876,2],[42877,1,"\u1D79"],[42878,1,"\uA77F"],[42879,2],[42880,1,"\uA781"],[42881,2],[42882,1,"\uA783"],[42883,2],[42884,1,"\uA785"],[42885,2],[42886,1,"\uA787"],[[42887,42888],2],[[42889,42890],2],[42891,1,"\uA78C"],[42892,2],[42893,1,"\u0265"],[42894,2],[42895,2],[42896,1,"\uA791"],[42897,2],[42898,1,"\uA793"],[42899,2],[[42900,42901],2],[42902,1,"\uA797"],[42903,2],[42904,1,"\uA799"],[42905,2],[42906,1,"\uA79B"],[42907,2],[42908,1,"\uA79D"],[42909,2],[42910,1,"\uA79F"],[42911,2],[42912,1,"\uA7A1"],[42913,2],[42914,1,"\uA7A3"],[42915,2],[42916,1,"\uA7A5"],[42917,2],[42918,1,"\uA7A7"],[42919,2],[42920,1,"\uA7A9"],[42921,2],[42922,1,"\u0266"],[42923,1,"\u025C"],[42924,1,"\u0261"],[42925,1,"\u026C"],[42926,1,"\u026A"],[42927,2],[42928,1,"\u029E"],[42929,1,"\u0287"],[42930,1,"\u029D"],[42931,1,"\uAB53"],[42932,1,"\uA7B5"],[42933,2],[42934,1,"\uA7B7"],[42935,2],[42936,1,"\uA7B9"],[42937,2],[42938,1,"\uA7BB"],[42939,2],[42940,1,"\uA7BD"],[42941,2],[42942,1,"\uA7BF"],[42943,2],[42944,1,"\uA7C1"],[42945,2],[42946,1,"\uA7C3"],[42947,2],[42948,1,"\uA794"],[42949,1,"\u0282"],[42950,1,"\u1D8E"],[42951,1,"\uA7C8"],[42952,2],[42953,1,"\uA7CA"],[42954,2],[[42955,42959],3],[42960,1,"\uA7D1"],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,"\uA7D7"],[42967,2],[42968,1,"\uA7D9"],[42969,2],[[42970,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,"\uA7F6"],[42998,2],[42999,2],[43e3,1,"\u0127"],[43001,1,"\u0153"],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,"\uA727"],[43869,1,"\uAB37"],[43870,1,"\u026B"],[43871,1,"\uAB52"],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,"\u028D"],[[43882,43883],2],[[43884,43887],3],[43888,1,"\u13A0"],[43889,1,"\u13A1"],[43890,1,"\u13A2"],[43891,1,"\u13A3"],[43892,1,"\u13A4"],[43893,1,"\u13A5"],[43894,1,"\u13A6"],[43895,1,"\u13A7"],[43896,1,"\u13A8"],[43897,1,"\u13A9"],[43898,1,"\u13AA"],[43899,1,"\u13AB"],[43900,1,"\u13AC"],[43901,1,"\u13AD"],[43902,1,"\u13AE"],[43903,1,"\u13AF"],[43904,1,"\u13B0"],[43905,1,"\u13B1"],[43906,1,"\u13B2"],[43907,1,"\u13B3"],[43908,1,"\u13B4"],[43909,1,"\u13B5"],[43910,1,"\u13B6"],[43911,1,"\u13B7"],[43912,1,"\u13B8"],[43913,1,"\u13B9"],[43914,1,"\u13BA"],[43915,1,"\u13BB"],[43916,1,"\u13BC"],[43917,1,"\u13BD"],[43918,1,"\u13BE"],[43919,1,"\u13BF"],[43920,1,"\u13C0"],[43921,1,"\u13C1"],[43922,1,"\u13C2"],[43923,1,"\u13C3"],[43924,1,"\u13C4"],[43925,1,"\u13C5"],[43926,1,"\u13C6"],[43927,1,"\u13C7"],[43928,1,"\u13C8"],[43929,1,"\u13C9"],[43930,1,"\u13CA"],[43931,1,"\u13CB"],[43932,1,"\u13CC"],[43933,1,"\u13CD"],[43934,1,"\u13CE"],[43935,1,"\u13CF"],[43936,1,"\u13D0"],[43937,1,"\u13D1"],[43938,1,"\u13D2"],[43939,1,"\u13D3"],[43940,1,"\u13D4"],[43941,1,"\u13D5"],[43942,1,"\u13D6"],[43943,1,"\u13D7"],[43944,1,"\u13D8"],[43945,1,"\u13D9"],[43946,1,"\u13DA"],[43947,1,"\u13DB"],[43948,1,"\u13DC"],[43949,1,"\u13DD"],[43950,1,"\u13DE"],[43951,1,"\u13DF"],[43952,1,"\u13E0"],[43953,1,"\u13E1"],[43954,1,"\u13E2"],[43955,1,"\u13E3"],[43956,1,"\u13E4"],[43957,1,"\u13E5"],[43958,1,"\u13E6"],[43959,1,"\u13E7"],[43960,1,"\u13E8"],[43961,1,"\u13E9"],[43962,1,"\u13EA"],[43963,1,"\u13EB"],[43964,1,"\u13EC"],[43965,1,"\u13ED"],[43966,1,"\u13EE"],[43967,1,"\u13EF"],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,"\u8C48"],[63745,1,"\u66F4"],[63746,1,"\u8ECA"],[63747,1,"\u8CC8"],[63748,1,"\u6ED1"],[63749,1,"\u4E32"],[63750,1,"\u53E5"],[[63751,63752],1,"\u9F9C"],[63753,1,"\u5951"],[63754,1,"\u91D1"],[63755,1,"\u5587"],[63756,1,"\u5948"],[63757,1,"\u61F6"],[63758,1,"\u7669"],[63759,1,"\u7F85"],[63760,1,"\u863F"],[63761,1,"\u87BA"],[63762,1,"\u88F8"],[63763,1,"\u908F"],[63764,1,"\u6A02"],[63765,1,"\u6D1B"],[63766,1,"\u70D9"],[63767,1,"\u73DE"],[63768,1,"\u843D"],[63769,1,"\u916A"],[63770,1,"\u99F1"],[63771,1,"\u4E82"],[63772,1,"\u5375"],[63773,1,"\u6B04"],[63774,1,"\u721B"],[63775,1,"\u862D"],[63776,1,"\u9E1E"],[63777,1,"\u5D50"],[63778,1,"\u6FEB"],[63779,1,"\u85CD"],[63780,1,"\u8964"],[63781,1,"\u62C9"],[63782,1,"\u81D8"],[63783,1,"\u881F"],[63784,1,"\u5ECA"],[63785,1,"\u6717"],[63786,1,"\u6D6A"],[63787,1,"\u72FC"],[63788,1,"\u90CE"],[63789,1,"\u4F86"],[63790,1,"\u51B7"],[63791,1,"\u52DE"],[63792,1,"\u64C4"],[63793,1,"\u6AD3"],[63794,1,"\u7210"],[63795,1,"\u76E7"],[63796,1,"\u8001"],[63797,1,"\u8606"],[63798,1,"\u865C"],[63799,1,"\u8DEF"],[63800,1,"\u9732"],[63801,1,"\u9B6F"],[63802,1,"\u9DFA"],[63803,1,"\u788C"],[63804,1,"\u797F"],[63805,1,"\u7DA0"],[63806,1,"\u83C9"],[63807,1,"\u9304"],[63808,1,"\u9E7F"],[63809,1,"\u8AD6"],[63810,1,"\u58DF"],[63811,1,"\u5F04"],[63812,1,"\u7C60"],[63813,1,"\u807E"],[63814,1,"\u7262"],[63815,1,"\u78CA"],[63816,1,"\u8CC2"],[63817,1,"\u96F7"],[63818,1,"\u58D8"],[63819,1,"\u5C62"],[63820,1,"\u6A13"],[63821,1,"\u6DDA"],[63822,1,"\u6F0F"],[63823,1,"\u7D2F"],[63824,1,"\u7E37"],[63825,1,"\u964B"],[63826,1,"\u52D2"],[63827,1,"\u808B"],[63828,1,"\u51DC"],[63829,1,"\u51CC"],[63830,1,"\u7A1C"],[63831,1,"\u7DBE"],[63832,1,"\u83F1"],[63833,1,"\u9675"],[63834,1,"\u8B80"],[63835,1,"\u62CF"],[63836,1,"\u6A02"],[63837,1,"\u8AFE"],[63838,1,"\u4E39"],[63839,1,"\u5BE7"],[63840,1,"\u6012"],[63841,1,"\u7387"],[63842,1,"\u7570"],[63843,1,"\u5317"],[63844,1,"\u78FB"],[63845,1,"\u4FBF"],[63846,1,"\u5FA9"],[63847,1,"\u4E0D"],[63848,1,"\u6CCC"],[63849,1,"\u6578"],[63850,1,"\u7D22"],[63851,1,"\u53C3"],[63852,1,"\u585E"],[63853,1,"\u7701"],[63854,1,"\u8449"],[63855,1,"\u8AAA"],[63856,1,"\u6BBA"],[63857,1,"\u8FB0"],[63858,1,"\u6C88"],[63859,1,"\u62FE"],[63860,1,"\u82E5"],[63861,1,"\u63A0"],[63862,1,"\u7565"],[63863,1,"\u4EAE"],[63864,1,"\u5169"],[63865,1,"\u51C9"],[63866,1,"\u6881"],[63867,1,"\u7CE7"],[63868,1,"\u826F"],[63869,1,"\u8AD2"],[63870,1,"\u91CF"],[63871,1,"\u52F5"],[63872,1,"\u5442"],[63873,1,"\u5973"],[63874,1,"\u5EEC"],[63875,1,"\u65C5"],[63876,1,"\u6FFE"],[63877,1,"\u792A"],[63878,1,"\u95AD"],[63879,1,"\u9A6A"],[63880,1,"\u9E97"],[63881,1,"\u9ECE"],[63882,1,"\u529B"],[63883,1,"\u66C6"],[63884,1,"\u6B77"],[63885,1,"\u8F62"],[63886,1,"\u5E74"],[63887,1,"\u6190"],[63888,1,"\u6200"],[63889,1,"\u649A"],[63890,1,"\u6F23"],[63891,1,"\u7149"],[63892,1,"\u7489"],[63893,1,"\u79CA"],[63894,1,"\u7DF4"],[63895,1,"\u806F"],[63896,1,"\u8F26"],[63897,1,"\u84EE"],[63898,1,"\u9023"],[63899,1,"\u934A"],[63900,1,"\u5217"],[63901,1,"\u52A3"],[63902,1,"\u54BD"],[63903,1,"\u70C8"],[63904,1,"\u88C2"],[63905,1,"\u8AAA"],[63906,1,"\u5EC9"],[63907,1,"\u5FF5"],[63908,1,"\u637B"],[63909,1,"\u6BAE"],[63910,1,"\u7C3E"],[63911,1,"\u7375"],[63912,1,"\u4EE4"],[63913,1,"\u56F9"],[63914,1,"\u5BE7"],[63915,1,"\u5DBA"],[63916,1,"\u601C"],[63917,1,"\u73B2"],[63918,1,"\u7469"],[63919,1,"\u7F9A"],[63920,1,"\u8046"],[63921,1,"\u9234"],[63922,1,"\u96F6"],[63923,1,"\u9748"],[63924,1,"\u9818"],[63925,1,"\u4F8B"],[63926,1,"\u79AE"],[63927,1,"\u91B4"],[63928,1,"\u96B8"],[63929,1,"\u60E1"],[63930,1,"\u4E86"],[63931,1,"\u50DA"],[63932,1,"\u5BEE"],[63933,1,"\u5C3F"],[63934,1,"\u6599"],[63935,1,"\u6A02"],[63936,1,"\u71CE"],[63937,1,"\u7642"],[63938,1,"\u84FC"],[63939,1,"\u907C"],[63940,1,"\u9F8D"],[63941,1,"\u6688"],[63942,1,"\u962E"],[63943,1,"\u5289"],[63944,1,"\u677B"],[63945,1,"\u67F3"],[63946,1,"\u6D41"],[63947,1,"\u6E9C"],[63948,1,"\u7409"],[63949,1,"\u7559"],[63950,1,"\u786B"],[63951,1,"\u7D10"],[63952,1,"\u985E"],[63953,1,"\u516D"],[63954,1,"\u622E"],[63955,1,"\u9678"],[63956,1,"\u502B"],[63957,1,"\u5D19"],[63958,1,"\u6DEA"],[63959,1,"\u8F2A"],[63960,1,"\u5F8B"],[63961,1,"\u6144"],[63962,1,"\u6817"],[63963,1,"\u7387"],[63964,1,"\u9686"],[63965,1,"\u5229"],[63966,1,"\u540F"],[63967,1,"\u5C65"],[63968,1,"\u6613"],[63969,1,"\u674E"],[63970,1,"\u68A8"],[63971,1,"\u6CE5"],[63972,1,"\u7406"],[63973,1,"\u75E2"],[63974,1,"\u7F79"],[63975,1,"\u88CF"],[63976,1,"\u88E1"],[63977,1,"\u91CC"],[63978,1,"\u96E2"],[63979,1,"\u533F"],[63980,1,"\u6EBA"],[63981,1,"\u541D"],[63982,1,"\u71D0"],[63983,1,"\u7498"],[63984,1,"\u85FA"],[63985,1,"\u96A3"],[63986,1,"\u9C57"],[63987,1,"\u9E9F"],[63988,1,"\u6797"],[63989,1,"\u6DCB"],[63990,1,"\u81E8"],[63991,1,"\u7ACB"],[63992,1,"\u7B20"],[63993,1,"\u7C92"],[63994,1,"\u72C0"],[63995,1,"\u7099"],[63996,1,"\u8B58"],[63997,1,"\u4EC0"],[63998,1,"\u8336"],[63999,1,"\u523A"],[64e3,1,"\u5207"],[64001,1,"\u5EA6"],[64002,1,"\u62D3"],[64003,1,"\u7CD6"],[64004,1,"\u5B85"],[64005,1,"\u6D1E"],[64006,1,"\u66B4"],[64007,1,"\u8F3B"],[64008,1,"\u884C"],[64009,1,"\u964D"],[64010,1,"\u898B"],[64011,1,"\u5ED3"],[64012,1,"\u5140"],[64013,1,"\u55C0"],[[64014,64015],2],[64016,1,"\u585A"],[64017,2],[64018,1,"\u6674"],[[64019,64020],2],[64021,1,"\u51DE"],[64022,1,"\u732A"],[64023,1,"\u76CA"],[64024,1,"\u793C"],[64025,1,"\u795E"],[64026,1,"\u7965"],[64027,1,"\u798F"],[64028,1,"\u9756"],[64029,1,"\u7CBE"],[64030,1,"\u7FBD"],[64031,2],[64032,1,"\u8612"],[64033,2],[64034,1,"\u8AF8"],[[64035,64036],2],[64037,1,"\u9038"],[64038,1,"\u90FD"],[[64039,64041],2],[64042,1,"\u98EF"],[64043,1,"\u98FC"],[64044,1,"\u9928"],[64045,1,"\u9DB4"],[64046,1,"\u90DE"],[64047,1,"\u96B7"],[64048,1,"\u4FAE"],[64049,1,"\u50E7"],[64050,1,"\u514D"],[64051,1,"\u52C9"],[64052,1,"\u52E4"],[64053,1,"\u5351"],[64054,1,"\u559D"],[64055,1,"\u5606"],[64056,1,"\u5668"],[64057,1,"\u5840"],[64058,1,"\u58A8"],[64059,1,"\u5C64"],[64060,1,"\u5C6E"],[64061,1,"\u6094"],[64062,1,"\u6168"],[64063,1,"\u618E"],[64064,1,"\u61F2"],[64065,1,"\u654F"],[64066,1,"\u65E2"],[64067,1,"\u6691"],[64068,1,"\u6885"],[64069,1,"\u6D77"],[64070,1,"\u6E1A"],[64071,1,"\u6F22"],[64072,1,"\u716E"],[64073,1,"\u722B"],[64074,1,"\u7422"],[64075,1,"\u7891"],[64076,1,"\u793E"],[64077,1,"\u7949"],[64078,1,"\u7948"],[64079,1,"\u7950"],[64080,1,"\u7956"],[64081,1,"\u795D"],[64082,1,"\u798D"],[64083,1,"\u798E"],[64084,1,"\u7A40"],[64085,1,"\u7A81"],[64086,1,"\u7BC0"],[64087,1,"\u7DF4"],[64088,1,"\u7E09"],[64089,1,"\u7E41"],[64090,1,"\u7F72"],[64091,1,"\u8005"],[64092,1,"\u81ED"],[[64093,64094],1,"\u8279"],[64095,1,"\u8457"],[64096,1,"\u8910"],[64097,1,"\u8996"],[64098,1,"\u8B01"],[64099,1,"\u8B39"],[64100,1,"\u8CD3"],[64101,1,"\u8D08"],[64102,1,"\u8FB6"],[64103,1,"\u9038"],[64104,1,"\u96E3"],[64105,1,"\u97FF"],[64106,1,"\u983B"],[64107,1,"\u6075"],[64108,1,"\u{242EE}"],[64109,1,"\u8218"],[[64110,64111],3],[64112,1,"\u4E26"],[64113,1,"\u51B5"],[64114,1,"\u5168"],[64115,1,"\u4F80"],[64116,1,"\u5145"],[64117,1,"\u5180"],[64118,1,"\u52C7"],[64119,1,"\u52FA"],[64120,1,"\u559D"],[64121,1,"\u5555"],[64122,1,"\u5599"],[64123,1,"\u55E2"],[64124,1,"\u585A"],[64125,1,"\u58B3"],[64126,1,"\u5944"],[64127,1,"\u5954"],[64128,1,"\u5A62"],[64129,1,"\u5B28"],[64130,1,"\u5ED2"],[64131,1,"\u5ED9"],[64132,1,"\u5F69"],[64133,1,"\u5FAD"],[64134,1,"\u60D8"],[64135,1,"\u614E"],[64136,1,"\u6108"],[64137,1,"\u618E"],[64138,1,"\u6160"],[64139,1,"\u61F2"],[64140,1,"\u6234"],[64141,1,"\u63C4"],[64142,1,"\u641C"],[64143,1,"\u6452"],[64144,1,"\u6556"],[64145,1,"\u6674"],[64146,1,"\u6717"],[64147,1,"\u671B"],[64148,1,"\u6756"],[64149,1,"\u6B79"],[64150,1,"\u6BBA"],[64151,1,"\u6D41"],[64152,1,"\u6EDB"],[64153,1,"\u6ECB"],[64154,1,"\u6F22"],[64155,1,"\u701E"],[64156,1,"\u716E"],[64157,1,"\u77A7"],[64158,1,"\u7235"],[64159,1,"\u72AF"],[64160,1,"\u732A"],[64161,1,"\u7471"],[64162,1,"\u7506"],[64163,1,"\u753B"],[64164,1,"\u761D"],[64165,1,"\u761F"],[64166,1,"\u76CA"],[64167,1,"\u76DB"],[64168,1,"\u76F4"],[64169,1,"\u774A"],[64170,1,"\u7740"],[64171,1,"\u78CC"],[64172,1,"\u7AB1"],[64173,1,"\u7BC0"],[64174,1,"\u7C7B"],[64175,1,"\u7D5B"],[64176,1,"\u7DF4"],[64177,1,"\u7F3E"],[64178,1,"\u8005"],[64179,1,"\u8352"],[64180,1,"\u83EF"],[64181,1,"\u8779"],[64182,1,"\u8941"],[64183,1,"\u8986"],[64184,1,"\u8996"],[64185,1,"\u8ABF"],[64186,1,"\u8AF8"],[64187,1,"\u8ACB"],[64188,1,"\u8B01"],[64189,1,"\u8AFE"],[64190,1,"\u8AED"],[64191,1,"\u8B39"],[64192,1,"\u8B8A"],[64193,1,"\u8D08"],[64194,1,"\u8F38"],[64195,1,"\u9072"],[64196,1,"\u9199"],[64197,1,"\u9276"],[64198,1,"\u967C"],[64199,1,"\u96E3"],[64200,1,"\u9756"],[64201,1,"\u97DB"],[64202,1,"\u97FF"],[64203,1,"\u980B"],[64204,1,"\u983B"],[64205,1,"\u9B12"],[64206,1,"\u9F9C"],[64207,1,"\u{2284A}"],[64208,1,"\u{22844}"],[64209,1,"\u{233D5}"],[64210,1,"\u3B9D"],[64211,1,"\u4018"],[64212,1,"\u4039"],[64213,1,"\u{25249}"],[64214,1,"\u{25CD0}"],[64215,1,"\u{27ED3}"],[64216,1,"\u9F43"],[64217,1,"\u9F8E"],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,"\u0574\u0576"],[64276,1,"\u0574\u0565"],[64277,1,"\u0574\u056B"],[64278,1,"\u057E\u0576"],[64279,1,"\u0574\u056D"],[[64280,64284],3],[64285,1,"\u05D9\u05B4"],[64286,2],[64287,1,"\u05F2\u05B7"],[64288,1,"\u05E2"],[64289,1,"\u05D0"],[64290,1,"\u05D3"],[64291,1,"\u05D4"],[64292,1,"\u05DB"],[64293,1,"\u05DC"],[64294,1,"\u05DD"],[64295,1,"\u05E8"],[64296,1,"\u05EA"],[64297,5,"+"],[64298,1,"\u05E9\u05C1"],[64299,1,"\u05E9\u05C2"],[64300,1,"\u05E9\u05BC\u05C1"],[64301,1,"\u05E9\u05BC\u05C2"],[64302,1,"\u05D0\u05B7"],[64303,1,"\u05D0\u05B8"],[64304,1,"\u05D0\u05BC"],[64305,1,"\u05D1\u05BC"],[64306,1,"\u05D2\u05BC"],[64307,1,"\u05D3\u05BC"],[64308,1,"\u05D4\u05BC"],[64309,1,"\u05D5\u05BC"],[64310,1,"\u05D6\u05BC"],[64311,3],[64312,1,"\u05D8\u05BC"],[64313,1,"\u05D9\u05BC"],[64314,1,"\u05DA\u05BC"],[64315,1,"\u05DB\u05BC"],[64316,1,"\u05DC\u05BC"],[64317,3],[64318,1,"\u05DE\u05BC"],[64319,3],[64320,1,"\u05E0\u05BC"],[64321,1,"\u05E1\u05BC"],[64322,3],[64323,1,"\u05E3\u05BC"],[64324,1,"\u05E4\u05BC"],[64325,3],[64326,1,"\u05E6\u05BC"],[64327,1,"\u05E7\u05BC"],[64328,1,"\u05E8\u05BC"],[64329,1,"\u05E9\u05BC"],[64330,1,"\u05EA\u05BC"],[64331,1,"\u05D5\u05B9"],[64332,1,"\u05D1\u05BF"],[64333,1,"\u05DB\u05BF"],[64334,1,"\u05E4\u05BF"],[64335,1,"\u05D0\u05DC"],[[64336,64337],1,"\u0671"],[[64338,64341],1,"\u067B"],[[64342,64345],1,"\u067E"],[[64346,64349],1,"\u0680"],[[64350,64353],1,"\u067A"],[[64354,64357],1,"\u067F"],[[64358,64361],1,"\u0679"],[[64362,64365],1,"\u06A4"],[[64366,64369],1,"\u06A6"],[[64370,64373],1,"\u0684"],[[64374,64377],1,"\u0683"],[[64378,64381],1,"\u0686"],[[64382,64385],1,"\u0687"],[[64386,64387],1,"\u068D"],[[64388,64389],1,"\u068C"],[[64390,64391],1,"\u068E"],[[64392,64393],1,"\u0688"],[[64394,64395],1,"\u0698"],[[64396,64397],1,"\u0691"],[[64398,64401],1,"\u06A9"],[[64402,64405],1,"\u06AF"],[[64406,64409],1,"\u06B3"],[[64410,64413],1,"\u06B1"],[[64414,64415],1,"\u06BA"],[[64416,64419],1,"\u06BB"],[[64420,64421],1,"\u06C0"],[[64422,64425],1,"\u06C1"],[[64426,64429],1,"\u06BE"],[[64430,64431],1,"\u06D2"],[[64432,64433],1,"\u06D3"],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,"\u06AD"],[[64471,64472],1,"\u06C7"],[[64473,64474],1,"\u06C6"],[[64475,64476],1,"\u06C8"],[64477,1,"\u06C7\u0674"],[[64478,64479],1,"\u06CB"],[[64480,64481],1,"\u06C5"],[[64482,64483],1,"\u06C9"],[[64484,64487],1,"\u06D0"],[[64488,64489],1,"\u0649"],[[64490,64491],1,"\u0626\u0627"],[[64492,64493],1,"\u0626\u06D5"],[[64494,64495],1,"\u0626\u0648"],[[64496,64497],1,"\u0626\u06C7"],[[64498,64499],1,"\u0626\u06C6"],[[64500,64501],1,"\u0626\u06C8"],[[64502,64504],1,"\u0626\u06D0"],[[64505,64507],1,"\u0626\u0649"],[[64508,64511],1,"\u06CC"],[64512,1,"\u0626\u062C"],[64513,1,"\u0626\u062D"],[64514,1,"\u0626\u0645"],[64515,1,"\u0626\u0649"],[64516,1,"\u0626\u064A"],[64517,1,"\u0628\u062C"],[64518,1,"\u0628\u062D"],[64519,1,"\u0628\u062E"],[64520,1,"\u0628\u0645"],[64521,1,"\u0628\u0649"],[64522,1,"\u0628\u064A"],[64523,1,"\u062A\u062C"],[64524,1,"\u062A\u062D"],[64525,1,"\u062A\u062E"],[64526,1,"\u062A\u0645"],[64527,1,"\u062A\u0649"],[64528,1,"\u062A\u064A"],[64529,1,"\u062B\u062C"],[64530,1,"\u062B\u0645"],[64531,1,"\u062B\u0649"],[64532,1,"\u062B\u064A"],[64533,1,"\u062C\u062D"],[64534,1,"\u062C\u0645"],[64535,1,"\u062D\u062C"],[64536,1,"\u062D\u0645"],[64537,1,"\u062E\u062C"],[64538,1,"\u062E\u062D"],[64539,1,"\u062E\u0645"],[64540,1,"\u0633\u062C"],[64541,1,"\u0633\u062D"],[64542,1,"\u0633\u062E"],[64543,1,"\u0633\u0645"],[64544,1,"\u0635\u062D"],[64545,1,"\u0635\u0645"],[64546,1,"\u0636\u062C"],[64547,1,"\u0636\u062D"],[64548,1,"\u0636\u062E"],[64549,1,"\u0636\u0645"],[64550,1,"\u0637\u062D"],[64551,1,"\u0637\u0645"],[64552,1,"\u0638\u0645"],[64553,1,"\u0639\u062C"],[64554,1,"\u0639\u0645"],[64555,1,"\u063A\u062C"],[64556,1,"\u063A\u0645"],[64557,1,"\u0641\u062C"],[64558,1,"\u0641\u062D"],[64559,1,"\u0641\u062E"],[64560,1,"\u0641\u0645"],[64561,1,"\u0641\u0649"],[64562,1,"\u0641\u064A"],[64563,1,"\u0642\u062D"],[64564,1,"\u0642\u0645"],[64565,1,"\u0642\u0649"],[64566,1,"\u0642\u064A"],[64567,1,"\u0643\u0627"],[64568,1,"\u0643\u062C"],[64569,1,"\u0643\u062D"],[64570,1,"\u0643\u062E"],[64571,1,"\u0643\u0644"],[64572,1,"\u0643\u0645"],[64573,1,"\u0643\u0649"],[64574,1,"\u0643\u064A"],[64575,1,"\u0644\u062C"],[64576,1,"\u0644\u062D"],[64577,1,"\u0644\u062E"],[64578,1,"\u0644\u0645"],[64579,1,"\u0644\u0649"],[64580,1,"\u0644\u064A"],[64581,1,"\u0645\u062C"],[64582,1,"\u0645\u062D"],[64583,1,"\u0645\u062E"],[64584,1,"\u0645\u0645"],[64585,1,"\u0645\u0649"],[64586,1,"\u0645\u064A"],[64587,1,"\u0646\u062C"],[64588,1,"\u0646\u062D"],[64589,1,"\u0646\u062E"],[64590,1,"\u0646\u0645"],[64591,1,"\u0646\u0649"],[64592,1,"\u0646\u064A"],[64593,1,"\u0647\u062C"],[64594,1,"\u0647\u0645"],[64595,1,"\u0647\u0649"],[64596,1,"\u0647\u064A"],[64597,1,"\u064A\u062C"],[64598,1,"\u064A\u062D"],[64599,1,"\u064A\u062E"],[64600,1,"\u064A\u0645"],[64601,1,"\u064A\u0649"],[64602,1,"\u064A\u064A"],[64603,1,"\u0630\u0670"],[64604,1,"\u0631\u0670"],[64605,1,"\u0649\u0670"],[64606,5," \u064C\u0651"],[64607,5," \u064D\u0651"],[64608,5," \u064E\u0651"],[64609,5," \u064F\u0651"],[64610,5," \u0650\u0651"],[64611,5," \u0651\u0670"],[64612,1,"\u0626\u0631"],[64613,1,"\u0626\u0632"],[64614,1,"\u0626\u0645"],[64615,1,"\u0626\u0646"],[64616,1,"\u0626\u0649"],[64617,1,"\u0626\u064A"],[64618,1,"\u0628\u0631"],[64619,1,"\u0628\u0632"],[64620,1,"\u0628\u0645"],[64621,1,"\u0628\u0646"],[64622,1,"\u0628\u0649"],[64623,1,"\u0628\u064A"],[64624,1,"\u062A\u0631"],[64625,1,"\u062A\u0632"],[64626,1,"\u062A\u0645"],[64627,1,"\u062A\u0646"],[64628,1,"\u062A\u0649"],[64629,1,"\u062A\u064A"],[64630,1,"\u062B\u0631"],[64631,1,"\u062B\u0632"],[64632,1,"\u062B\u0645"],[64633,1,"\u062B\u0646"],[64634,1,"\u062B\u0649"],[64635,1,"\u062B\u064A"],[64636,1,"\u0641\u0649"],[64637,1,"\u0641\u064A"],[64638,1,"\u0642\u0649"],[64639,1,"\u0642\u064A"],[64640,1,"\u0643\u0627"],[64641,1,"\u0643\u0644"],[64642,1,"\u0643\u0645"],[64643,1,"\u0643\u0649"],[64644,1,"\u0643\u064A"],[64645,1,"\u0644\u0645"],[64646,1,"\u0644\u0649"],[64647,1,"\u0644\u064A"],[64648,1,"\u0645\u0627"],[64649,1,"\u0645\u0645"],[64650,1,"\u0646\u0631"],[64651,1,"\u0646\u0632"],[64652,1,"\u0646\u0645"],[64653,1,"\u0646\u0646"],[64654,1,"\u0646\u0649"],[64655,1,"\u0646\u064A"],[64656,1,"\u0649\u0670"],[64657,1,"\u064A\u0631"],[64658,1,"\u064A\u0632"],[64659,1,"\u064A\u0645"],[64660,1,"\u064A\u0646"],[64661,1,"\u064A\u0649"],[64662,1,"\u064A\u064A"],[64663,1,"\u0626\u062C"],[64664,1,"\u0626\u062D"],[64665,1,"\u0626\u062E"],[64666,1,"\u0626\u0645"],[64667,1,"\u0626\u0647"],[64668,1,"\u0628\u062C"],[64669,1,"\u0628\u062D"],[64670,1,"\u0628\u062E"],[64671,1,"\u0628\u0645"],[64672,1,"\u0628\u0647"],[64673,1,"\u062A\u062C"],[64674,1,"\u062A\u062D"],[64675,1,"\u062A\u062E"],[64676,1,"\u062A\u0645"],[64677,1,"\u062A\u0647"],[64678,1,"\u062B\u0645"],[64679,1,"\u062C\u062D"],[64680,1,"\u062C\u0645"],[64681,1,"\u062D\u062C"],[64682,1,"\u062D\u0645"],[64683,1,"\u062E\u062C"],[64684,1,"\u062E\u0645"],[64685,1,"\u0633\u062C"],[64686,1,"\u0633\u062D"],[64687,1,"\u0633\u062E"],[64688,1,"\u0633\u0645"],[64689,1,"\u0635\u062D"],[64690,1,"\u0635\u062E"],[64691,1,"\u0635\u0645"],[64692,1,"\u0636\u062C"],[64693,1,"\u0636\u062D"],[64694,1,"\u0636\u062E"],[64695,1,"\u0636\u0645"],[64696,1,"\u0637\u062D"],[64697,1,"\u0638\u0645"],[64698,1,"\u0639\u062C"],[64699,1,"\u0639\u0645"],[64700,1,"\u063A\u062C"],[64701,1,"\u063A\u0645"],[64702,1,"\u0641\u062C"],[64703,1,"\u0641\u062D"],[64704,1,"\u0641\u062E"],[64705,1,"\u0641\u0645"],[64706,1,"\u0642\u062D"],[64707,1,"\u0642\u0645"],[64708,1,"\u0643\u062C"],[64709,1,"\u0643\u062D"],[64710,1,"\u0643\u062E"],[64711,1,"\u0643\u0644"],[64712,1,"\u0643\u0645"],[64713,1,"\u0644\u062C"],[64714,1,"\u0644\u062D"],[64715,1,"\u0644\u062E"],[64716,1,"\u0644\u0645"],[64717,1,"\u0644\u0647"],[64718,1,"\u0645\u062C"],[64719,1,"\u0645\u062D"],[64720,1,"\u0645\u062E"],[64721,1,"\u0645\u0645"],[64722,1,"\u0646\u062C"],[64723,1,"\u0646\u062D"],[64724,1,"\u0646\u062E"],[64725,1,"\u0646\u0645"],[64726,1,"\u0646\u0647"],[64727,1,"\u0647\u062C"],[64728,1,"\u0647\u0645"],[64729,1,"\u0647\u0670"],[64730,1,"\u064A\u062C"],[64731,1,"\u064A\u062D"],[64732,1,"\u064A\u062E"],[64733,1,"\u064A\u0645"],[64734,1,"\u064A\u0647"],[64735,1,"\u0626\u0645"],[64736,1,"\u0626\u0647"],[64737,1,"\u0628\u0645"],[64738,1,"\u0628\u0647"],[64739,1,"\u062A\u0645"],[64740,1,"\u062A\u0647"],[64741,1,"\u062B\u0645"],[64742,1,"\u062B\u0647"],[64743,1,"\u0633\u0645"],[64744,1,"\u0633\u0647"],[64745,1,"\u0634\u0645"],[64746,1,"\u0634\u0647"],[64747,1,"\u0643\u0644"],[64748,1,"\u0643\u0645"],[64749,1,"\u0644\u0645"],[64750,1,"\u0646\u0645"],[64751,1,"\u0646\u0647"],[64752,1,"\u064A\u0645"],[64753,1,"\u064A\u0647"],[64754,1,"\u0640\u064E\u0651"],[64755,1,"\u0640\u064F\u0651"],[64756,1,"\u0640\u0650\u0651"],[64757,1,"\u0637\u0649"],[64758,1,"\u0637\u064A"],[64759,1,"\u0639\u0649"],[64760,1,"\u0639\u064A"],[64761,1,"\u063A\u0649"],[64762,1,"\u063A\u064A"],[64763,1,"\u0633\u0649"],[64764,1,"\u0633\u064A"],[64765,1,"\u0634\u0649"],[64766,1,"\u0634\u064A"],[64767,1,"\u062D\u0649"],[64768,1,"\u062D\u064A"],[64769,1,"\u062C\u0649"],[64770,1,"\u062C\u064A"],[64771,1,"\u062E\u0649"],[64772,1,"\u062E\u064A"],[64773,1,"\u0635\u0649"],[64774,1,"\u0635\u064A"],[64775,1,"\u0636\u0649"],[64776,1,"\u0636\u064A"],[64777,1,"\u0634\u062C"],[64778,1,"\u0634\u062D"],[64779,1,"\u0634\u062E"],[64780,1,"\u0634\u0645"],[64781,1,"\u0634\u0631"],[64782,1,"\u0633\u0631"],[64783,1,"\u0635\u0631"],[64784,1,"\u0636\u0631"],[64785,1,"\u0637\u0649"],[64786,1,"\u0637\u064A"],[64787,1,"\u0639\u0649"],[64788,1,"\u0639\u064A"],[64789,1,"\u063A\u0649"],[64790,1,"\u063A\u064A"],[64791,1,"\u0633\u0649"],[64792,1,"\u0633\u064A"],[64793,1,"\u0634\u0649"],[64794,1,"\u0634\u064A"],[64795,1,"\u062D\u0649"],[64796,1,"\u062D\u064A"],[64797,1,"\u062C\u0649"],[64798,1,"\u062C\u064A"],[64799,1,"\u062E\u0649"],[64800,1,"\u062E\u064A"],[64801,1,"\u0635\u0649"],[64802,1,"\u0635\u064A"],[64803,1,"\u0636\u0649"],[64804,1,"\u0636\u064A"],[64805,1,"\u0634\u062C"],[64806,1,"\u0634\u062D"],[64807,1,"\u0634\u062E"],[64808,1,"\u0634\u0645"],[64809,1,"\u0634\u0631"],[64810,1,"\u0633\u0631"],[64811,1,"\u0635\u0631"],[64812,1,"\u0636\u0631"],[64813,1,"\u0634\u062C"],[64814,1,"\u0634\u062D"],[64815,1,"\u0634\u062E"],[64816,1,"\u0634\u0645"],[64817,1,"\u0633\u0647"],[64818,1,"\u0634\u0647"],[64819,1,"\u0637\u0645"],[64820,1,"\u0633\u062C"],[64821,1,"\u0633\u062D"],[64822,1,"\u0633\u062E"],[64823,1,"\u0634\u062C"],[64824,1,"\u0634\u062D"],[64825,1,"\u0634\u062E"],[64826,1,"\u0637\u0645"],[64827,1,"\u0638\u0645"],[[64828,64829],1,"\u0627\u064B"],[[64830,64831],2],[[64832,64847],2],[64848,1,"\u062A\u062C\u0645"],[[64849,64850],1,"\u062A\u062D\u062C"],[64851,1,"\u062A\u062D\u0645"],[64852,1,"\u062A\u062E\u0645"],[64853,1,"\u062A\u0645\u062C"],[64854,1,"\u062A\u0645\u062D"],[64855,1,"\u062A\u0645\u062E"],[[64856,64857],1,"\u062C\u0645\u062D"],[64858,1,"\u062D\u0645\u064A"],[64859,1,"\u062D\u0645\u0649"],[64860,1,"\u0633\u062D\u062C"],[64861,1,"\u0633\u062C\u062D"],[64862,1,"\u0633\u062C\u0649"],[[64863,64864],1,"\u0633\u0645\u062D"],[64865,1,"\u0633\u0645\u062C"],[[64866,64867],1,"\u0633\u0645\u0645"],[[64868,64869],1,"\u0635\u062D\u062D"],[64870,1,"\u0635\u0645\u0645"],[[64871,64872],1,"\u0634\u062D\u0645"],[64873,1,"\u0634\u062C\u064A"],[[64874,64875],1,"\u0634\u0645\u062E"],[[64876,64877],1,"\u0634\u0645\u0645"],[64878,1,"\u0636\u062D\u0649"],[[64879,64880],1,"\u0636\u062E\u0645"],[[64881,64882],1,"\u0637\u0645\u062D"],[64883,1,"\u0637\u0645\u0645"],[64884,1,"\u0637\u0645\u064A"],[64885,1,"\u0639\u062C\u0645"],[[64886,64887],1,"\u0639\u0645\u0645"],[64888,1,"\u0639\u0645\u0649"],[64889,1,"\u063A\u0645\u0645"],[64890,1,"\u063A\u0645\u064A"],[64891,1,"\u063A\u0645\u0649"],[[64892,64893],1,"\u0641\u062E\u0645"],[64894,1,"\u0642\u0645\u062D"],[64895,1,"\u0642\u0645\u0645"],[64896,1,"\u0644\u062D\u0645"],[64897,1,"\u0644\u062D\u064A"],[64898,1,"\u0644\u062D\u0649"],[[64899,64900],1,"\u0644\u062C\u062C"],[[64901,64902],1,"\u0644\u062E\u0645"],[[64903,64904],1,"\u0644\u0645\u062D"],[64905,1,"\u0645\u062D\u062C"],[64906,1,"\u0645\u062D\u0645"],[64907,1,"\u0645\u062D\u064A"],[64908,1,"\u0645\u062C\u062D"],[64909,1,"\u0645\u062C\u0645"],[64910,1,"\u0645\u062E\u062C"],[64911,1,"\u0645\u062E\u0645"],[[64912,64913],3],[64914,1,"\u0645\u062C\u062E"],[64915,1,"\u0647\u0645\u062C"],[64916,1,"\u0647\u0645\u0645"],[64917,1,"\u0646\u062D\u0645"],[64918,1,"\u0646\u062D\u0649"],[[64919,64920],1,"\u0646\u062C\u0645"],[64921,1,"\u0646\u062C\u0649"],[64922,1,"\u0646\u0645\u064A"],[64923,1,"\u0646\u0645\u0649"],[[64924,64925],1,"\u064A\u0645\u0645"],[64926,1,"\u0628\u062E\u064A"],[64927,1,"\u062A\u062C\u064A"],[64928,1,"\u062A\u062C\u0649"],[64929,1,"\u062A\u062E\u064A"],[64930,1,"\u062A\u062E\u0649"],[64931,1,"\u062A\u0645\u064A"],[64932,1,"\u062A\u0645\u0649"],[64933,1,"\u062C\u0645\u064A"],[64934,1,"\u062C\u062D\u0649"],[64935,1,"\u062C\u0645\u0649"],[64936,1,"\u0633\u062E\u0649"],[64937,1,"\u0635\u062D\u064A"],[64938,1,"\u0634\u062D\u064A"],[64939,1,"\u0636\u062D\u064A"],[64940,1,"\u0644\u062C\u064A"],[64941,1,"\u0644\u0645\u064A"],[64942,1,"\u064A\u062D\u064A"],[64943,1,"\u064A\u062C\u064A"],[64944,1,"\u064A\u0645\u064A"],[64945,1,"\u0645\u0645\u064A"],[64946,1,"\u0642\u0645\u064A"],[64947,1,"\u0646\u062D\u064A"],[64948,1,"\u0642\u0645\u062D"],[64949,1,"\u0644\u062D\u0645"],[64950,1,"\u0639\u0645\u064A"],[64951,1,"\u0643\u0645\u064A"],[64952,1,"\u0646\u062C\u062D"],[64953,1,"\u0645\u062E\u064A"],[64954,1,"\u0644\u062C\u0645"],[64955,1,"\u0643\u0645\u0645"],[64956,1,"\u0644\u062C\u0645"],[64957,1,"\u0646\u062C\u062D"],[64958,1,"\u062C\u062D\u064A"],[64959,1,"\u062D\u062C\u064A"],[64960,1,"\u0645\u062C\u064A"],[64961,1,"\u0641\u0645\u064A"],[64962,1,"\u0628\u062D\u064A"],[64963,1,"\u0643\u0645\u0645"],[64964,1,"\u0639\u062C\u0645"],[64965,1,"\u0635\u0645\u0645"],[64966,1,"\u0633\u062E\u064A"],[64967,1,"\u0646\u062C\u064A"],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,"\u0635\u0644\u06D2"],[65009,1,"\u0642\u0644\u06D2"],[65010,1,"\u0627\u0644\u0644\u0647"],[65011,1,"\u0627\u0643\u0628\u0631"],[65012,1,"\u0645\u062D\u0645\u062F"],[65013,1,"\u0635\u0644\u0639\u0645"],[65014,1,"\u0631\u0633\u0648\u0644"],[65015,1,"\u0639\u0644\u064A\u0647"],[65016,1,"\u0648\u0633\u0644\u0645"],[65017,1,"\u0635\u0644\u0649"],[65018,5,"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064A\u0647 \u0648\u0633\u0644\u0645"],[65019,5,"\u062C\u0644 \u062C\u0644\u0627\u0644\u0647"],[65020,1,"\u0631\u06CC\u0627\u0644"],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,5,","],[65041,1,"\u3001"],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,"\u3016"],[65048,1,"\u3017"],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,"\u2014"],[65074,1,"\u2013"],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,"\u3014"],[65082,1,"\u3015"],[65083,1,"\u3010"],[65084,1,"\u3011"],[65085,1,"\u300A"],[65086,1,"\u300B"],[65087,1,"\u3008"],[65088,1,"\u3009"],[65089,1,"\u300C"],[65090,1,"\u300D"],[65091,1,"\u300E"],[65092,1,"\u300F"],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," \u0305"],[[65101,65103],5,"_"],[65104,5,","],[65105,1,"\u3001"],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,"\u2014"],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,"\u3014"],[65118,1,"\u3015"],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," \u064B"],[65137,1,"\u0640\u064B"],[65138,5," \u064C"],[65139,2],[65140,5," \u064D"],[65141,3],[65142,5," \u064E"],[65143,1,"\u0640\u064E"],[65144,5," \u064F"],[65145,1,"\u0640\u064F"],[65146,5," \u0650"],[65147,1,"\u0640\u0650"],[65148,5," \u0651"],[65149,1,"\u0640\u0651"],[65150,5," \u0652"],[65151,1,"\u0640\u0652"],[65152,1,"\u0621"],[[65153,65154],1,"\u0622"],[[65155,65156],1,"\u0623"],[[65157,65158],1,"\u0624"],[[65159,65160],1,"\u0625"],[[65161,65164],1,"\u0626"],[[65165,65166],1,"\u0627"],[[65167,65170],1,"\u0628"],[[65171,65172],1,"\u0629"],[[65173,65176],1,"\u062A"],[[65177,65180],1,"\u062B"],[[65181,65184],1,"\u062C"],[[65185,65188],1,"\u062D"],[[65189,65192],1,"\u062E"],[[65193,65194],1,"\u062F"],[[65195,65196],1,"\u0630"],[[65197,65198],1,"\u0631"],[[65199,65200],1,"\u0632"],[[65201,65204],1,"\u0633"],[[65205,65208],1,"\u0634"],[[65209,65212],1,"\u0635"],[[65213,65216],1,"\u0636"],[[65217,65220],1,"\u0637"],[[65221,65224],1,"\u0638"],[[65225,65228],1,"\u0639"],[[65229,65232],1,"\u063A"],[[65233,65236],1,"\u0641"],[[65237,65240],1,"\u0642"],[[65241,65244],1,"\u0643"],[[65245,65248],1,"\u0644"],[[65249,65252],1,"\u0645"],[[65253,65256],1,"\u0646"],[[65257,65260],1,"\u0647"],[[65261,65262],1,"\u0648"],[[65263,65264],1,"\u0649"],[[65265,65268],1,"\u064A"],[[65269,65270],1,"\u0644\u0622"],[[65271,65272],1,"\u0644\u0623"],[[65273,65274],1,"\u0644\u0625"],[[65275,65276],1,"\u0644\u0627"],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,'"'],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,"\u2985"],[65376,1,"\u2986"],[65377,1,"."],[65378,1,"\u300C"],[65379,1,"\u300D"],[65380,1,"\u3001"],[65381,1,"\u30FB"],[65382,1,"\u30F2"],[65383,1,"\u30A1"],[65384,1,"\u30A3"],[65385,1,"\u30A5"],[65386,1,"\u30A7"],[65387,1,"\u30A9"],[65388,1,"\u30E3"],[65389,1,"\u30E5"],[65390,1,"\u30E7"],[65391,1,"\u30C3"],[65392,1,"\u30FC"],[65393,1,"\u30A2"],[65394,1,"\u30A4"],[65395,1,"\u30A6"],[65396,1,"\u30A8"],[65397,1,"\u30AA"],[65398,1,"\u30AB"],[65399,1,"\u30AD"],[65400,1,"\u30AF"],[65401,1,"\u30B1"],[65402,1,"\u30B3"],[65403,1,"\u30B5"],[65404,1,"\u30B7"],[65405,1,"\u30B9"],[65406,1,"\u30BB"],[65407,1,"\u30BD"],[65408,1,"\u30BF"],[65409,1,"\u30C1"],[65410,1,"\u30C4"],[65411,1,"\u30C6"],[65412,1,"\u30C8"],[65413,1,"\u30CA"],[65414,1,"\u30CB"],[65415,1,"\u30CC"],[65416,1,"\u30CD"],[65417,1,"\u30CE"],[65418,1,"\u30CF"],[65419,1,"\u30D2"],[65420,1,"\u30D5"],[65421,1,"\u30D8"],[65422,1,"\u30DB"],[65423,1,"\u30DE"],[65424,1,"\u30DF"],[65425,1,"\u30E0"],[65426,1,"\u30E1"],[65427,1,"\u30E2"],[65428,1,"\u30E4"],[65429,1,"\u30E6"],[65430,1,"\u30E8"],[65431,1,"\u30E9"],[65432,1,"\u30EA"],[65433,1,"\u30EB"],[65434,1,"\u30EC"],[65435,1,"\u30ED"],[65436,1,"\u30EF"],[65437,1,"\u30F3"],[65438,1,"\u3099"],[65439,1,"\u309A"],[65440,3],[65441,1,"\u1100"],[65442,1,"\u1101"],[65443,1,"\u11AA"],[65444,1,"\u1102"],[65445,1,"\u11AC"],[65446,1,"\u11AD"],[65447,1,"\u1103"],[65448,1,"\u1104"],[65449,1,"\u1105"],[65450,1,"\u11B0"],[65451,1,"\u11B1"],[65452,1,"\u11B2"],[65453,1,"\u11B3"],[65454,1,"\u11B4"],[65455,1,"\u11B5"],[65456,1,"\u111A"],[65457,1,"\u1106"],[65458,1,"\u1107"],[65459,1,"\u1108"],[65460,1,"\u1121"],[65461,1,"\u1109"],[65462,1,"\u110A"],[65463,1,"\u110B"],[65464,1,"\u110C"],[65465,1,"\u110D"],[65466,1,"\u110E"],[65467,1,"\u110F"],[65468,1,"\u1110"],[65469,1,"\u1111"],[65470,1,"\u1112"],[[65471,65473],3],[65474,1,"\u1161"],[65475,1,"\u1162"],[65476,1,"\u1163"],[65477,1,"\u1164"],[65478,1,"\u1165"],[65479,1,"\u1166"],[[65480,65481],3],[65482,1,"\u1167"],[65483,1,"\u1168"],[65484,1,"\u1169"],[65485,1,"\u116A"],[65486,1,"\u116B"],[65487,1,"\u116C"],[[65488,65489],3],[65490,1,"\u116D"],[65491,1,"\u116E"],[65492,1,"\u116F"],[65493,1,"\u1170"],[65494,1,"\u1171"],[65495,1,"\u1172"],[[65496,65497],3],[65498,1,"\u1173"],[65499,1,"\u1174"],[65500,1,"\u1175"],[[65501,65503],3],[65504,1,"\xA2"],[65505,1,"\xA3"],[65506,1,"\xAC"],[65507,5," \u0304"],[65508,1,"\xA6"],[65509,1,"\xA5"],[65510,1,"\u20A9"],[65511,3],[65512,1,"\u2502"],[65513,1,"\u2190"],[65514,1,"\u2191"],[65515,1,"\u2192"],[65516,1,"\u2193"],[65517,1,"\u25A0"],[65518,1,"\u25CB"],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66e3,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,"\u{10428}"],[66561,1,"\u{10429}"],[66562,1,"\u{1042A}"],[66563,1,"\u{1042B}"],[66564,1,"\u{1042C}"],[66565,1,"\u{1042D}"],[66566,1,"\u{1042E}"],[66567,1,"\u{1042F}"],[66568,1,"\u{10430}"],[66569,1,"\u{10431}"],[66570,1,"\u{10432}"],[66571,1,"\u{10433}"],[66572,1,"\u{10434}"],[66573,1,"\u{10435}"],[66574,1,"\u{10436}"],[66575,1,"\u{10437}"],[66576,1,"\u{10438}"],[66577,1,"\u{10439}"],[66578,1,"\u{1043A}"],[66579,1,"\u{1043B}"],[66580,1,"\u{1043C}"],[66581,1,"\u{1043D}"],[66582,1,"\u{1043E}"],[66583,1,"\u{1043F}"],[66584,1,"\u{10440}"],[66585,1,"\u{10441}"],[66586,1,"\u{10442}"],[66587,1,"\u{10443}"],[66588,1,"\u{10444}"],[66589,1,"\u{10445}"],[66590,1,"\u{10446}"],[66591,1,"\u{10447}"],[66592,1,"\u{10448}"],[66593,1,"\u{10449}"],[66594,1,"\u{1044A}"],[66595,1,"\u{1044B}"],[66596,1,"\u{1044C}"],[66597,1,"\u{1044D}"],[66598,1,"\u{1044E}"],[66599,1,"\u{1044F}"],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,"\u{104D8}"],[66737,1,"\u{104D9}"],[66738,1,"\u{104DA}"],[66739,1,"\u{104DB}"],[66740,1,"\u{104DC}"],[66741,1,"\u{104DD}"],[66742,1,"\u{104DE}"],[66743,1,"\u{104DF}"],[66744,1,"\u{104E0}"],[66745,1,"\u{104E1}"],[66746,1,"\u{104E2}"],[66747,1,"\u{104E3}"],[66748,1,"\u{104E4}"],[66749,1,"\u{104E5}"],[66750,1,"\u{104E6}"],[66751,1,"\u{104E7}"],[66752,1,"\u{104E8}"],[66753,1,"\u{104E9}"],[66754,1,"\u{104EA}"],[66755,1,"\u{104EB}"],[66756,1,"\u{104EC}"],[66757,1,"\u{104ED}"],[66758,1,"\u{104EE}"],[66759,1,"\u{104EF}"],[66760,1,"\u{104F0}"],[66761,1,"\u{104F1}"],[66762,1,"\u{104F2}"],[66763,1,"\u{104F3}"],[66764,1,"\u{104F4}"],[66765,1,"\u{104F5}"],[66766,1,"\u{104F6}"],[66767,1,"\u{104F7}"],[66768,1,"\u{104F8}"],[66769,1,"\u{104F9}"],[66770,1,"\u{104FA}"],[66771,1,"\u{104FB}"],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,"\u{10597}"],[66929,1,"\u{10598}"],[66930,1,"\u{10599}"],[66931,1,"\u{1059A}"],[66932,1,"\u{1059B}"],[66933,1,"\u{1059C}"],[66934,1,"\u{1059D}"],[66935,1,"\u{1059E}"],[66936,1,"\u{1059F}"],[66937,1,"\u{105A0}"],[66938,1,"\u{105A1}"],[66939,3],[66940,1,"\u{105A3}"],[66941,1,"\u{105A4}"],[66942,1,"\u{105A5}"],[66943,1,"\u{105A6}"],[66944,1,"\u{105A7}"],[66945,1,"\u{105A8}"],[66946,1,"\u{105A9}"],[66947,1,"\u{105AA}"],[66948,1,"\u{105AB}"],[66949,1,"\u{105AC}"],[66950,1,"\u{105AD}"],[66951,1,"\u{105AE}"],[66952,1,"\u{105AF}"],[66953,1,"\u{105B0}"],[66954,1,"\u{105B1}"],[66955,3],[66956,1,"\u{105B3}"],[66957,1,"\u{105B4}"],[66958,1,"\u{105B5}"],[66959,1,"\u{105B6}"],[66960,1,"\u{105B7}"],[66961,1,"\u{105B8}"],[66962,1,"\u{105B9}"],[66963,3],[66964,1,"\u{105BB}"],[66965,1,"\u{105BC}"],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,"\u02D0"],[67458,1,"\u02D1"],[67459,1,"\xE6"],[67460,1,"\u0299"],[67461,1,"\u0253"],[67462,3],[67463,1,"\u02A3"],[67464,1,"\uAB66"],[67465,1,"\u02A5"],[67466,1,"\u02A4"],[67467,1,"\u0256"],[67468,1,"\u0257"],[67469,1,"\u1D91"],[67470,1,"\u0258"],[67471,1,"\u025E"],[67472,1,"\u02A9"],[67473,1,"\u0264"],[67474,1,"\u0262"],[67475,1,"\u0260"],[67476,1,"\u029B"],[67477,1,"\u0127"],[67478,1,"\u029C"],[67479,1,"\u0267"],[67480,1,"\u0284"],[67481,1,"\u02AA"],[67482,1,"\u02AB"],[67483,1,"\u026C"],[67484,1,"\u{1DF04}"],[67485,1,"\uA78E"],[67486,1,"\u026E"],[67487,1,"\u{1DF05}"],[67488,1,"\u028E"],[67489,1,"\u{1DF06}"],[67490,1,"\xF8"],[67491,1,"\u0276"],[67492,1,"\u0277"],[67493,1,"q"],[67494,1,"\u027A"],[67495,1,"\u{1DF08}"],[67496,1,"\u027D"],[67497,1,"\u027E"],[67498,1,"\u0280"],[67499,1,"\u02A8"],[67500,1,"\u02A6"],[67501,1,"\uAB67"],[67502,1,"\u02A7"],[67503,1,"\u0288"],[67504,1,"\u2C71"],[67505,3],[67506,1,"\u028F"],[67507,1,"\u02A1"],[67508,1,"\u02A2"],[67509,1,"\u0298"],[67510,1,"\u01C0"],[67511,1,"\u01C1"],[67512,1,"\u01C2"],[67513,1,"\u{1DF0A}"],[67514,1,"\u{1DF1E}"],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,"\u{10CC0}"],[68737,1,"\u{10CC1}"],[68738,1,"\u{10CC2}"],[68739,1,"\u{10CC3}"],[68740,1,"\u{10CC4}"],[68741,1,"\u{10CC5}"],[68742,1,"\u{10CC6}"],[68743,1,"\u{10CC7}"],[68744,1,"\u{10CC8}"],[68745,1,"\u{10CC9}"],[68746,1,"\u{10CCA}"],[68747,1,"\u{10CCB}"],[68748,1,"\u{10CCC}"],[68749,1,"\u{10CCD}"],[68750,1,"\u{10CCE}"],[68751,1,"\u{10CCF}"],[68752,1,"\u{10CD0}"],[68753,1,"\u{10CD1}"],[68754,1,"\u{10CD2}"],[68755,1,"\u{10CD3}"],[68756,1,"\u{10CD4}"],[68757,1,"\u{10CD5}"],[68758,1,"\u{10CD6}"],[68759,1,"\u{10CD7}"],[68760,1,"\u{10CD8}"],[68761,1,"\u{10CD9}"],[68762,1,"\u{10CDA}"],[68763,1,"\u{10CDB}"],[68764,1,"\u{10CDC}"],[68765,1,"\u{10CDD}"],[68766,1,"\u{10CDE}"],[68767,1,"\u{10CDF}"],[68768,1,"\u{10CE0}"],[68769,1,"\u{10CE1}"],[68770,1,"\u{10CE2}"],[68771,1,"\u{10CE3}"],[68772,1,"\u{10CE4}"],[68773,1,"\u{10CE5}"],[68774,1,"\u{10CE6}"],[68775,1,"\u{10CE7}"],[68776,1,"\u{10CE8}"],[68777,1,"\u{10CE9}"],[68778,1,"\u{10CEA}"],[68779,1,"\u{10CEB}"],[68780,1,"\u{10CEC}"],[68781,1,"\u{10CED}"],[68782,1,"\u{10CEE}"],[68783,1,"\u{10CEF}"],[68784,1,"\u{10CF0}"],[68785,1,"\u{10CF1}"],[68786,1,"\u{10CF2}"],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69375],3],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,"\u{118C0}"],[71841,1,"\u{118C1}"],[71842,1,"\u{118C2}"],[71843,1,"\u{118C3}"],[71844,1,"\u{118C4}"],[71845,1,"\u{118C5}"],[71846,1,"\u{118C6}"],[71847,1,"\u{118C7}"],[71848,1,"\u{118C8}"],[71849,1,"\u{118C9}"],[71850,1,"\u{118CA}"],[71851,1,"\u{118CB}"],[71852,1,"\u{118CC}"],[71853,1,"\u{118CD}"],[71854,1,"\u{118CE}"],[71855,1,"\u{118CF}"],[71856,1,"\u{118D0}"],[71857,1,"\u{118D1}"],[71858,1,"\u{118D2}"],[71859,1,"\u{118D3}"],[71860,1,"\u{118D4}"],[71861,1,"\u{118D5}"],[71862,1,"\u{118D6}"],[71863,1,"\u{118D7}"],[71864,1,"\u{118D8}"],[71865,1,"\u{118D9}"],[71866,1,"\u{118DA}"],[71867,1,"\u{118DB}"],[71868,1,"\u{118DC}"],[71869,1,"\u{118DD}"],[71870,1,"\u{118DE}"],[71871,1,"\u{118DF}"],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,3],[[78896,78904],3],[[78905,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,"\u{16E60}"],[93761,1,"\u{16E61}"],[93762,1,"\u{16E62}"],[93763,1,"\u{16E63}"],[93764,1,"\u{16E64}"],[93765,1,"\u{16E65}"],[93766,1,"\u{16E66}"],[93767,1,"\u{16E67}"],[93768,1,"\u{16E68}"],[93769,1,"\u{16E69}"],[93770,1,"\u{16E6A}"],[93771,1,"\u{16E6B}"],[93772,1,"\u{16E6C}"],[93773,1,"\u{16E6D}"],[93774,1,"\u{16E6E}"],[93775,1,"\u{16E6F}"],[93776,1,"\u{16E70}"],[93777,1,"\u{16E71}"],[93778,1,"\u{16E72}"],[93779,1,"\u{16E73}"],[93780,1,"\u{16E74}"],[93781,1,"\u{16E75}"],[93782,1,"\u{16E76}"],[93783,1,"\u{16E77}"],[93784,1,"\u{16E78}"],[93785,1,"\u{16E79}"],[93786,1,"\u{16E7A}"],[93787,1,"\u{16E7B}"],[93788,1,"\u{16E7C}"],[93789,1,"\u{16E7D}"],[93790,1,"\u{16E7E}"],[93791,1,"\u{16E7F}"],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101631],3],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110927],3],[[110928,110930],2],[[110931,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,"\u{1D157}\u{1D165}"],[119135,1,"\u{1D158}\u{1D165}"],[119136,1,"\u{1D158}\u{1D165}\u{1D16E}"],[119137,1,"\u{1D158}\u{1D165}\u{1D16F}"],[119138,1,"\u{1D158}\u{1D165}\u{1D170}"],[119139,1,"\u{1D158}\u{1D165}\u{1D171}"],[119140,1,"\u{1D158}\u{1D165}\u{1D172}"],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,"\u{1D1B9}\u{1D165}"],[119228,1,"\u{1D1BA}\u{1D165}"],[119229,1,"\u{1D1B9}\u{1D165}\u{1D16E}"],[119230,1,"\u{1D1BA}\u{1D165}\u{1D16E}"],[119231,1,"\u{1D1B9}\u{1D165}\u{1D16F}"],[119232,1,"\u{1D1BA}\u{1D165}\u{1D16F}"],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[12e4,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,"\u0131"],[120485,1,"\u0237"],[[120486,120487],3],[120488,1,"\u03B1"],[120489,1,"\u03B2"],[120490,1,"\u03B3"],[120491,1,"\u03B4"],[120492,1,"\u03B5"],[120493,1,"\u03B6"],[120494,1,"\u03B7"],[120495,1,"\u03B8"],[120496,1,"\u03B9"],[120497,1,"\u03BA"],[120498,1,"\u03BB"],[120499,1,"\u03BC"],[120500,1,"\u03BD"],[120501,1,"\u03BE"],[120502,1,"\u03BF"],[120503,1,"\u03C0"],[120504,1,"\u03C1"],[120505,1,"\u03B8"],[120506,1,"\u03C3"],[120507,1,"\u03C4"],[120508,1,"\u03C5"],[120509,1,"\u03C6"],[120510,1,"\u03C7"],[120511,1,"\u03C8"],[120512,1,"\u03C9"],[120513,1,"\u2207"],[120514,1,"\u03B1"],[120515,1,"\u03B2"],[120516,1,"\u03B3"],[120517,1,"\u03B4"],[120518,1,"\u03B5"],[120519,1,"\u03B6"],[120520,1,"\u03B7"],[120521,1,"\u03B8"],[120522,1,"\u03B9"],[120523,1,"\u03BA"],[120524,1,"\u03BB"],[120525,1,"\u03BC"],[120526,1,"\u03BD"],[120527,1,"\u03BE"],[120528,1,"\u03BF"],[120529,1,"\u03C0"],[120530,1,"\u03C1"],[[120531,120532],1,"\u03C3"],[120533,1,"\u03C4"],[120534,1,"\u03C5"],[120535,1,"\u03C6"],[120536,1,"\u03C7"],[120537,1,"\u03C8"],[120538,1,"\u03C9"],[120539,1,"\u2202"],[120540,1,"\u03B5"],[120541,1,"\u03B8"],[120542,1,"\u03BA"],[120543,1,"\u03C6"],[120544,1,"\u03C1"],[120545,1,"\u03C0"],[120546,1,"\u03B1"],[120547,1,"\u03B2"],[120548,1,"\u03B3"],[120549,1,"\u03B4"],[120550,1,"\u03B5"],[120551,1,"\u03B6"],[120552,1,"\u03B7"],[120553,1,"\u03B8"],[120554,1,"\u03B9"],[120555,1,"\u03BA"],[120556,1,"\u03BB"],[120557,1,"\u03BC"],[120558,1,"\u03BD"],[120559,1,"\u03BE"],[120560,1,"\u03BF"],[120561,1,"\u03C0"],[120562,1,"\u03C1"],[120563,1,"\u03B8"],[120564,1,"\u03C3"],[120565,1,"\u03C4"],[120566,1,"\u03C5"],[120567,1,"\u03C6"],[120568,1,"\u03C7"],[120569,1,"\u03C8"],[120570,1,"\u03C9"],[120571,1,"\u2207"],[120572,1,"\u03B1"],[120573,1,"\u03B2"],[120574,1,"\u03B3"],[120575,1,"\u03B4"],[120576,1,"\u03B5"],[120577,1,"\u03B6"],[120578,1,"\u03B7"],[120579,1,"\u03B8"],[120580,1,"\u03B9"],[120581,1,"\u03BA"],[120582,1,"\u03BB"],[120583,1,"\u03BC"],[120584,1,"\u03BD"],[120585,1,"\u03BE"],[120586,1,"\u03BF"],[120587,1,"\u03C0"],[120588,1,"\u03C1"],[[120589,120590],1,"\u03C3"],[120591,1,"\u03C4"],[120592,1,"\u03C5"],[120593,1,"\u03C6"],[120594,1,"\u03C7"],[120595,1,"\u03C8"],[120596,1,"\u03C9"],[120597,1,"\u2202"],[120598,1,"\u03B5"],[120599,1,"\u03B8"],[120600,1,"\u03BA"],[120601,1,"\u03C6"],[120602,1,"\u03C1"],[120603,1,"\u03C0"],[120604,1,"\u03B1"],[120605,1,"\u03B2"],[120606,1,"\u03B3"],[120607,1,"\u03B4"],[120608,1,"\u03B5"],[120609,1,"\u03B6"],[120610,1,"\u03B7"],[120611,1,"\u03B8"],[120612,1,"\u03B9"],[120613,1,"\u03BA"],[120614,1,"\u03BB"],[120615,1,"\u03BC"],[120616,1,"\u03BD"],[120617,1,"\u03BE"],[120618,1,"\u03BF"],[120619,1,"\u03C0"],[120620,1,"\u03C1"],[120621,1,"\u03B8"],[120622,1,"\u03C3"],[120623,1,"\u03C4"],[120624,1,"\u03C5"],[120625,1,"\u03C6"],[120626,1,"\u03C7"],[120627,1,"\u03C8"],[120628,1,"\u03C9"],[120629,1,"\u2207"],[120630,1,"\u03B1"],[120631,1,"\u03B2"],[120632,1,"\u03B3"],[120633,1,"\u03B4"],[120634,1,"\u03B5"],[120635,1,"\u03B6"],[120636,1,"\u03B7"],[120637,1,"\u03B8"],[120638,1,"\u03B9"],[120639,1,"\u03BA"],[120640,1,"\u03BB"],[120641,1,"\u03BC"],[120642,1,"\u03BD"],[120643,1,"\u03BE"],[120644,1,"\u03BF"],[120645,1,"\u03C0"],[120646,1,"\u03C1"],[[120647,120648],1,"\u03C3"],[120649,1,"\u03C4"],[120650,1,"\u03C5"],[120651,1,"\u03C6"],[120652,1,"\u03C7"],[120653,1,"\u03C8"],[120654,1,"\u03C9"],[120655,1,"\u2202"],[120656,1,"\u03B5"],[120657,1,"\u03B8"],[120658,1,"\u03BA"],[120659,1,"\u03C6"],[120660,1,"\u03C1"],[120661,1,"\u03C0"],[120662,1,"\u03B1"],[120663,1,"\u03B2"],[120664,1,"\u03B3"],[120665,1,"\u03B4"],[120666,1,"\u03B5"],[120667,1,"\u03B6"],[120668,1,"\u03B7"],[120669,1,"\u03B8"],[120670,1,"\u03B9"],[120671,1,"\u03BA"],[120672,1,"\u03BB"],[120673,1,"\u03BC"],[120674,1,"\u03BD"],[120675,1,"\u03BE"],[120676,1,"\u03BF"],[120677,1,"\u03C0"],[120678,1,"\u03C1"],[120679,1,"\u03B8"],[120680,1,"\u03C3"],[120681,1,"\u03C4"],[120682,1,"\u03C5"],[120683,1,"\u03C6"],[120684,1,"\u03C7"],[120685,1,"\u03C8"],[120686,1,"\u03C9"],[120687,1,"\u2207"],[120688,1,"\u03B1"],[120689,1,"\u03B2"],[120690,1,"\u03B3"],[120691,1,"\u03B4"],[120692,1,"\u03B5"],[120693,1,"\u03B6"],[120694,1,"\u03B7"],[120695,1,"\u03B8"],[120696,1,"\u03B9"],[120697,1,"\u03BA"],[120698,1,"\u03BB"],[120699,1,"\u03BC"],[120700,1,"\u03BD"],[120701,1,"\u03BE"],[120702,1,"\u03BF"],[120703,1,"\u03C0"],[120704,1,"\u03C1"],[[120705,120706],1,"\u03C3"],[120707,1,"\u03C4"],[120708,1,"\u03C5"],[120709,1,"\u03C6"],[120710,1,"\u03C7"],[120711,1,"\u03C8"],[120712,1,"\u03C9"],[120713,1,"\u2202"],[120714,1,"\u03B5"],[120715,1,"\u03B8"],[120716,1,"\u03BA"],[120717,1,"\u03C6"],[120718,1,"\u03C1"],[120719,1,"\u03C0"],[120720,1,"\u03B1"],[120721,1,"\u03B2"],[120722,1,"\u03B3"],[120723,1,"\u03B4"],[120724,1,"\u03B5"],[120725,1,"\u03B6"],[120726,1,"\u03B7"],[120727,1,"\u03B8"],[120728,1,"\u03B9"],[120729,1,"\u03BA"],[120730,1,"\u03BB"],[120731,1,"\u03BC"],[120732,1,"\u03BD"],[120733,1,"\u03BE"],[120734,1,"\u03BF"],[120735,1,"\u03C0"],[120736,1,"\u03C1"],[120737,1,"\u03B8"],[120738,1,"\u03C3"],[120739,1,"\u03C4"],[120740,1,"\u03C5"],[120741,1,"\u03C6"],[120742,1,"\u03C7"],[120743,1,"\u03C8"],[120744,1,"\u03C9"],[120745,1,"\u2207"],[120746,1,"\u03B1"],[120747,1,"\u03B2"],[120748,1,"\u03B3"],[120749,1,"\u03B4"],[120750,1,"\u03B5"],[120751,1,"\u03B6"],[120752,1,"\u03B7"],[120753,1,"\u03B8"],[120754,1,"\u03B9"],[120755,1,"\u03BA"],[120756,1,"\u03BB"],[120757,1,"\u03BC"],[120758,1,"\u03BD"],[120759,1,"\u03BE"],[120760,1,"\u03BF"],[120761,1,"\u03C0"],[120762,1,"\u03C1"],[[120763,120764],1,"\u03C3"],[120765,1,"\u03C4"],[120766,1,"\u03C5"],[120767,1,"\u03C6"],[120768,1,"\u03C7"],[120769,1,"\u03C8"],[120770,1,"\u03C9"],[120771,1,"\u2202"],[120772,1,"\u03B5"],[120773,1,"\u03B8"],[120774,1,"\u03BA"],[120775,1,"\u03C6"],[120776,1,"\u03C1"],[120777,1,"\u03C0"],[[120778,120779],1,"\u03DD"],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,"\u{1E922}"],[125185,1,"\u{1E923}"],[125186,1,"\u{1E924}"],[125187,1,"\u{1E925}"],[125188,1,"\u{1E926}"],[125189,1,"\u{1E927}"],[125190,1,"\u{1E928}"],[125191,1,"\u{1E929}"],[125192,1,"\u{1E92A}"],[125193,1,"\u{1E92B}"],[125194,1,"\u{1E92C}"],[125195,1,"\u{1E92D}"],[125196,1,"\u{1E92E}"],[125197,1,"\u{1E92F}"],[125198,1,"\u{1E930}"],[125199,1,"\u{1E931}"],[125200,1,"\u{1E932}"],[125201,1,"\u{1E933}"],[125202,1,"\u{1E934}"],[125203,1,"\u{1E935}"],[125204,1,"\u{1E936}"],[125205,1,"\u{1E937}"],[125206,1,"\u{1E938}"],[125207,1,"\u{1E939}"],[125208,1,"\u{1E93A}"],[125209,1,"\u{1E93B}"],[125210,1,"\u{1E93C}"],[125211,1,"\u{1E93D}"],[125212,1,"\u{1E93E}"],[125213,1,"\u{1E93F}"],[125214,1,"\u{1E940}"],[125215,1,"\u{1E941}"],[125216,1,"\u{1E942}"],[125217,1,"\u{1E943}"],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,"\u0627"],[126465,1,"\u0628"],[126466,1,"\u062C"],[126467,1,"\u062F"],[126468,3],[126469,1,"\u0648"],[126470,1,"\u0632"],[126471,1,"\u062D"],[126472,1,"\u0637"],[126473,1,"\u064A"],[126474,1,"\u0643"],[126475,1,"\u0644"],[126476,1,"\u0645"],[126477,1,"\u0646"],[126478,1,"\u0633"],[126479,1,"\u0639"],[126480,1,"\u0641"],[126481,1,"\u0635"],[126482,1,"\u0642"],[126483,1,"\u0631"],[126484,1,"\u0634"],[126485,1,"\u062A"],[126486,1,"\u062B"],[126487,1,"\u062E"],[126488,1,"\u0630"],[126489,1,"\u0636"],[126490,1,"\u0638"],[126491,1,"\u063A"],[126492,1,"\u066E"],[126493,1,"\u06BA"],[126494,1,"\u06A1"],[126495,1,"\u066F"],[126496,3],[126497,1,"\u0628"],[126498,1,"\u062C"],[126499,3],[126500,1,"\u0647"],[[126501,126502],3],[126503,1,"\u062D"],[126504,3],[126505,1,"\u064A"],[126506,1,"\u0643"],[126507,1,"\u0644"],[126508,1,"\u0645"],[126509,1,"\u0646"],[126510,1,"\u0633"],[126511,1,"\u0639"],[126512,1,"\u0641"],[126513,1,"\u0635"],[126514,1,"\u0642"],[126515,3],[126516,1,"\u0634"],[126517,1,"\u062A"],[126518,1,"\u062B"],[126519,1,"\u062E"],[126520,3],[126521,1,"\u0636"],[126522,3],[126523,1,"\u063A"],[[126524,126529],3],[126530,1,"\u062C"],[[126531,126534],3],[126535,1,"\u062D"],[126536,3],[126537,1,"\u064A"],[126538,3],[126539,1,"\u0644"],[126540,3],[126541,1,"\u0646"],[126542,1,"\u0633"],[126543,1,"\u0639"],[126544,3],[126545,1,"\u0635"],[126546,1,"\u0642"],[126547,3],[126548,1,"\u0634"],[[126549,126550],3],[126551,1,"\u062E"],[126552,3],[126553,1,"\u0636"],[126554,3],[126555,1,"\u063A"],[126556,3],[126557,1,"\u06BA"],[126558,3],[126559,1,"\u066F"],[126560,3],[126561,1,"\u0628"],[126562,1,"\u062C"],[126563,3],[126564,1,"\u0647"],[[126565,126566],3],[126567,1,"\u062D"],[126568,1,"\u0637"],[126569,1,"\u064A"],[126570,1,"\u0643"],[126571,3],[126572,1,"\u0645"],[126573,1,"\u0646"],[126574,1,"\u0633"],[126575,1,"\u0639"],[126576,1,"\u0641"],[126577,1,"\u0635"],[126578,1,"\u0642"],[126579,3],[126580,1,"\u0634"],[126581,1,"\u062A"],[126582,1,"\u062B"],[126583,1,"\u062E"],[126584,3],[126585,1,"\u0636"],[126586,1,"\u0638"],[126587,1,"\u063A"],[126588,1,"\u066E"],[126589,3],[126590,1,"\u06A1"],[126591,3],[126592,1,"\u0627"],[126593,1,"\u0628"],[126594,1,"\u062C"],[126595,1,"\u062F"],[126596,1,"\u0647"],[126597,1,"\u0648"],[126598,1,"\u0632"],[126599,1,"\u062D"],[126600,1,"\u0637"],[126601,1,"\u064A"],[126602,3],[126603,1,"\u0644"],[126604,1,"\u0645"],[126605,1,"\u0646"],[126606,1,"\u0633"],[126607,1,"\u0639"],[126608,1,"\u0641"],[126609,1,"\u0635"],[126610,1,"\u0642"],[126611,1,"\u0631"],[126612,1,"\u0634"],[126613,1,"\u062A"],[126614,1,"\u062B"],[126615,1,"\u062E"],[126616,1,"\u0630"],[126617,1,"\u0636"],[126618,1,"\u0638"],[126619,1,"\u063A"],[[126620,126624],3],[126625,1,"\u0628"],[126626,1,"\u062C"],[126627,1,"\u062F"],[126628,3],[126629,1,"\u0648"],[126630,1,"\u0632"],[126631,1,"\u062D"],[126632,1,"\u0637"],[126633,1,"\u064A"],[126634,3],[126635,1,"\u0644"],[126636,1,"\u0645"],[126637,1,"\u0646"],[126638,1,"\u0633"],[126639,1,"\u0639"],[126640,1,"\u0641"],[126641,1,"\u0635"],[126642,1,"\u0642"],[126643,1,"\u0631"],[126644,1,"\u0634"],[126645,1,"\u062A"],[126646,1,"\u062B"],[126647,1,"\u062E"],[126648,1,"\u0630"],[126649,1,"\u0636"],[126650,1,"\u0638"],[126651,1,"\u063A"],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"\u3014s\u3015"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,"\u307B\u304B"],[127489,1,"\u30B3\u30B3"],[127490,1,"\u30B5"],[[127491,127503],3],[127504,1,"\u624B"],[127505,1,"\u5B57"],[127506,1,"\u53CC"],[127507,1,"\u30C7"],[127508,1,"\u4E8C"],[127509,1,"\u591A"],[127510,1,"\u89E3"],[127511,1,"\u5929"],[127512,1,"\u4EA4"],[127513,1,"\u6620"],[127514,1,"\u7121"],[127515,1,"\u6599"],[127516,1,"\u524D"],[127517,1,"\u5F8C"],[127518,1,"\u518D"],[127519,1,"\u65B0"],[127520,1,"\u521D"],[127521,1,"\u7D42"],[127522,1,"\u751F"],[127523,1,"\u8CA9"],[127524,1,"\u58F0"],[127525,1,"\u5439"],[127526,1,"\u6F14"],[127527,1,"\u6295"],[127528,1,"\u6355"],[127529,1,"\u4E00"],[127530,1,"\u4E09"],[127531,1,"\u904A"],[127532,1,"\u5DE6"],[127533,1,"\u4E2D"],[127534,1,"\u53F3"],[127535,1,"\u6307"],[127536,1,"\u8D70"],[127537,1,"\u6253"],[127538,1,"\u7981"],[127539,1,"\u7A7A"],[127540,1,"\u5408"],[127541,1,"\u6E80"],[127542,1,"\u6709"],[127543,1,"\u6708"],[127544,1,"\u7533"],[127545,1,"\u5272"],[127546,1,"\u55B6"],[127547,1,"\u914D"],[[127548,127551],3],[127552,1,"\u3014\u672C\u3015"],[127553,1,"\u3014\u4E09\u3015"],[127554,1,"\u3014\u4E8C\u3015"],[127555,1,"\u3014\u5B89\u3015"],[127556,1,"\u3014\u70B9\u3015"],[127557,1,"\u3014\u6253\u3015"],[127558,1,"\u3014\u76D7\u3015"],[127559,1,"\u3014\u52DD\u3015"],[127560,1,"\u3014\u6557\u3015"],[[127561,127567],3],[127568,1,"\u5F97"],[127569,1,"\u53EF"],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128e3,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128732],3],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128895],3],[[128896,128980],2],[[128981,128984],2],[[128985,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],3],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129679],3],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],3],[[129712,129718],2],[[129719,129722],2],[[129723,129727],3],[[129728,129730],2],[[129731,129733],2],[[129734,129743],3],[[129744,129750],2],[[129751,129753],2],[[129754,129759],3],[[129760,129767],2],[[129768,129775],3],[[129776,129782],2],[[129783,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],3],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[[177977,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,"\u4E3D"],[194561,1,"\u4E38"],[194562,1,"\u4E41"],[194563,1,"\u{20122}"],[194564,1,"\u4F60"],[194565,1,"\u4FAE"],[194566,1,"\u4FBB"],[194567,1,"\u5002"],[194568,1,"\u507A"],[194569,1,"\u5099"],[194570,1,"\u50E7"],[194571,1,"\u50CF"],[194572,1,"\u349E"],[194573,1,"\u{2063A}"],[194574,1,"\u514D"],[194575,1,"\u5154"],[194576,1,"\u5164"],[194577,1,"\u5177"],[194578,1,"\u{2051C}"],[194579,1,"\u34B9"],[194580,1,"\u5167"],[194581,1,"\u518D"],[194582,1,"\u{2054B}"],[194583,1,"\u5197"],[194584,1,"\u51A4"],[194585,1,"\u4ECC"],[194586,1,"\u51AC"],[194587,1,"\u51B5"],[194588,1,"\u{291DF}"],[194589,1,"\u51F5"],[194590,1,"\u5203"],[194591,1,"\u34DF"],[194592,1,"\u523B"],[194593,1,"\u5246"],[194594,1,"\u5272"],[194595,1,"\u5277"],[194596,1,"\u3515"],[194597,1,"\u52C7"],[194598,1,"\u52C9"],[194599,1,"\u52E4"],[194600,1,"\u52FA"],[194601,1,"\u5305"],[194602,1,"\u5306"],[194603,1,"\u5317"],[194604,1,"\u5349"],[194605,1,"\u5351"],[194606,1,"\u535A"],[194607,1,"\u5373"],[194608,1,"\u537D"],[[194609,194611],1,"\u537F"],[194612,1,"\u{20A2C}"],[194613,1,"\u7070"],[194614,1,"\u53CA"],[194615,1,"\u53DF"],[194616,1,"\u{20B63}"],[194617,1,"\u53EB"],[194618,1,"\u53F1"],[194619,1,"\u5406"],[194620,1,"\u549E"],[194621,1,"\u5438"],[194622,1,"\u5448"],[194623,1,"\u5468"],[194624,1,"\u54A2"],[194625,1,"\u54F6"],[194626,1,"\u5510"],[194627,1,"\u5553"],[194628,1,"\u5563"],[[194629,194630],1,"\u5584"],[194631,1,"\u5599"],[194632,1,"\u55AB"],[194633,1,"\u55B3"],[194634,1,"\u55C2"],[194635,1,"\u5716"],[194636,1,"\u5606"],[194637,1,"\u5717"],[194638,1,"\u5651"],[194639,1,"\u5674"],[194640,1,"\u5207"],[194641,1,"\u58EE"],[194642,1,"\u57CE"],[194643,1,"\u57F4"],[194644,1,"\u580D"],[194645,1,"\u578B"],[194646,1,"\u5832"],[194647,1,"\u5831"],[194648,1,"\u58AC"],[194649,1,"\u{214E4}"],[194650,1,"\u58F2"],[194651,1,"\u58F7"],[194652,1,"\u5906"],[194653,1,"\u591A"],[194654,1,"\u5922"],[194655,1,"\u5962"],[194656,1,"\u{216A8}"],[194657,1,"\u{216EA}"],[194658,1,"\u59EC"],[194659,1,"\u5A1B"],[194660,1,"\u5A27"],[194661,1,"\u59D8"],[194662,1,"\u5A66"],[194663,1,"\u36EE"],[194664,3],[194665,1,"\u5B08"],[[194666,194667],1,"\u5B3E"],[194668,1,"\u{219C8}"],[194669,1,"\u5BC3"],[194670,1,"\u5BD8"],[194671,1,"\u5BE7"],[194672,1,"\u5BF3"],[194673,1,"\u{21B18}"],[194674,1,"\u5BFF"],[194675,1,"\u5C06"],[194676,3],[194677,1,"\u5C22"],[194678,1,"\u3781"],[194679,1,"\u5C60"],[194680,1,"\u5C6E"],[194681,1,"\u5CC0"],[194682,1,"\u5C8D"],[194683,1,"\u{21DE4}"],[194684,1,"\u5D43"],[194685,1,"\u{21DE6}"],[194686,1,"\u5D6E"],[194687,1,"\u5D6B"],[194688,1,"\u5D7C"],[194689,1,"\u5DE1"],[194690,1,"\u5DE2"],[194691,1,"\u382F"],[194692,1,"\u5DFD"],[194693,1,"\u5E28"],[194694,1,"\u5E3D"],[194695,1,"\u5E69"],[194696,1,"\u3862"],[194697,1,"\u{22183}"],[194698,1,"\u387C"],[194699,1,"\u5EB0"],[194700,1,"\u5EB3"],[194701,1,"\u5EB6"],[194702,1,"\u5ECA"],[194703,1,"\u{2A392}"],[194704,1,"\u5EFE"],[[194705,194706],1,"\u{22331}"],[194707,1,"\u8201"],[[194708,194709],1,"\u5F22"],[194710,1,"\u38C7"],[194711,1,"\u{232B8}"],[194712,1,"\u{261DA}"],[194713,1,"\u5F62"],[194714,1,"\u5F6B"],[194715,1,"\u38E3"],[194716,1,"\u5F9A"],[194717,1,"\u5FCD"],[194718,1,"\u5FD7"],[194719,1,"\u5FF9"],[194720,1,"\u6081"],[194721,1,"\u393A"],[194722,1,"\u391C"],[194723,1,"\u6094"],[194724,1,"\u{226D4}"],[194725,1,"\u60C7"],[194726,1,"\u6148"],[194727,1,"\u614C"],[194728,1,"\u614E"],[194729,1,"\u614C"],[194730,1,"\u617A"],[194731,1,"\u618E"],[194732,1,"\u61B2"],[194733,1,"\u61A4"],[194734,1,"\u61AF"],[194735,1,"\u61DE"],[194736,1,"\u61F2"],[194737,1,"\u61F6"],[194738,1,"\u6210"],[194739,1,"\u621B"],[194740,1,"\u625D"],[194741,1,"\u62B1"],[194742,1,"\u62D4"],[194743,1,"\u6350"],[194744,1,"\u{22B0C}"],[194745,1,"\u633D"],[194746,1,"\u62FC"],[194747,1,"\u6368"],[194748,1,"\u6383"],[194749,1,"\u63E4"],[194750,1,"\u{22BF1}"],[194751,1,"\u6422"],[194752,1,"\u63C5"],[194753,1,"\u63A9"],[194754,1,"\u3A2E"],[194755,1,"\u6469"],[194756,1,"\u647E"],[194757,1,"\u649D"],[194758,1,"\u6477"],[194759,1,"\u3A6C"],[194760,1,"\u654F"],[194761,1,"\u656C"],[194762,1,"\u{2300A}"],[194763,1,"\u65E3"],[194764,1,"\u66F8"],[194765,1,"\u6649"],[194766,1,"\u3B19"],[194767,1,"\u6691"],[194768,1,"\u3B08"],[194769,1,"\u3AE4"],[194770,1,"\u5192"],[194771,1,"\u5195"],[194772,1,"\u6700"],[194773,1,"\u669C"],[194774,1,"\u80AD"],[194775,1,"\u43D9"],[194776,1,"\u6717"],[194777,1,"\u671B"],[194778,1,"\u6721"],[194779,1,"\u675E"],[194780,1,"\u6753"],[194781,1,"\u{233C3}"],[194782,1,"\u3B49"],[194783,1,"\u67FA"],[194784,1,"\u6785"],[194785,1,"\u6852"],[194786,1,"\u6885"],[194787,1,"\u{2346D}"],[194788,1,"\u688E"],[194789,1,"\u681F"],[194790,1,"\u6914"],[194791,1,"\u3B9D"],[194792,1,"\u6942"],[194793,1,"\u69A3"],[194794,1,"\u69EA"],[194795,1,"\u6AA8"],[194796,1,"\u{236A3}"],[194797,1,"\u6ADB"],[194798,1,"\u3C18"],[194799,1,"\u6B21"],[194800,1,"\u{238A7}"],[194801,1,"\u6B54"],[194802,1,"\u3C4E"],[194803,1,"\u6B72"],[194804,1,"\u6B9F"],[194805,1,"\u6BBA"],[194806,1,"\u6BBB"],[194807,1,"\u{23A8D}"],[194808,1,"\u{21D0B}"],[194809,1,"\u{23AFA}"],[194810,1,"\u6C4E"],[194811,1,"\u{23CBC}"],[194812,1,"\u6CBF"],[194813,1,"\u6CCD"],[194814,1,"\u6C67"],[194815,1,"\u6D16"],[194816,1,"\u6D3E"],[194817,1,"\u6D77"],[194818,1,"\u6D41"],[194819,1,"\u6D69"],[194820,1,"\u6D78"],[194821,1,"\u6D85"],[194822,1,"\u{23D1E}"],[194823,1,"\u6D34"],[194824,1,"\u6E2F"],[194825,1,"\u6E6E"],[194826,1,"\u3D33"],[194827,1,"\u6ECB"],[194828,1,"\u6EC7"],[194829,1,"\u{23ED1}"],[194830,1,"\u6DF9"],[194831,1,"\u6F6E"],[194832,1,"\u{23F5E}"],[194833,1,"\u{23F8E}"],[194834,1,"\u6FC6"],[194835,1,"\u7039"],[194836,1,"\u701E"],[194837,1,"\u701B"],[194838,1,"\u3D96"],[194839,1,"\u704A"],[194840,1,"\u707D"],[194841,1,"\u7077"],[194842,1,"\u70AD"],[194843,1,"\u{20525}"],[194844,1,"\u7145"],[194845,1,"\u{24263}"],[194846,1,"\u719C"],[194847,3],[194848,1,"\u7228"],[194849,1,"\u7235"],[194850,1,"\u7250"],[194851,1,"\u{24608}"],[194852,1,"\u7280"],[194853,1,"\u7295"],[194854,1,"\u{24735}"],[194855,1,"\u{24814}"],[194856,1,"\u737A"],[194857,1,"\u738B"],[194858,1,"\u3EAC"],[194859,1,"\u73A5"],[[194860,194861],1,"\u3EB8"],[194862,1,"\u7447"],[194863,1,"\u745C"],[194864,1,"\u7471"],[194865,1,"\u7485"],[194866,1,"\u74CA"],[194867,1,"\u3F1B"],[194868,1,"\u7524"],[194869,1,"\u{24C36}"],[194870,1,"\u753E"],[194871,1,"\u{24C92}"],[194872,1,"\u7570"],[194873,1,"\u{2219F}"],[194874,1,"\u7610"],[194875,1,"\u{24FA1}"],[194876,1,"\u{24FB8}"],[194877,1,"\u{25044}"],[194878,1,"\u3FFC"],[194879,1,"\u4008"],[194880,1,"\u76F4"],[194881,1,"\u{250F3}"],[194882,1,"\u{250F2}"],[194883,1,"\u{25119}"],[194884,1,"\u{25133}"],[194885,1,"\u771E"],[[194886,194887],1,"\u771F"],[194888,1,"\u774A"],[194889,1,"\u4039"],[194890,1,"\u778B"],[194891,1,"\u4046"],[194892,1,"\u4096"],[194893,1,"\u{2541D}"],[194894,1,"\u784E"],[194895,1,"\u788C"],[194896,1,"\u78CC"],[194897,1,"\u40E3"],[194898,1,"\u{25626}"],[194899,1,"\u7956"],[194900,1,"\u{2569A}"],[194901,1,"\u{256C5}"],[194902,1,"\u798F"],[194903,1,"\u79EB"],[194904,1,"\u412F"],[194905,1,"\u7A40"],[194906,1,"\u7A4A"],[194907,1,"\u7A4F"],[194908,1,"\u{2597C}"],[[194909,194910],1,"\u{25AA7}"],[194911,3],[194912,1,"\u4202"],[194913,1,"\u{25BAB}"],[194914,1,"\u7BC6"],[194915,1,"\u7BC9"],[194916,1,"\u4227"],[194917,1,"\u{25C80}"],[194918,1,"\u7CD2"],[194919,1,"\u42A0"],[194920,1,"\u7CE8"],[194921,1,"\u7CE3"],[194922,1,"\u7D00"],[194923,1,"\u{25F86}"],[194924,1,"\u7D63"],[194925,1,"\u4301"],[194926,1,"\u7DC7"],[194927,1,"\u7E02"],[194928,1,"\u7E45"],[194929,1,"\u4334"],[194930,1,"\u{26228}"],[194931,1,"\u{26247}"],[194932,1,"\u4359"],[194933,1,"\u{262D9}"],[194934,1,"\u7F7A"],[194935,1,"\u{2633E}"],[194936,1,"\u7F95"],[194937,1,"\u7FFA"],[194938,1,"\u8005"],[194939,1,"\u{264DA}"],[194940,1,"\u{26523}"],[194941,1,"\u8060"],[194942,1,"\u{265A8}"],[194943,1,"\u8070"],[194944,1,"\u{2335F}"],[194945,1,"\u43D5"],[194946,1,"\u80B2"],[194947,1,"\u8103"],[194948,1,"\u440B"],[194949,1,"\u813E"],[194950,1,"\u5AB5"],[194951,1,"\u{267A7}"],[194952,1,"\u{267B5}"],[194953,1,"\u{23393}"],[194954,1,"\u{2339C}"],[194955,1,"\u8201"],[194956,1,"\u8204"],[194957,1,"\u8F9E"],[194958,1,"\u446B"],[194959,1,"\u8291"],[194960,1,"\u828B"],[194961,1,"\u829D"],[194962,1,"\u52B3"],[194963,1,"\u82B1"],[194964,1,"\u82B3"],[194965,1,"\u82BD"],[194966,1,"\u82E6"],[194967,1,"\u{26B3C}"],[194968,1,"\u82E5"],[194969,1,"\u831D"],[194970,1,"\u8363"],[194971,1,"\u83AD"],[194972,1,"\u8323"],[194973,1,"\u83BD"],[194974,1,"\u83E7"],[194975,1,"\u8457"],[194976,1,"\u8353"],[194977,1,"\u83CA"],[194978,1,"\u83CC"],[194979,1,"\u83DC"],[194980,1,"\u{26C36}"],[194981,1,"\u{26D6B}"],[194982,1,"\u{26CD5}"],[194983,1,"\u452B"],[194984,1,"\u84F1"],[194985,1,"\u84F3"],[194986,1,"\u8516"],[194987,1,"\u{273CA}"],[194988,1,"\u8564"],[194989,1,"\u{26F2C}"],[194990,1,"\u455D"],[194991,1,"\u4561"],[194992,1,"\u{26FB1}"],[194993,1,"\u{270D2}"],[194994,1,"\u456B"],[194995,1,"\u8650"],[194996,1,"\u865C"],[194997,1,"\u8667"],[194998,1,"\u8669"],[194999,1,"\u86A9"],[195e3,1,"\u8688"],[195001,1,"\u870E"],[195002,1,"\u86E2"],[195003,1,"\u8779"],[195004,1,"\u8728"],[195005,1,"\u876B"],[195006,1,"\u8786"],[195007,3],[195008,1,"\u87E1"],[195009,1,"\u8801"],[195010,1,"\u45F9"],[195011,1,"\u8860"],[195012,1,"\u8863"],[195013,1,"\u{27667}"],[195014,1,"\u88D7"],[195015,1,"\u88DE"],[195016,1,"\u4635"],[195017,1,"\u88FA"],[195018,1,"\u34BB"],[195019,1,"\u{278AE}"],[195020,1,"\u{27966}"],[195021,1,"\u46BE"],[195022,1,"\u46C7"],[195023,1,"\u8AA0"],[195024,1,"\u8AED"],[195025,1,"\u8B8A"],[195026,1,"\u8C55"],[195027,1,"\u{27CA8}"],[195028,1,"\u8CAB"],[195029,1,"\u8CC1"],[195030,1,"\u8D1B"],[195031,1,"\u8D77"],[195032,1,"\u{27F2F}"],[195033,1,"\u{20804}"],[195034,1,"\u8DCB"],[195035,1,"\u8DBC"],[195036,1,"\u8DF0"],[195037,1,"\u{208DE}"],[195038,1,"\u8ED4"],[195039,1,"\u8F38"],[195040,1,"\u{285D2}"],[195041,1,"\u{285ED}"],[195042,1,"\u9094"],[195043,1,"\u90F1"],[195044,1,"\u9111"],[195045,1,"\u{2872E}"],[195046,1,"\u911B"],[195047,1,"\u9238"],[195048,1,"\u92D7"],[195049,1,"\u92D8"],[195050,1,"\u927C"],[195051,1,"\u93F9"],[195052,1,"\u9415"],[195053,1,"\u{28BFA}"],[195054,1,"\u958B"],[195055,1,"\u4995"],[195056,1,"\u95B7"],[195057,1,"\u{28D77}"],[195058,1,"\u49E6"],[195059,1,"\u96C3"],[195060,1,"\u5DB2"],[195061,1,"\u9723"],[195062,1,"\u{29145}"],[195063,1,"\u{2921A}"],[195064,1,"\u4A6E"],[195065,1,"\u4A76"],[195066,1,"\u97E0"],[195067,1,"\u{2940A}"],[195068,1,"\u4AB2"],[195069,1,"\u{29496}"],[[195070,195071],1,"\u980B"],[195072,1,"\u9829"],[195073,1,"\u{295B6}"],[195074,1,"\u98E2"],[195075,1,"\u4B33"],[195076,1,"\u9929"],[195077,1,"\u99A7"],[195078,1,"\u99C2"],[195079,1,"\u99FE"],[195080,1,"\u4BCE"],[195081,1,"\u{29B30}"],[195082,1,"\u9B12"],[195083,1,"\u9C40"],[195084,1,"\u9CFD"],[195085,1,"\u4CCE"],[195086,1,"\u4CED"],[195087,1,"\u9D67"],[195088,1,"\u{2A0CE}"],[195089,1,"\u4CF8"],[195090,1,"\u{2A105}"],[195091,1,"\u{2A20E}"],[195092,1,"\u{2A291}"],[195093,1,"\u9EBB"],[195094,1,"\u4D56"],[195095,1,"\u9EF9"],[195096,1,"\u9EFE"],[195097,1,"\u9F05"],[195098,1,"\u9F0F"],[195099,1,"\u9F16"],[195100,1,"\u9F3B"],[195101,1,"\u{2A600}"],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918e3,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]});var rC=y((Vae,tC)=>{"use strict";tC.exports.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7}});var uC=y((Wae,oC)=>{"use strict";var Lg=require("punycode"),In=ZO(),nC=eC(),{STATUS_MAPPING:Mr}=rC();function UV(t){return/[^\x00-\x7F]/u.test(t)}function sC(t,{useSTD3ASCIIRules:e}){let r=0,n=nC.length-1;for(;r<=n;){let s=Math.floor((r+n)/2),i=nC[s],o=Array.isArray(i[0])?i[0][0]:i[0],u=Array.isArray(i[0])?i[0][1]:i[0];if(o<=t&&u>=t)return e&&(i[1]===Mr.disallowed_STD3_valid||i[1]===Mr.disallowed_STD3_mapped)?[Mr.disallowed,...i.slice(2)]:i[1]===Mr.disallowed_STD3_valid?[Mr.valid,...i.slice(2)]:i[1]===Mr.disallowed_STD3_mapped?[Mr.mapped,...i.slice(2)]:i.slice(1);o>t?n=s-1:r=s+1}return null}function VV(t,{useSTD3ASCIIRules:e,processingOption:r}){let n=!1,s="";for(let i of t){let[o,u]=sC(i.codePointAt(0),{useSTD3ASCIIRules:e});switch(o){case Mr.disallowed:n=!0,s+=i;break;case Mr.ignored:break;case Mr.mapped:s+=u;break;case Mr.deviation:r==="transitional"?s+=u:s+=i;break;case Mr.valid:s+=i;break}}return{string:s,error:n}}function WV(t,{checkHyphens:e,checkBidi:r,checkJoiners:n,processingOption:s,useSTD3ASCIIRules:i}){if(t.normalize("NFC")!==t)return!1;let o=Array.from(t);if(e&&(o[2]==="-"&&o[3]==="-"||t.startsWith("-")||t.endsWith("-"))||t.includes(".")||o.length>0&&In.combiningMarks.test(o[0]))return!1;for(let u of o){let[a]=sC(u.codePointAt(0),{useSTD3ASCIIRules:i});if(s==="transitional"&&a!==Mr.valid||s==="nontransitional"&&a!==Mr.valid&&a!==Mr.deviation)return!1}if(n){let u=0;for(let[a,c]of o.entries())if(c==="\u200C"||c==="\u200D"){if(a>0){if(In.combiningClassVirama.test(o[a-1]))continue;if(c==="\u200C"){let l=o.indexOf("\u200C",a+1),f=l<0?o.slice(u):o.slice(u,l);if(In.validZWNJ.test(f.join(""))){u=a+1;continue}}}return!1}}if(r){let u;if(In.bidiS1LTR.test(o[0]))u=!1;else if(In.bidiS1RTL.test(o[0]))u=!0;else return!1;if(u){if(!In.bidiS2.test(t)||!In.bidiS3.test(t)||In.bidiS4EN.test(t)&&In.bidiS4AN.test(t))return!1}else if(!In.bidiS5.test(t)||!In.bidiS6.test(t))return!1}return!0}function zV(t){let e=t.map(r=>{if(r.startsWith("xn--"))try{return Lg.decode(r.substring(4))}catch{return""}return r}).join(".");return In.bidiDomain.test(e)}function iC(t,e){let{processingOption:r}=e,{string:n,error:s}=VV(t,e);n=n.normalize("NFC");let i=n.split("."),o=zV(i);for(let[u,a]of i.entries()){let c=a,l=r;if(c.startsWith("xn--")){try{c=Lg.decode(c.substring(4)),i[u]=c}catch{s=!0;continue}l="nontransitional"}if(s)continue;WV(c,{...e,processingOption:l,checkBidi:e.checkBidi&&o})||(s=!0)}return{string:i.join("."),error:s}}function HV(t,{checkHyphens:e=!1,checkBidi:r=!1,checkJoiners:n=!1,useSTD3ASCIIRules:s=!1,processingOption:i="nontransitional",verifyDNSLength:o=!1}={}){if(i!=="transitional"&&i!=="nontransitional")throw new RangeError("processingOption must be either transitional or nontransitional");let u=iC(t,{processingOption:i,checkHyphens:e,checkBidi:r,checkJoiners:n,useSTD3ASCIIRules:s}),a=u.string.split(".");if(a=a.map(c=>{if(UV(c))try{return`xn--${Lg.encode(c)}`}catch{u.error=!0}return c}),o){let c=a.join(".").length;(c>253||c===0)&&(u.error=!0);for(let l=0;l<a.length;++l)if(a[l].length>63||a[l].length===0){u.error=!0;break}}return u.error?null:a.join(".")}function GV(t,{checkHyphens:e=!1,checkBidi:r=!1,checkJoiners:n=!1,useSTD3ASCIIRules:s=!1,processingOption:i="nontransitional"}={}){let o=iC(t,{processingOption:i,checkHyphens:e,checkBidi:r,checkJoiners:n,useSTD3ASCIIRules:s});return{domain:o.string,error:o.error}}oC.exports={toASCII:HV,toUnicode:GV}});var Ug=y((zae,cC)=>{"use strict";function jg(t){return t>=48&&t<=57}function aC(t){return t>=65&&t<=90||t>=97&&t<=122}function KV(t){return aC(t)||jg(t)}function YV(t){return jg(t)||t>=65&&t<=70||t>=97&&t<=102}cC.exports={isASCIIDigit:jg,isASCIIAlpha:aC,isASCIIAlphanumeric:KV,isASCIIHex:YV}});var dd=y((Hae,lC)=>{"use strict";var QV=new TextEncoder,JV=new TextDecoder("utf-8",{ignoreBOM:!0});function XV(t){return QV.encode(t)}function ZV(t){return JV.decode(t)}lC.exports={utf8Encode:XV,utf8DecodeWithoutBOM:ZV}});var pd=y((Gae,gC)=>{"use strict";var{isASCIIHex:fC}=Ug(),{utf8Encode:hC}=dd();function Be(t){return t.codePointAt(0)}function eW(t){let e=t.toString(16).toUpperCase();return e.length===1&&(e=`0${e}`),`%${e}`}function dC(t){let e=new Uint8Array(t.byteLength),r=0;for(let n=0;n<t.byteLength;++n){let s=t[n];if(s!==37)e[r++]=s;else if(s===37&&(!fC(t[n+1])||!fC(t[n+2])))e[r++]=s;else{let i=parseInt(String.fromCodePoint(t[n+1],t[n+2]),16);e[r++]=i,n+=2}}return e.slice(0,r)}function tW(t){let e=hC(t);return dC(e)}function Vg(t){return t<=31||t>126}var rW=new Set([Be(" "),Be('"'),Be("<"),Be(">"),Be("`")]);function nW(t){return Vg(t)||rW.has(t)}var sW=new Set([Be(" "),Be('"'),Be("#"),Be("<"),Be(">")]);function Wg(t){return Vg(t)||sW.has(t)}function iW(t){return Wg(t)||t===Be("'")}var oW=new Set([Be("?"),Be("`"),Be("{"),Be("}")]);function pC(t){return Wg(t)||oW.has(t)}var uW=new Set([Be("/"),Be(":"),Be(";"),Be("="),Be("@"),Be("["),Be("\\"),Be("]"),Be("^"),Be("|")]);function mC(t){return pC(t)||uW.has(t)}var aW=new Set([Be("$"),Be("%"),Be("&"),Be("+"),Be(",")]);function cW(t){return mC(t)||aW.has(t)}var lW=new Set([Be("!"),Be("'"),Be("("),Be(")"),Be("~")]);function fW(t){return cW(t)||lW.has(t)}function yC(t,e){let r=hC(t),n="";for(let s of r)e(s)?n+=eW(s):n+=String.fromCharCode(s);return n}function hW(t,e){return yC(String.fromCodePoint(t),e)}function dW(t,e,r=!1){let n="";for(let s of t)r&&s===" "?n+="+":n+=yC(s,e);return n}gC.exports={isC0ControlPercentEncode:Vg,isFragmentPercentEncode:nW,isQueryPercentEncode:Wg,isSpecialQueryPercentEncode:iW,isPathPercentEncode:pC,isUserinfoPercentEncode:mC,isURLEncodedPercentEncode:fW,percentDecodeString:tW,percentDecodeBytes:dC,utf8PercentEncodeString:dW,utf8PercentEncodeCodePoint:hW}});var Qg=y((Kae,Fr)=>{"use strict";var pW=uC(),Zt=Ug(),{utf8DecodeWithoutBOM:mW}=dd(),{percentDecodeString:yW,utf8PercentEncodeCodePoint:yd,utf8PercentEncodeString:gd,isC0ControlPercentEncode:OC,isFragmentPercentEncode:gW,isQueryPercentEncode:EW,isSpecialQueryPercentEncode:_W,isPathPercentEncode:AW,isUserinfoPercentEncode:Gg}=pd();function H(t){return t.codePointAt(0)}var CC={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=Symbol("failure");function EC(t){return[...t].length}function _C(t,e){let r=t[e];return isNaN(r)?void 0:String.fromCodePoint(r)}function AC(t){return t==="."||t.toLowerCase()==="%2e"}function OW(t){return t=t.toLowerCase(),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"}function CW(t,e){return Zt.isASCIIAlpha(t)&&(e===H(":")||e===H("|"))}function SC(t){return t.length===2&&Zt.isASCIIAlpha(t.codePointAt(0))&&(t[1]===":"||t[1]==="|")}function SW(t){return t.length===2&&Zt.isASCIIAlpha(t.codePointAt(0))&&t[1]===":"}function wW(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1}function bW(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1}function md(t){return CC[t]!==void 0}function Xt(t){return md(t.scheme)}function zg(t){return!md(t.scheme)}function wC(t){return CC[t]}function bC(t){if(t==="")return de;let e=10;if(t.length>=2&&t.charAt(0)==="0"&&t.charAt(1).toLowerCase()==="x"?(t=t.substring(2),e=16):t.length>=2&&t.charAt(0)==="0"&&(t=t.substring(1),e=8),t==="")return 0;let r=/[^0-7]/u;return e===10&&(r=/[^0-9]/u),e===16&&(r=/[^0-9A-Fa-f]/u),r.test(t)?de:parseInt(t,e)}function DW(t){let e=t.split(".");if(e[e.length-1]===""&&e.length>1&&e.pop(),e.length>4)return de;let r=[];for(let i of e){let o=bC(i);if(o===de)return de;r.push(o)}for(let i=0;i<r.length-1;++i)if(r[i]>255)return de;if(r[r.length-1]>=256**(5-r.length))return de;let n=r.pop(),s=0;for(let i of r)n+=i*256**(3-s),++s;return n}function BW(t){let e="",r=t;for(let n=1;n<=4;++n)e=String(r%256)+e,n!==4&&(e=`.${e}`),r=Math.floor(r/256);return e}function TW(t){let e=[0,0,0,0,0,0,0,0],r=0,n=null,s=0;if(t=Array.from(t,i=>i.codePointAt(0)),t[s]===H(":")){if(t[s+1]!==H(":"))return de;s+=2,++r,n=r}for(;s<t.length;){if(r===8)return de;if(t[s]===H(":")){if(n!==null)return de;++s,++r,n=r;continue}let i=0,o=0;for(;o<4&&Zt.isASCIIHex(t[s]);)i=i*16+parseInt(_C(t,s),16),++s,++o;if(t[s]===H(".")){if(o===0||(s-=o,r>6))return de;let u=0;for(;t[s]!==void 0;){let a=null;if(u>0)if(t[s]===H(".")&&u<4)++s;else return de;if(!Zt.isASCIIDigit(t[s]))return de;for(;Zt.isASCIIDigit(t[s]);){let c=parseInt(_C(t,s));if(a===null)a=c;else{if(a===0)return de;a=a*10+c}if(a>255)return de;++s}e[r]=e[r]*256+a,++u,(u===2||u===4)&&++r}if(u!==4)return de;break}else if(t[s]===H(":")){if(++s,t[s]===void 0)return de}else if(t[s]!==void 0)return de;e[r]=i,++r}if(n!==null){let i=r-n;for(r=7;r!==0&&i>0;){let o=e[n+i-1];e[n+i-1]=e[r],e[r]=o,--r,--i}}else if(n===null&&r!==8)return de;return e}function PW(t){let e="",r=IW(t),n=!1;for(let s=0;s<=7;++s)if(!(n&&t[s]===0)){if(n&&(n=!1),r===s){e+=s===0?"::":":",n=!0;continue}e+=t[s].toString(16),s!==7&&(e+=":")}return e}function Hg(t,e=!1){if(t[0]==="[")return t[t.length-1]!=="]"?de:TW(t.substring(1,t.length-1));if(e)return FW(t);let r=mW(yW(t)),n=$W(r);return n===de||wW(n)?de:MW(n)?DW(n):n}function MW(t){let e=t.split(".");if(e[e.length-1]===""){if(e.length===1)return!1;e.pop()}let r=e[e.length-1];return!!(bC(r)!==de||/^[0-9]+$/u.test(r))}function FW(t){return bW(t)?de:gd(t,OC)}function IW(t){let e=null,r=1,n=null,s=0;for(let i=0;i<t.length;++i)t[i]!==0?(s>r&&(e=n,r=s),n=null,s=0):(n===null&&(n=i),++s);return s>r?n:e}function Kg(t){return typeof t=="number"?BW(t):t instanceof Array?`[${PW(t)}]`:t}function $W(t,e=!1){let r=pW.toASCII(t,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:e,verifyDNSLength:e});return r===null||r===""?de:r}function NW(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/ug,"")}function RW(t){return t.replace(/\u0009|\u000A|\u000D/ug,"")}function DC(t){let{path:e}=t;e.length!==0&&(t.scheme==="file"&&e.length===1&&vW(e[0])||e.pop())}function BC(t){return t.username!==""||t.password!==""}function xW(t){return t.host===null||t.host===""||Ca(t)||t.scheme==="file"}function Ca(t){return typeof t.path=="string"}function vW(t){return/^[A-Za-z]:$/u.test(t)}function yt(t,e,r,n,s){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=r||"utf-8",this.stateOverride=s,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};let o=NW(this.input);o!==this.input&&(this.parseError=!0),this.input=o}let i=RW(this.input);for(i!==this.input&&(this.parseError=!0),this.input=i,this.state=s||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,o=>o.codePointAt(0));this.pointer<=this.input.length;++this.pointer){let o=this.input[this.pointer],u=isNaN(o)?void 0:String.fromCodePoint(o),a=this[`parse ${this.state}`](o,u);if(a){if(a===de){this.failure=!0;break}}else break}}yt.prototype["parse scheme start"]=function(e,r){if(Zt.isASCIIAlpha(e))this.buffer+=r.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,de;return!0};yt.prototype["parse scheme"]=function(e,r){if(Zt.isASCIIAlphanumeric(e)||e===H("+")||e===H("-")||e===H("."))this.buffer+=r.toLowerCase();else if(e===H(":")){if(this.stateOverride&&(Xt(this.url)&&!md(this.buffer)||!Xt(this.url)&&md(this.buffer)||(BC(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&this.url.host===""))return!1;if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===wC(this.url.scheme)&&(this.url.port=null),!1;this.buffer="",this.url.scheme==="file"?((this.input[this.pointer+1]!==H("/")||this.input[this.pointer+2]!==H("/"))&&(this.parseError=!0),this.state="file"):Xt(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":Xt(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===H("/")?(this.state="path or authority",++this.pointer):(this.url.path="",this.state="opaque path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,de;return!0};yt.prototype["parse no scheme"]=function(e){return this.base===null||Ca(this.base)&&e!==H("#")?de:(Ca(this.base)&&e===H("#")?(this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)};yt.prototype["parse special relative or authority"]=function(e){return e===H("/")&&this.input[this.pointer+1]===H("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0};yt.prototype["parse path or authority"]=function(e){return e===H("/")?this.state="authority":(this.state="path",--this.pointer),!0};yt.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,e===H("/")?this.state="relative slash":Xt(this.url)&&e===H("\\")?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,e===H("?")?(this.url.query="",this.state="query"):e===H("#")?(this.url.fragment="",this.state="fragment"):isNaN(e)||(this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer)),!0};yt.prototype["parse relative slash"]=function(e){return Xt(this.url)&&(e===H("/")||e===H("\\"))?(e===H("\\")&&(this.parseError=!0),this.state="special authority ignore slashes"):e===H("/")?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0};yt.prototype["parse special authority slashes"]=function(e){return e===H("/")&&this.input[this.pointer+1]===H("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0};yt.prototype["parse special authority ignore slashes"]=function(e){return e!==H("/")&&e!==H("\\")?(this.state="authority",--this.pointer):this.parseError=!0,!0};yt.prototype["parse authority"]=function(e,r){if(e===H("@")){this.parseError=!0,this.atFlag&&(this.buffer=`%40${this.buffer}`),this.atFlag=!0;let n=EC(this.buffer);for(let s=0;s<n;++s){let i=this.buffer.codePointAt(s);if(i===H(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let o=yd(i,Gg);this.passwordTokenSeenFlag?this.url.password+=o:this.url.username+=o}this.buffer=""}else if(isNaN(e)||e===H("/")||e===H("?")||e===H("#")||Xt(this.url)&&e===H("\\")){if(this.atFlag&&this.buffer==="")return this.parseError=!0,de;this.pointer-=EC(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=r;return!0};yt.prototype["parse hostname"]=yt.prototype["parse host"]=function(e,r){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(e===H(":")&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,de;if(this.stateOverride==="hostname")return!1;let n=Hg(this.buffer,zg(this.url));if(n===de)return de;this.url.host=n,this.buffer="",this.state="port"}else if(isNaN(e)||e===H("/")||e===H("?")||e===H("#")||Xt(this.url)&&e===H("\\")){if(--this.pointer,Xt(this.url)&&this.buffer==="")return this.parseError=!0,de;if(this.stateOverride&&this.buffer===""&&(BC(this.url)||this.url.port!==null))return this.parseError=!0,!1;let n=Hg(this.buffer,zg(this.url));if(n===de)return de;if(this.url.host=n,this.buffer="",this.state="path start",this.stateOverride)return!1}else e===H("[")?this.arrFlag=!0:e===H("]")&&(this.arrFlag=!1),this.buffer+=r;return!0};yt.prototype["parse port"]=function(e,r){if(Zt.isASCIIDigit(e))this.buffer+=r;else if(isNaN(e)||e===H("/")||e===H("?")||e===H("#")||Xt(this.url)&&e===H("\\")||this.stateOverride){if(this.buffer!==""){let n=parseInt(this.buffer);if(n>2**16-1)return this.parseError=!0,de;this.url.port=n===wC(this.url.scheme)?null:n,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,de;return!0};var kW=new Set([H("/"),H("\\"),H("?"),H("#")]);function TC(t,e){let r=t.length-e;return r>=2&&CW(t[e],t[e+1])&&(r===2||kW.has(t[e+2]))}yt.prototype["parse file"]=function(e){return this.url.scheme="file",this.url.host="",e===H("/")||e===H("\\")?(e===H("\\")&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,e===H("?")?(this.url.query="",this.state="query"):e===H("#")?(this.url.fragment="",this.state="fragment"):isNaN(e)||(this.url.query=null,TC(this.input,this.pointer)?(this.parseError=!0,this.url.path=[]):DC(this.url),this.state="path",--this.pointer)):(this.state="path",--this.pointer),!0};yt.prototype["parse file slash"]=function(e){return e===H("/")||e===H("\\")?(e===H("\\")&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(!TC(this.input,this.pointer)&&SW(this.base.path[0])&&this.url.path.push(this.base.path[0]),this.url.host=this.base.host),this.state="path",--this.pointer),!0};yt.prototype["parse file host"]=function(e,r){if(isNaN(e)||e===H("/")||e===H("\\")||e===H("?")||e===H("#"))if(--this.pointer,!this.stateOverride&&SC(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let n=Hg(this.buffer,zg(this.url));if(n===de)return de;if(n==="localhost"&&(n=""),this.url.host=n,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=r;return!0};yt.prototype["parse path start"]=function(e){return Xt(this.url)?(e===H("\\")&&(this.parseError=!0),this.state="path",e!==H("/")&&e!==H("\\")&&--this.pointer):!this.stateOverride&&e===H("?")?(this.url.query="",this.state="query"):!this.stateOverride&&e===H("#")?(this.url.fragment="",this.state="fragment"):e!==void 0?(this.state="path",e!==H("/")&&--this.pointer):this.stateOverride&&this.url.host===null&&this.url.path.push(""),!0};yt.prototype["parse path"]=function(e){return isNaN(e)||e===H("/")||Xt(this.url)&&e===H("\\")||!this.stateOverride&&(e===H("?")||e===H("#"))?(Xt(this.url)&&e===H("\\")&&(this.parseError=!0),OW(this.buffer)?(DC(this.url),e!==H("/")&&!(Xt(this.url)&&e===H("\\"))&&this.url.path.push("")):AC(this.buffer)&&e!==H("/")&&!(Xt(this.url)&&e===H("\\"))?this.url.path.push(""):AC(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&SC(this.buffer)&&(this.buffer=`${this.buffer[0]}:`),this.url.path.push(this.buffer)),this.buffer="",e===H("?")&&(this.url.query="",this.state="query"),e===H("#")&&(this.url.fragment="",this.state="fragment")):(e===H("%")&&(!Zt.isASCIIHex(this.input[this.pointer+1])||!Zt.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=yd(e,AW)),!0};yt.prototype["parse opaque path"]=function(e){return e===H("?")?(this.url.query="",this.state="query"):e===H("#")?(this.url.fragment="",this.state="fragment"):(!isNaN(e)&&e!==H("%")&&(this.parseError=!0),e===H("%")&&(!Zt.isASCIIHex(this.input[this.pointer+1])||!Zt.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(e)||(this.url.path+=yd(e,OC))),!0};yt.prototype["parse query"]=function(e,r){if((!Xt(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8"),!this.stateOverride&&e===H("#")||isNaN(e)){let n=Xt(this.url)?_W:EW;this.url.query+=gd(this.buffer,n),this.buffer="",e===H("#")&&(this.url.fragment="",this.state="fragment")}else isNaN(e)||(e===H("%")&&(!Zt.isASCIIHex(this.input[this.pointer+1])||!Zt.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=r);return!0};yt.prototype["parse fragment"]=function(e){return isNaN(e)||(e===H("%")&&(!Zt.isASCIIHex(this.input[this.pointer+1])||!Zt.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=yd(e,gW)),!0};function qW(t,e){let r=`${t.scheme}:`;return t.host!==null&&(r+="//",(t.username!==""||t.password!=="")&&(r+=t.username,t.password!==""&&(r+=`:${t.password}`),r+="@"),r+=Kg(t.host),t.port!==null&&(r+=`:${t.port}`)),t.host===null&&!Ca(t)&&t.path.length>1&&t.path[0]===""&&(r+="/."),r+=Yg(t),t.query!==null&&(r+=`?${t.query}`),!e&&t.fragment!==null&&(r+=`#${t.fragment}`),r}function LW(t){let e=`${t.scheme}://`;return e+=Kg(t.host),t.port!==null&&(e+=`:${t.port}`),e}function Yg(t){if(Ca(t))return t.path;let e="";for(let r of t.path)e+=`/${r}`;return e}Fr.exports.serializeURL=qW;Fr.exports.serializePath=Yg;Fr.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return Fr.exports.serializeURLOrigin(Fr.exports.parseURL(Yg(t)))}catch{return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return LW({scheme:t.scheme,host:t.host,port:t.port});case"file":return"null";default:return"null"}};Fr.exports.basicURLParse=function(t,e){e===void 0&&(e={});let r=new yt(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return r.failure?null:r.url};Fr.exports.setTheUsername=function(t,e){t.username=gd(e,Gg)};Fr.exports.setThePassword=function(t,e){t.password=gd(e,Gg)};Fr.exports.serializeHost=Kg;Fr.exports.cannotHaveAUsernamePasswordPort=xW;Fr.exports.hasAnOpaquePath=Ca;Fr.exports.serializeInteger=function(t){return String(t)};Fr.exports.parseURL=function(t,e){return e===void 0&&(e={}),Fr.exports.basicURLParse(t,{baseURL:e.baseURL,encodingOverride:e.encodingOverride})}});var Jg=y((Yae,RC)=>{"use strict";var{utf8Encode:jW,utf8DecodeWithoutBOM:PC}=dd(),{percentDecodeBytes:MC,utf8PercentEncodeString:FC,isURLEncodedPercentEncode:IC}=pd();function $C(t){return t.codePointAt(0)}function UW(t){let e=zW(t,$C("&")),r=[];for(let n of e){if(n.length===0)continue;let s,i,o=n.indexOf($C("="));o>=0?(s=n.slice(0,o),i=n.slice(o+1)):(s=n,i=new Uint8Array(0)),s=NC(s,43,32),i=NC(i,43,32);let u=PC(MC(s)),a=PC(MC(i));r.push([u,a])}return r}function VW(t){return UW(jW(t))}function WW(t,e=void 0){let r="utf-8";e!==void 0&&(r=e);let n="";for(let[s,i]of t.entries()){let o=FC(i[0],IC,!0),u=i[1];i.length>2&&i[2]!==void 0&&(i[2]==="hidden"&&o==="_charset_"?u=r:i[2]==="file"&&(u=u.name)),u=FC(u,IC,!0),s!==0&&(n+="&"),n+=`${o}=${u}`}return n}function zW(t,e){let r=[],n=0,s=t.indexOf(e);for(;s>=0;)r.push(t.slice(n,s)),n=s+1,s=t.indexOf(e,n);return n!==t.length&&r.push(t.slice(n)),r}function NC(t,e,r){let n=t.indexOf(e);for(;n>=0;)t[n]=r,n=t.indexOf(e,n+1);return t}RC.exports={parseUrlencodedString:VW,serializeUrlencoded:WW}});var kC=y(vC=>{"use strict";var xC=ld(),Ed=hd();vC.convert=(t,e,{context:r="The provided value"}={})=>{if(typeof e!="function")throw new t.TypeError(r+" is not a function");function n(...s){let i=Ed.tryWrapperForImpl(this),o;for(let u=0;u<s.length;u++)s[u]=Ed.tryWrapperForImpl(s[u]);return o=Reflect.apply(e,i,s),o=xC.any(o,{context:r,globals:t}),o}return n.construct=(...s)=>{for(let o=0;o<s.length;o++)s[o]=Ed.tryWrapperForImpl(s[o]);let i=Reflect.construct(e,s);return i=xC.any(i,{context:r,globals:t}),i},n[Ed.wrapperSymbol]=e,n.objectReference=e,n}});var LC=y(qC=>{"use strict";var Xg=Jg();qC.implementation=class{constructor(e,r,{doNotStripQMark:n=!1}){let s=r[0];if(this._list=[],this._url=null,!n&&typeof s=="string"&&s[0]==="?"&&(s=s.slice(1)),Array.isArray(s))for(let i of s){if(i.length!==2)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([i[0],i[1]])}else if(typeof s=="object"&&Object.getPrototypeOf(s)===null)for(let i of Object.keys(s)){let o=s[i];this._list.push([i,o])}else this._list=Xg.parseUrlencodedString(s)}_updateSteps(){if(this._url!==null){let e=Xg.serializeUrlencoded(this._list);e===""&&(e=null),this._url._url.query=e}}append(e,r){this._list.push([e,r]),this._updateSteps()}delete(e){let r=0;for(;r<this._list.length;)this._list[r][0]===e?this._list.splice(r,1):r++;this._updateSteps()}get(e){for(let r of this._list)if(r[0]===e)return r[1];return null}getAll(e){let r=[];for(let n of this._list)n[0]===e&&r.push(n[1]);return r}has(e){for(let r of this._list)if(r[0]===e)return!0;return!1}set(e,r){let n=!1,s=0;for(;s<this._list.length;)this._list[s][0]===e?n?this._list.splice(s,1):(n=!0,this._list[s][1]=r,s++):s++;n||this._list.push([e,r]),this._updateSteps()}sort(){this._list.sort((e,r)=>e[0]<r[0]?-1:e[0]>r[0]?1:0),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return Xg.serializeUrlencoded(this._list)}}});var Zg=y(Fe=>{"use strict";var $n=ld(),Ye=hd(),HW=kC(),jC=Ye.newObjectInRealm,Tt=Ye.implSymbol,VC=Ye.ctorRegistrySymbol,UC="URLSearchParams";Fe.is=t=>Ye.isObject(t)&&Ye.hasOwn(t,Tt)&&t[Tt]instanceof Xi.implementation;Fe.isImpl=t=>Ye.isObject(t)&&t instanceof Xi.implementation;Fe.convert=(t,e,{context:r="The provided value"}={})=>{if(Fe.is(e))return Ye.implForWrapper(e);throw new t.TypeError(`${r} is not of type 'URLSearchParams'.`)};Fe.createDefaultIterator=(t,e,r)=>{let s=t[VC]["URLSearchParams Iterator"],i=Object.create(s);return Object.defineProperty(i,Ye.iterInternalSymbol,{value:{target:e,kind:r,index:0},configurable:!0}),i};function WC(t,e){let r;return e!==void 0&&(r=e.prototype),Ye.isObject(r)||(r=t[VC].URLSearchParams.prototype),Object.create(r)}Fe.create=(t,e,r)=>{let n=WC(t);return Fe.setup(n,t,e,r)};Fe.createImpl=(t,e,r)=>{let n=Fe.create(t,e,r);return Ye.implForWrapper(n)};Fe._internalSetup=(t,e)=>{};Fe.setup=(t,e,r=[],n={})=>(n.wrapper=t,Fe._internalSetup(t,e),Object.defineProperty(t,Tt,{value:new Xi.implementation(e,r,n),configurable:!0}),t[Tt][Ye.wrapperSymbol]=t,Xi.init&&Xi.init(t[Tt]),t);Fe.new=(t,e)=>{let r=WC(t,e);return Fe._internalSetup(r,t),Object.defineProperty(r,Tt,{value:Object.create(Xi.implementation.prototype),configurable:!0}),r[Tt][Ye.wrapperSymbol]=r,Xi.init&&Xi.init(r[Tt]),r[Tt]};var GW=new Set(["Window","Worker"]);Fe.install=(t,e)=>{if(!e.some(s=>GW.has(s)))return;let r=Ye.initCtorRegistry(t);class n{constructor(){let i=[];{let o=arguments[0];if(o!==void 0)if(Ye.isObject(o))if(o[Symbol.iterator]!==void 0)if(Ye.isObject(o)){let u=[],a=o;for(let c of a){if(Ye.isObject(c)){let l=[],f=c;for(let h of f)h=$n.USVString(h,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:t}),l.push(h);c=l}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");u.push(c)}o=u}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");else if(Ye.isObject(o)){let u=Object.create(null);for(let a of Reflect.ownKeys(o)){let c=Object.getOwnPropertyDescriptor(o,a);if(c&&c.enumerable){let l=a;l=$n.USVString(l,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:t});let f=o[a];f=$n.USVString(f,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:t}),u[l]=f}}o=u}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");else o=$n.USVString(o,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:t});else o="";i.push(o)}return Fe.setup(Object.create(new.target.prototype),t,i)}append(i,o){let u=this!==null&&this!==void 0?this:t;if(!Fe.is(u))throw new t.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new t.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);let a=[];{let c=arguments[0];c=$n.USVString(c,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:t}),a.push(c)}{let c=arguments[1];c=$n.USVString(c,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:t}),a.push(c)}return Ye.tryWrapperForImpl(u[Tt].append(...a))}delete(i){let o=this!==null&&this!==void 0?this:t;if(!Fe.is(o))throw new t.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=$n.USVString(a,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return Ye.tryWrapperForImpl(o[Tt].delete(...u))}get(i){let o=this!==null&&this!==void 0?this:t;if(!Fe.is(o))throw new t.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=$n.USVString(a,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return o[Tt].get(...u)}getAll(i){let o=this!==null&&this!==void 0?this:t;if(!Fe.is(o))throw new t.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=$n.USVString(a,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return Ye.tryWrapperForImpl(o[Tt].getAll(...u))}has(i){let o=this!==null&&this!==void 0?this:t;if(!Fe.is(o))throw new t.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=$n.USVString(a,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return o[Tt].has(...u)}set(i,o){let u=this!==null&&this!==void 0?this:t;if(!Fe.is(u))throw new t.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new t.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);let a=[];{let c=arguments[0];c=$n.USVString(c,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:t}),a.push(c)}{let c=arguments[1];c=$n.USVString(c,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:t}),a.push(c)}return Ye.tryWrapperForImpl(u[Tt].set(...a))}sort(){let i=this!==null&&this!==void 0?this:t;if(!Fe.is(i))throw new t.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return Ye.tryWrapperForImpl(i[Tt].sort())}toString(){let i=this!==null&&this!==void 0?this:t;if(!Fe.is(i))throw new t.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return i[Tt].toString()}keys(){if(!Fe.is(this))throw new t.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return Fe.createDefaultIterator(t,this,"key")}values(){if(!Fe.is(this))throw new t.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return Fe.createDefaultIterator(t,this,"value")}entries(){if(!Fe.is(this))throw new t.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return Fe.createDefaultIterator(t,this,"key+value")}forEach(i){if(!Fe.is(this))throw new t.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");i=HW.convert(t,i,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});let o=arguments[1],u=Array.from(this[Tt]),a=0;for(;a<u.length;){let[c,l]=u[a].map(Ye.tryWrapperForImpl);i.call(o,l,c,this),u=Array.from(this[Tt]),a++}}}Object.defineProperties(n.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:n.prototype.entries,configurable:!0,writable:!0}}),r[UC]=n,r["URLSearchParams Iterator"]=Object.create(r["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),Ye.define(r["URLSearchParams Iterator"],{next(){let s=this&&this[Ye.iterInternalSymbol];if(!s)throw new t.TypeError("next() called on a value that is not a URLSearchParams iterator object");let{target:i,kind:o,index:u}=s,a=Array.from(i[Tt]),c=a.length;if(u>=c)return jC(t,{value:void 0,done:!0});let l=a[u];return s.index=u+1,jC(t,Ye.iteratorResult(l.map(Ye.tryWrapperForImpl),o))}}),Object.defineProperty(t,UC,{configurable:!0,writable:!0,value:n})};var Xi=LC()});var GC=y(HC=>{"use strict";var Ze=Qg(),zC=Jg(),KW=Zg();HC.implementation=class{constructor(e,r){let n=r[0],s=r[1],i=null;if(s!==void 0&&(i=Ze.basicURLParse(s),i===null))throw new TypeError(`Invalid base URL: ${s}`);let o=Ze.basicURLParse(n,{baseURL:i});if(o===null)throw new TypeError(`Invalid URL: ${n}`);let u=o.query!==null?o.query:"";this._url=o,this._query=KW.createImpl(e,[u],{doNotStripQMark:!0}),this._query._url=this}get href(){return Ze.serializeURL(this._url)}set href(e){let r=Ze.basicURLParse(e);if(r===null)throw new TypeError(`Invalid URL: ${e}`);this._url=r,this._query._list.splice(0);let{query:n}=r;n!==null&&(this._query._list=zC.parseUrlencodedString(n))}get origin(){return Ze.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(e){Ze.basicURLParse(`${e}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){Ze.cannotHaveAUsernamePasswordPort(this._url)||Ze.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){Ze.cannotHaveAUsernamePasswordPort(this._url)||Ze.setThePassword(this._url,e)}get host(){let e=this._url;return e.host===null?"":e.port===null?Ze.serializeHost(e.host):`${Ze.serializeHost(e.host)}:${Ze.serializeInteger(e.port)}`}set host(e){Ze.hasAnOpaquePath(this._url)||Ze.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":Ze.serializeHost(this._url.host)}set hostname(e){Ze.hasAnOpaquePath(this._url)||Ze.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":Ze.serializeInteger(this._url.port)}set port(e){Ze.cannotHaveAUsernamePasswordPort(this._url)||(e===""?this._url.port=null:Ze.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return Ze.serializePath(this._url)}set pathname(e){Ze.hasAnOpaquePath(this._url)||(this._url.path=[],Ze.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":`?${this._url.query}`}set search(e){let r=this._url;if(e===""){r.query=null,this._query._list=[];return}let n=e[0]==="?"?e.substring(1):e;r.query="",Ze.basicURLParse(n,{url:r,stateOverride:"query"}),this._query._list=zC.parseUrlencodedString(n)}get searchParams(){return this._query}get hash(){return this._url.fragment===null||this._url.fragment===""?"":`#${this._url.fragment}`}set hash(e){if(e===""){this._url.fragment=null;return}let r=e[0]==="#"?e.substring(1):e;this._url.fragment="",Ze.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var QC=y(ye=>{"use strict";var Nn=ld(),pn=hd(),Pe=pn.implSymbol,YW=pn.ctorRegistrySymbol,KC="URL";ye.is=t=>pn.isObject(t)&&pn.hasOwn(t,Pe)&&t[Pe]instanceof Zi.implementation;ye.isImpl=t=>pn.isObject(t)&&t instanceof Zi.implementation;ye.convert=(t,e,{context:r="The provided value"}={})=>{if(ye.is(e))return pn.implForWrapper(e);throw new t.TypeError(`${r} is not of type 'URL'.`)};function YC(t,e){let r;return e!==void 0&&(r=e.prototype),pn.isObject(r)||(r=t[YW].URL.prototype),Object.create(r)}ye.create=(t,e,r)=>{let n=YC(t);return ye.setup(n,t,e,r)};ye.createImpl=(t,e,r)=>{let n=ye.create(t,e,r);return pn.implForWrapper(n)};ye._internalSetup=(t,e)=>{};ye.setup=(t,e,r=[],n={})=>(n.wrapper=t,ye._internalSetup(t,e),Object.defineProperty(t,Pe,{value:new Zi.implementation(e,r,n),configurable:!0}),t[Pe][pn.wrapperSymbol]=t,Zi.init&&Zi.init(t[Pe]),t);ye.new=(t,e)=>{let r=YC(t,e);return ye._internalSetup(r,t),Object.defineProperty(r,Pe,{value:Object.create(Zi.implementation.prototype),configurable:!0}),r[Pe][pn.wrapperSymbol]=r,Zi.init&&Zi.init(r[Pe]),r[Pe]};var QW=new Set(["Window","Worker"]);ye.install=(t,e)=>{if(!e.some(s=>QW.has(s)))return;let r=pn.initCtorRegistry(t);class n{constructor(i){if(arguments.length<1)throw new t.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);let o=[];{let u=arguments[0];u=Nn.USVString(u,{context:"Failed to construct 'URL': parameter 1",globals:t}),o.push(u)}{let u=arguments[1];u!==void 0&&(u=Nn.USVString(u,{context:"Failed to construct 'URL': parameter 2",globals:t})),o.push(u)}return ye.setup(Object.create(new.target.prototype),t,o)}toJSON(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return i[Pe].toJSON()}get href(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get href' called on an object that is not a valid instance of URL.");return i[Pe].href}set href(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set href' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:t}),o[Pe].href=i}toString(){let i=this;if(!ye.is(i))throw new t.TypeError("'toString' called on an object that is not a valid instance of URL.");return i[Pe].href}get origin(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get origin' called on an object that is not a valid instance of URL.");return i[Pe].origin}get protocol(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return i[Pe].protocol}set protocol(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set protocol' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:t}),o[Pe].protocol=i}get username(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get username' called on an object that is not a valid instance of URL.");return i[Pe].username}set username(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set username' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:t}),o[Pe].username=i}get password(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get password' called on an object that is not a valid instance of URL.");return i[Pe].password}set password(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set password' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:t}),o[Pe].password=i}get host(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get host' called on an object that is not a valid instance of URL.");return i[Pe].host}set host(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set host' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:t}),o[Pe].host=i}get hostname(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return i[Pe].hostname}set hostname(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set hostname' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:t}),o[Pe].hostname=i}get port(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get port' called on an object that is not a valid instance of URL.");return i[Pe].port}set port(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set port' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:t}),o[Pe].port=i}get pathname(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return i[Pe].pathname}set pathname(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set pathname' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:t}),o[Pe].pathname=i}get search(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get search' called on an object that is not a valid instance of URL.");return i[Pe].search}set search(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set search' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:t}),o[Pe].search=i}get searchParams(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return pn.getSameObject(this,"searchParams",()=>pn.tryWrapperForImpl(i[Pe].searchParams))}get hash(){let i=this!==null&&this!==void 0?this:t;if(!ye.is(i))throw new t.TypeError("'get hash' called on an object that is not a valid instance of URL.");return i[Pe].hash}set hash(i){let o=this!==null&&this!==void 0?this:t;if(!ye.is(o))throw new t.TypeError("'set hash' called on an object that is not a valid instance of URL.");i=Nn.USVString(i,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:t}),o[Pe].hash=i}}Object.defineProperties(n.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),r[KC]=n,Object.defineProperty(t,KC,{configurable:!0,writable:!0,value:n}),e.includes("Window")&&Object.defineProperty(t,"webkitURL",{configurable:!0,writable:!0,value:n})};var Zi=GC()});var JC=y(e6=>{"use strict";var JW=QC(),XW=Zg();e6.URL=JW;e6.URLSearchParams=XW});var ZC=y(Cr=>{"use strict";var{URL:ZW,URLSearchParams:ez}=JC(),ns=Qg(),XC=pd(),_d={Array,Object,Promise,String,TypeError};ZW.install(_d,["Window"]);ez.install(_d,["Window"]);Cr.URL=_d.URL;Cr.URLSearchParams=_d.URLSearchParams;Cr.parseURL=ns.parseURL;Cr.basicURLParse=ns.basicURLParse;Cr.serializeURL=ns.serializeURL;Cr.serializePath=ns.serializePath;Cr.serializeHost=ns.serializeHost;Cr.serializeInteger=ns.serializeInteger;Cr.serializeURLOrigin=ns.serializeURLOrigin;Cr.setTheUsername=ns.setTheUsername;Cr.setThePassword=ns.setThePassword;Cr.cannotHaveAUsernamePasswordPort=ns.cannotHaveAUsernamePasswordPort;Cr.hasAnOpaquePath=ns.hasAnOpaquePath;Cr.percentDecodeString=XC.percentDecodeString;Cr.percentDecodeBytes=XC.percentDecodeBytes});var tS=y(Rn=>{"use strict";var tz=Rn&&Rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rz=Rn&&Rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nz=Rn&&Rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tz(e,t,r);return rz(e,t),e};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.redactConnectionString=Rn.redactValidConnectionString=void 0;var eS=nz(t6());function sz(t,e){var r,n;let s=t.clone(),i=(r=e?.replacementString)!==null&&r!==void 0?r:"_credentials_",o=(n=e?.redactUsernames)!==null&&n!==void 0?n:!0;if((s.username||s.password)&&o?(s.username=i,s.password=""):s.password&&(s.password=i),s.searchParams.has("authMechanismProperties")){let u=new eS.CommaAndColonSeparatedRecord(s.searchParams.get("authMechanismProperties"));u.get("AWS_SESSION_TOKEN")&&(u.set("AWS_SESSION_TOKEN",i),s.searchParams.set("authMechanismProperties",u.toString()))}return s.searchParams.has("tlsCertificateKeyFilePassword")&&s.searchParams.set("tlsCertificateKeyFilePassword",i),s.searchParams.has("proxyUsername")&&o&&s.searchParams.set("proxyUsername",i),s.searchParams.has("proxyPassword")&&s.searchParams.set("proxyPassword",i),s}Rn.redactValidConnectionString=sz;function iz(t,e){var r,n;let s=(r=e?.replacementString)!==null&&r!==void 0?r:"<credentials>",i=(n=e?.redactUsernames)!==null&&n!==void 0?n:!0,o;try{o=new eS.default(t)}catch{}if(o)return e={...e,replacementString:"___credentials___"},o.redact(e).toString().replace(/___credentials___/g,s);let u=s,a=[c=>c.replace(i?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`$1${u}$3`),c=>c.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`$1${u}`),c=>c.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`$1${u}`),c=>i?c.replace(/(proxyUsername=)([^&]+)/gi,`$1${u}`):c,c=>c.replace(/(proxyPassword=)([^&]+)/gi,`$1${u}`)];for(let c of a)t=c(t);return t}Rn.redactConnectionString=iz});var t6=y(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.CommaAndColonSeparatedRecord=ci.ConnectionString=ci.redactConnectionString=void 0;var oz=ZC(),rS=tS();Object.defineProperty(ci,"redactConnectionString",{enumerable:!0,get:function(){return rS.redactConnectionString}});var b1="__this_is_a_placeholder__";function uz(t){return t.startsWith("mongodb://")||t.startsWith("mongodb+srv://")}var az=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/,Ad=class extends Map{delete(e){return super.delete(this._normalizeKey(e))}get(e){return super.get(this._normalizeKey(e))}has(e){return super.has(this._normalizeKey(e))}set(e,r){return super.set(this._normalizeKey(e),r)}_normalizeKey(e){e=`${e}`;for(let r of this.keys())if(r.toLowerCase()===e.toLowerCase()){e=r;break}return e}};function cz(t){return class extends t{append(r,n){return super.append(this._normalizeKey(r),n)}delete(r){return super.delete(this._normalizeKey(r))}get(r){return super.get(this._normalizeKey(r))}getAll(r){return super.getAll(this._normalizeKey(r))}has(r){return super.has(this._normalizeKey(r))}set(r,n){return super.set(this._normalizeKey(r),n)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(r){return Ad.prototype._normalizeKey.call(this,r)}}}var r6=class extends oz.URL{},ss=class extends Error{get name(){return"MongoParseError"}},Od=class t extends r6{constructor(e,r={}){var n;let{looseValidation:s}=r;if(!s&&!uz(e))throw new ss('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');let i=e.match(az);if(!i)throw new ss(`Invalid connection string "${e}"`);let{protocol:o,username:u,password:a,hosts:c,rest:l}=(n=i.groups)!==null&&n!==void 0?n:{};if(!s){if(!o||!c)throw new ss(`Protocol and host list are required in "${e}"`);try{decodeURIComponent(u??""),decodeURIComponent(a??"")}catch(d){throw new ss(d.message)}let h=/[:/?#[\]@]/gi;if(u?.match(h))throw new ss(`Username contains unescaped characters ${u}`);if(!u||!a){let d=e.replace(`${o}://`,"");if(d.startsWith("@")||d.startsWith(":"))throw new ss("URI contained empty userinfo section")}if(a?.match(h))throw new ss("Password contains unescaped characters")}let f="";typeof u=="string"&&(f+=u),typeof a=="string"&&(f+=`:${a}`),f&&(f+="@");try{super(`${o.toLowerCase()}://${f}${b1}${l}`)}catch(h){throw s&&new t(e,{...r,looseValidation:!1}),typeof h.message=="string"&&(h.message=h.message.replace(b1,c)),h}if(this._hosts=c.split(","),!s){if(this.isSRV&&this.hosts.length!==1)throw new ss("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some(h=>h.includes(":")))throw new ss("mongodb+srv URI cannot have port number")}this.pathname||(this.pathname="/"),Object.setPrototypeOf(this.searchParams,cz(this.searchParams.constructor).prototype)}get host(){return b1}set host(e){throw new Error("No single host for connection string")}get hostname(){return b1}set hostname(e){throw new Error("No single host for connection string")}get port(){return""}set port(e){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(e){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(e){this._hosts=e}toString(){return super.toString().replace(b1,this.hosts.join(","))}clone(){return new t(this.toString(),{looseValidation:!0})}redact(e){return(0,rS.redactValidConnectionString)(this,e)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){let{href:e,origin:r,protocol:n,username:s,password:i,hosts:o,pathname:u,search:a,searchParams:c,hash:l}=this;return{href:e,origin:r,protocol:n,username:s,password:i,hosts:o,pathname:u,search:a,searchParams:c,hash:l}}};ci.ConnectionString=Od;var n6=class extends Ad{constructor(e){super();for(let r of(e??"").split(",")){if(!r)continue;let n=r.indexOf(":");n===-1?this.set(r,""):this.set(r.slice(0,n),r.slice(n+1))}}toString(){return[...this].map(e=>e.join(":")).join(",")}};ci.CommaAndColonSeparatedRecord=n6;ci.default=Od});var nS=y((ace,lz)=>{lz.exports={name:"mongodb",version:"5.9.0",description:"The official MongoDB driver for Node.js",main:"lib/index.js",files:["lib","src","etc/prepare.js","mongodb.d.ts","tsconfig.json"],types:"mongodb.d.ts",repository:{type:"git",url:"git@github.com:mongodb/node-mongodb-native.git"},keywords:["mongodb","driver","official"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},dependencies:{bson:"^5.5.0","mongodb-connection-string-url":"^2.6.0",socks:"^2.7.1"},optionalDependencies:{"@mongodb-js/saslprep":"^1.1.0"},peerDependencies:{"@aws-sdk/credential-providers":"^3.188.0","@mongodb-js/zstd":"^1.0.0",kerberos:"^1.0.0 || ^2.0.0","mongodb-client-encryption":">=2.3.0 <3",snappy:"^7.2.2"},peerDependenciesMeta:{"@aws-sdk/credential-providers":{optional:!0},"@mongodb-js/zstd":{optional:!0},kerberos:{optional:!0},snappy:{optional:!0},"mongodb-client-encryption":{optional:!0}},devDependencies:{"@iarna/toml":"^2.2.5","@istanbuljs/nyc-config-typescript":"^1.0.2","@microsoft/api-extractor":"^7.35.1","@microsoft/tsdoc-config":"^0.16.2","@mongodb-js/zstd":"^1.1.0","@octokit/core":"^4.2.4","@types/chai":"^4.3.5","@types/chai-subset":"^1.3.3","@types/express":"^4.17.17","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.1","@types/node":"^20.1.0","@types/semver":"^7.5.0","@types/sinon":"^10.0.14","@types/sinon-chai":"^3.2.9","@types/whatwg-url":"^11.0.0","@typescript-eslint/eslint-plugin":"^5.59.5","@typescript-eslint/parser":"^5.59.5",chai:"^4.3.7","chai-subset":"^1.6.0",chalk:"^4.1.2",eslint:"^8.40.0","eslint-config-prettier":"^8.8.0","eslint-plugin-import":"^2.27.5","eslint-plugin-prettier":"^4.2.1","eslint-plugin-simple-import-sort":"^10.0.0","eslint-plugin-tsdoc":"^0.2.17",express:"^4.18.2","js-yaml":"^4.1.0",mocha:"^10.2.0","mocha-sinon":"^2.1.2","mongodb-legacy":"^5.0.0",nyc:"^15.1.0",prettier:"^2.8.8",semver:"^7.5.0",sinon:"^15.0.4","sinon-chai":"^3.7.0",snappy:"^7.2.2","source-map-support":"^0.5.21","ts-node":"^10.9.1",tsd:"^0.28.1",typescript:"^5.0.4","typescript-cached-transpile":"^0.0.6","v8-heapsnapshot":"^1.2.0",yargs:"^17.7.2"},license:"Apache-2.0",engines:{node:">=14.20.1"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},homepage:"https://github.com/mongodb/node-mongodb-native",scripts:{"build:evergreen":"node .evergreen/generate_evergreen_tasks.js","build:ts":"node ./node_modules/typescript/bin/tsc","build:dts":"npm run build:ts && api-extractor run && node etc/clean_definition_files.cjs","build:docs":"./etc/docs/build.ts","build:typedoc":"typedoc","build:nightly":"node ./.github/scripts/nightly.mjs","check:bench":"node test/benchmarks/driverBench","check:coverage":"nyc npm run test:all","check:integration-coverage":"nyc npm run check:test","check:lambda":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/handler.test.js","check:lambda:aws":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/aws_handler.test.js","check:lint":"npm run build:dts && npm run check:dts && npm run check:eslint && npm run check:tsd","check:eslint":"eslint -v && eslint --max-warnings=0 --ext '.js,.ts' src test","check:tsd":"tsd --version && tsd","check:dependencies":"mocha test/action/dependency.test.ts","check:dts":"node ./node_modules/typescript/bin/tsc --noEmit mongodb.d.ts && tsd","check:search-indexes":"nyc mocha --config test/mocha_mongodb.json test/manual/search-index-management.spec.test.ts","check:test":"mocha --config test/mocha_mongodb.json test/integration","check:unit":"mocha test/unit","check:ts":"node ./node_modules/typescript/bin/tsc -v && node ./node_modules/typescript/bin/tsc --noEmit","check:atlas":"mocha --config test/manual/mocharc.json test/manual/atlas_connectivity.test.js","check:adl":"mocha --config test/mocha_mongodb.json test/manual/atlas-data-lake-testing","check:aws":"nyc mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_aws.test.ts","check:oidc":"mocha --config test/mocha_mongodb.json test/manual/mongodb_oidc.prose.test.ts","check:oidc-azure":"mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_oidc_azure.prose.test.ts","check:ocsp":"mocha --config test/manual/mocharc.json test/manual/ocsp_support.test.js","check:kerberos":"nyc mocha --config test/manual/mocharc.json test/manual/kerberos.test.ts","check:tls":"mocha --config test/manual/mocharc.json test/manual/tls_support.test.js","check:ldap":"nyc mocha --config test/manual/mocharc.json test/manual/ldap.test.js","check:socks5":"mocha --config test/manual/mocharc.json test/manual/socks5.test.ts","check:csfle":"mocha --config test/mocha_mongodb.json test/integration/client-side-encryption","check:snappy":"mocha test/unit/assorted/snappy.test.js","fix:eslint":"npm run check:eslint -- --fix",prepare:"node etc/prepare.js","preview:docs":"ts-node etc/docs/preview.ts",test:"npm run check:lint && npm run test:all","test:all":"npm run check:unit && npm run check:test","update:docs":"npm run build:docs -- --yes"},tsd:{directory:"test/types",compilerOptions:{strict:!0,target:"esnext",module:"commonjs",moduleResolution:"node"}}}});var uS=y(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.getFAASEnv=eo.makeClientMetadata=eo.LimitedSizeDocument=void 0;var D1=require("os"),Cd=require("process"),Sa=pt(),sS=Q(),iS=nS().version,Sd=class{constructor(e){this.maxSize=e,this.document=new Map,this.documentSize=5}ifItFitsItSits(e,r){let n=Sa.BSON.serialize(new Map().set(e,r)).byteLength-5;return n+this.documentSize>this.maxSize?!1:(this.documentSize+=n,this.document.set(e,r),!0)}toObject(){return Sa.BSON.deserialize(Sa.BSON.serialize(this.document),{promoteLongs:!1,promoteBuffers:!1,promoteValues:!1,useBigInt64:!1})}};eo.LimitedSizeDocument=Sd;function fz(t){let e=new Sd(512),{appName:r=""}=t;if(r.length>0){let l=Buffer.byteLength(r,"utf8")<=128?t.appName:Buffer.from(r,"utf8").subarray(0,128).toString("utf8");e.ifItFitsItSits("application",{name:l})}let{name:n="",version:s="",platform:i=""}=t.driverInfo,o={name:n.length>0?`nodejs|${n}`:"nodejs",version:s.length>0?`${iS}|${s}`:iS};if(!e.ifItFitsItSits("driver",o))throw new sS.MongoInvalidArgumentError("Unable to include driverInfo name and version, metadata cannot exceed 512 bytes");let u=hz();if(i.length>0&&(u=`${u}|${i}`),!e.ifItFitsItSits("platform",u))throw new sS.MongoInvalidArgumentError("Unable to include driverInfo platform, metadata cannot exceed 512 bytes");let a=new Map().set("name",Cd.platform).set("architecture",Cd.arch).set("version",D1.release()).set("type",D1.type());if(!e.ifItFitsItSits("os",a)){for(let l of a.keys())if(a.delete(l),a.size===0||e.ifItFitsItSits("os",a))break}let c=oS();if(c!=null&&!e.ifItFitsItSits("env",c)){for(let l of c.keys())if(c.delete(l),c.size===0||e.ifItFitsItSits("env",c))break}return e.toObject()}eo.makeClientMetadata=fz;function oS(){let{AWS_EXECUTION_ENV:t="",AWS_LAMBDA_RUNTIME_API:e="",FUNCTIONS_WORKER_RUNTIME:r="",K_SERVICE:n="",FUNCTION_NAME:s="",VERCEL:i="",AWS_LAMBDA_FUNCTION_MEMORY_SIZE:o="",AWS_REGION:u="",FUNCTION_MEMORY_MB:a="",FUNCTION_REGION:c="",FUNCTION_TIMEOUT_SEC:l="",VERCEL_REGION:f=""}=Cd.env,h=t.startsWith("AWS_Lambda_")||e.length>0,d=r.length>0,p=n.length>0||s.length>0,m=i.length>0,g=new Map;return m&&!(d||p)?(f.length>0&&g.set("region",f),g.set("name","vercel"),g):h&&!(d||p||m)?(u.length>0&&g.set("region",u),o.length>0&&Number.isInteger(+o)&&g.set("memory_mb",new Sa.Int32(o)),g.set("name","aws.lambda"),g):d&&!(p||h||m)?(g.set("name","azure.func"),g):p&&!(d||h||m)?(c.length>0&&g.set("region",c),a.length>0&&Number.isInteger(+a)&&g.set("memory_mb",new Sa.Int32(a)),l.length>0&&Number.isInteger(+l)&&g.set("timeout_sec",new Sa.Int32(l)),g.set("name","gcp.func"),g):null}eo.getFAASEnv=oS;function hz(){return"Deno"in globalThis?`Deno v${typeof Deno?.version?.deno=="string"?Deno?.version?.deno:"0.0.0-unknown"}, ${D1.endianness()}`:"Bun"in globalThis?`Bun v${typeof Bun?.version=="string"?Bun?.version:"0.0.0-unknown"}, ${D1.endianness()}`:`Node.js ${Cd.version}, ${D1.endianness()}`}});var bd=y(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.decompress=er.compress=er.uncompressibleCommands=er.Compressor=void 0;var aS=require("util"),wd=require("zlib"),dz=kt(),cS=ma(),lS=Q();er.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3});er.uncompressibleCommands=new Set([dz.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);var pz=3,mz=(0,aS.promisify)(wd.inflate.bind(wd)),yz=(0,aS.promisify)(wd.deflate.bind(wd)),to,li=null;function fS(){if(li==null){let t=(0,cS.getSnappy)();if("kModuleError"in t)throw t.kModuleError;li=t}return li}async function gz(t,e){let r={};switch(t.agreedCompressor){case"snappy":return li??(li=fS()),li.compress(e);case"zstd":{if(hS(),"kModuleError"in to)throw to.kModuleError;return to.compress(e,pz)}case"zlib":return t.zlibCompressionLevel&&(r.level=t.zlibCompressionLevel),yz(e,r);default:throw new lS.MongoInvalidArgumentError(`Unknown compressor ${t.agreedCompressor} failed to compress`)}}er.compress=gz;async function Ez(t,e){if(t!==er.Compressor.snappy&&t!==er.Compressor.zstd&&t!==er.Compressor.zlib&&t!==er.Compressor.none)throw new lS.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${t})`);switch(t){case er.Compressor.snappy:return li??(li=fS()),li.uncompress(e,{asBuffer:!0});case er.Compressor.zstd:{if(hS(),"kModuleError"in to)throw to.kModuleError;return to.decompress(e)}case er.Compressor.zlib:return mz(e);default:return e}}er.decompress=Ez;function hS(){to||(to=(0,cS.getZstdLibrary)())}});var mS=y(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.Encrypter=void 0;var _z=kt(),dS=Q(),Az=wa(),Oz=ne(),pS,B1=Symbol("internalClient"),s6=class{constructor(e,r,n){if(typeof n.autoEncryption!="object")throw new dS.MongoInvalidArgumentError('Option "autoEncryption" must be specified');this[B1]=null,this.bypassAutoEncryption=!!n.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,n.maxPoolSize===0&&n.autoEncryption.keyVaultClient==null?n.autoEncryption.keyVaultClient=e:n.autoEncryption.keyVaultClient==null&&(n.autoEncryption.keyVaultClient=this.getInternalClient(e,r,n)),this.bypassAutoEncryption?n.autoEncryption.metadataClient=void 0:n.maxPoolSize===0?n.autoEncryption.metadataClient=e:n.autoEncryption.metadataClient=this.getInternalClient(e,r,n),n.proxyHost&&(n.autoEncryption.proxyOptions={proxyHost:n.proxyHost,proxyPort:n.proxyPort,proxyUsername:n.proxyUsername,proxyPassword:n.proxyPassword}),this.autoEncrypter=new pS(e,n.autoEncryption)}getInternalClient(e,r,n){let s=this[B1];if(s==null){let i={};for(let o of[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)])["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes(o)||Reflect.set(i,o,Reflect.get(n,o));i.minPoolSize=0,s=new Az.MongoClient(r,i),this[B1]=s;for(let o of _z.MONGO_CLIENT_EVENTS)for(let u of e.listeners(o))s.on(o,u);e.on("newListener",(o,u)=>{s?.on(o,u)}),this.needsConnecting=!0}return s}async connectInternalClient(){let e=this[B1];this.needsConnecting&&e!=null&&(this.needsConnecting=!1,await e.connect())}close(e,r,n){this.autoEncrypter.teardown(!!r,s=>{let i=this[B1];if(i!=null&&e!==i){i.close(r).then(()=>n(),o=>n(o));return}n(s)})}static checkForMongoCrypt(){let e=(0,Oz.getMongoDBClientEncryption)();if(e==null)throw new dS.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project");pS=e.extension(T1()).AutoEncrypter}};Dd.Encrypter=s6});var l6=y(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.MongoLogger=Re.stringifyWithMaxLen=Re.createStdioLogger=Re.MongoLoggableComponent=Re.SEVERITY_LEVEL_MAP=Re.DEFAULT_MAX_DOCUMENT_LENGTH=Re.SeverityLevel=void 0;var Cz=wn(),Sz=require("util"),jr=kt(),c6=ne();Re.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"});Re.DEFAULT_MAX_DOCUMENT_LENGTH=1e3;var o6=class extends Map{constructor(e){let r=[];for(let[n,s]of e)r.push([s,n]);r.push(...e),super(r)}getNumericSeverityLevel(e){return this.get(e)}getSeverityLevelName(e){return this.get(e)}};Re.SEVERITY_LEVEL_MAP=new o6([[Re.SeverityLevel.OFF,-1/0],[Re.SeverityLevel.EMERGENCY,0],[Re.SeverityLevel.ALERT,1],[Re.SeverityLevel.CRITICAL,2],[Re.SeverityLevel.ERROR,3],[Re.SeverityLevel.WARNING,4],[Re.SeverityLevel.NOTICE,5],[Re.SeverityLevel.INFORMATIONAL,6],[Re.SeverityLevel.DEBUG,7],[Re.SeverityLevel.TRACE,8]]);Re.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection"});function P1(t){let e=Object.values(Re.SeverityLevel),r=t?.toLowerCase();return r!=null&&e.includes(r)?r:null}function ba(t){return{write:e=>{t.write((0,Sz.inspect)(e,{compact:!0,breakLength:1/0}),"utf-8")}}}Re.createStdioLogger=ba;function wz({MONGODB_LOG_PATH:t},{mongodbLogPath:e}){return typeof e=="string"&&/^stderr$/i.test(e)?ba(process.stderr):typeof e=="string"&&/^stdout$/i.test(e)?ba(process.stdout):typeof e=="object"&&typeof e?.write=="function"?e:t&&/^stderr$/i.test(t)?ba(process.stderr):t&&/^stdout$/i.test(t)?ba(process.stdout):ba(process.stderr)}function bz(t,e){let r=Re.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(t),n=Re.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(e);return r<n?-1:r>n?1:0}function u6(t,e){let r=Cz.EJSON.stringify(t);return e!==0&&r.length>e?`${r.slice(0,e)}...`:r}Re.stringifyWithMaxLen=u6;function Dz(t){let e=t;return e.toLog!==void 0&&typeof e.toLog=="function"}function i6(t,e){t.commandName=e.commandName,t.requestId=e.requestId,t.driverConnectionId=e?.connectionId;let{host:r,port:n}=c6.HostAddress.fromString(e.address).toHostPort();return t.serverHost=r,t.serverPort=n,e?.serviceId&&(t.serviceId=e.serviceId.toHexString()),t}function is(t,e){let{host:r,port:n}=c6.HostAddress.fromString(e.address).toHostPort();return t.serverHost=r,t.serverPort=n,t}function Bz(t,e=Re.DEFAULT_MAX_DOCUMENT_LENGTH){let r=Object.create(null);switch(t.name){case jr.COMMAND_STARTED:return r=i6(r,t),r.message="Command started",r.command=u6(t.command,e),r.databaseName=t.databaseName,r;case jr.COMMAND_SUCCEEDED:return r=i6(r,t),r.message="Command succeeded",r.durationMS=t.duration,r.reply=u6(t.reply,e),r;case jr.COMMAND_FAILED:return r=i6(r,t),r.message="Command failed",r.durationMS=t.duration,r.failure=t.failure,r;case jr.CONNECTION_POOL_CREATED:if(r=is(r,t),r.message="Connection pool created",t.options){let{maxIdleTimeMS:n,minPoolSize:s,maxPoolSize:i,maxConnecting:o,waitQueueTimeoutMS:u}=t.options;r={...r,maxIdleTimeMS:n,minPoolSize:s,maxPoolSize:i,maxConnecting:o,waitQueueTimeoutMS:u}}return r;case jr.CONNECTION_POOL_READY:return r=is(r,t),r.message="Connection pool ready",r;case jr.CONNECTION_POOL_CLEARED:return r=is(r,t),r.message="Connection pool cleared",t.serviceId?._bsontype==="ObjectId"&&(r.serviceId=t.serviceId.toHexString()),r;case jr.CONNECTION_POOL_CLOSED:return r=is(r,t),r.message="Connection pool closed",r;case jr.CONNECTION_CREATED:return r=is(r,t),r.message="Connection created",r.driverConnectionId=t.connectionId,r;case jr.CONNECTION_READY:return r=is(r,t),r.message="Connection ready",r.driverConnectionId=t.connectionId,r;case jr.CONNECTION_CLOSED:switch(r=is(r,t),r.message="Connection closed",r.driverConnectionId=t.connectionId,t.reason){case"stale":r.reason="Connection became stale because the pool was cleared";break;case"idle":r.reason="Connection has been available but unused for longer than the configured max idle time";break;case"error":r.reason="An error occurred while using the connection",t.error&&(r.error=t.error);break;case"poolClosed":r.reason="Connection pool was closed";break;default:r.reason=`Unknown close reason: ${t.reason}`}return r;case jr.CONNECTION_CHECK_OUT_STARTED:return r=is(r,t),r.message="Connection checkout started",r;case jr.CONNECTION_CHECK_OUT_FAILED:switch(r=is(r,t),r.message="Connection checkout failed",t.reason){case"poolClosed":r.reason="Connection pool was closed";break;case"timeout":r.reason="Wait queue timeout elapsed without a connection becoming available";break;case"connectionError":r.reason="An error occurred while trying to establish a new connection",t.error&&(r.error=t.error);break;default:r.reason=`Unknown close reason: ${t.reason}`}return r;case jr.CONNECTION_CHECKED_OUT:return r=is(r,t),r.message="Connection checked out",r.driverConnectionId=t.connectionId,r;case jr.CONNECTION_CHECKED_IN:return r=is(r,t),r.message="Connection checked in",r.driverConnectionId=t.connectionId,r;default:for(let[n,s]of Object.entries(t))s!=null&&(r[n]=s)}return r}var a6=class{constructor(e){this.error=this.log.bind(this,"error"),this.warn=this.log.bind(this,"warn"),this.info=this.log.bind(this,"info"),this.debug=this.log.bind(this,"debug"),this.trace=this.log.bind(this,"trace"),this.componentSeverities=e.componentSeverities,this.maxDocumentLength=e.maxDocumentLength,this.logDestination=e.logDestination}log(e,r,n){if(bz(e,this.componentSeverities[r])>0)return;let s={t:new Date,c:r,s:e};typeof n=="string"?s.message=n:typeof n=="object"&&(Dz(n)?s={...s,...n.toLog()}:s={...s,...Bz(n,this.maxDocumentLength)}),this.logDestination.write(s)}static resolveOptions(e,r){let n={...e,...r,mongodbLogPath:wz(e,r)},s=P1(n.MONGODB_LOG_ALL)??Re.SeverityLevel.OFF;return{componentSeverities:{command:P1(n.MONGODB_LOG_COMMAND)??s,topology:P1(n.MONGODB_LOG_TOPOLOGY)??s,serverSelection:P1(n.MONGODB_LOG_SERVER_SELECTION)??s,connection:P1(n.MONGODB_LOG_CONNECTION)??s,default:s},maxDocumentLength:(0,c6.parseUnsignedInteger)(n.MONGODB_LOG_MAX_DOCUMENT_LENGTH)??1e3,logDestination:n.mongodbLogPath}}};Re.MongoLogger=a6});var m6=y(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.FEATURE_FLAGS=Vt.DEFAULT_OPTIONS=Vt.OPTIONS=Vt.parseOptions=Vt.resolveSRVRecord=void 0;var yS=require("dns"),Jo=require("fs"),Tz=t6(),Pz=require("url"),Da=ad(),vs=xs(),Mz=uS(),gS=bd(),ES=mS(),te=Q(),Bd=wa(),Fz=l6(),f6=bn(),ro=It(),tr=ne(),fi=qr(),h6=["authSource","replicaSet","loadBalanced"],Iz="loadBalanced option only supported with a single host in the URI",$z="loadBalanced option not supported with a replicaSet option",Nz="loadBalanced option not supported when directConnection is provided";async function Rz(t){if(typeof t.srvHost!="string")throw new te.MongoAPIError('Option "srvHost" must not be empty');if(t.srvHost.split(".").length<3)throw new te.MongoAPIError("URI must include hostname, domain name, and tld");let e=t.srvHost,r=await yS.promises.resolveSrv(`_${t.srvServiceName}._tcp.${e}`);if(r.length===0)throw new te.MongoAPIError("No addresses found at host");for(let{name:l}of r)if(!(0,tr.matchesParentDomain)(l,e))throw new te.MongoAPIError("Server record does not share hostname with parent URI");let n=r.map(l=>tr.HostAddress.fromString(`${l.name}:${l.port??27017}`));d6(n,t,!0);let s;try{s=await yS.promises.resolveTxt(e)}catch(l){if(l.code!=="ENODATA"&&l.code!=="ENOTFOUND")throw l;return n}if(s.length>1)throw new te.MongoParseError("Multiple text records not allowed");let i=new Pz.URLSearchParams(s[0].join(""));if([...i.keys()].some(l=>!h6.includes(l)))throw new te.MongoParseError(`Text record may only set any of: ${h6.join(", ")}`);if(h6.some(l=>i.get(l)===""))throw new te.MongoParseError("Cannot have empty URI params in DNS TXT Record");let u=i.get("authSource")??void 0,a=i.get("replicaSet")??void 0,c=i.get("loadBalanced")??void 0;if(!t.userSpecifiedAuthSource&&u&&t.credentials&&!vs.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(t.credentials.mechanism)&&(t.credentials=Da.MongoCredentials.merge(t.credentials,{source:u})),!t.userSpecifiedReplicaSet&&a&&(t.replicaSet=a),c==="true"&&(t.loadBalanced=!0),t.replicaSet&&t.srvMaxHosts>0)throw new te.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return d6(n,t,!0),n}Vt.resolveSRVRecord=Rz;function xz(t){if(!t)return;let e=(r,n)=>{if(t.has(r)&&t.has(n))throw new te.MongoAPIError(`The '${r}' option cannot be used with the '${n}' option`)};e("tlsInsecure","tlsAllowInvalidCertificates"),e("tlsInsecure","tlsAllowInvalidHostnames"),e("tlsInsecure","tlsDisableCertificateRevocationCheck"),e("tlsInsecure","tlsDisableOCSPEndpointCheck"),e("tlsAllowInvalidCertificates","tlsDisableCertificateRevocationCheck"),e("tlsAllowInvalidCertificates","tlsDisableOCSPEndpointCheck"),e("tlsDisableCertificateRevocationCheck","tlsDisableOCSPEndpointCheck")}var vz=new Set(["true","t","1","y","yes"]),kz=new Set(["false","f","0","n","no","-1"]);function hi(t,e){if(typeof e=="boolean")return e;let r=String(e).toLowerCase();if(vz.has(r))return r!=="true"&&(0,tr.emitWarningOnce)(`deprecated value for ${t} : ${r} - please update to ${t} : true instead`),!0;if(kz.has(r))return r!=="false"&&(0,tr.emitWarningOnce)(`deprecated value for ${t} : ${r} - please update to ${t} : false instead`),!1;throw new te.MongoParseError(`Expected ${t} to be stringified boolean value, got: ${e}`)}function p6(t,e){let r=(0,tr.parseInteger)(e);if(r!=null)return r;throw new te.MongoParseError(`Expected ${t} to be stringified int value, got: ${e}`)}function M1(t,e){let r=p6(t,e);if(r<0)throw new te.MongoParseError(`${t} can only be a positive int value, got: ${e}`);return r}function*_S(t){let e=t.split(",");for(let r of e){let[n,s]=r.split(/:(.*)/);if(s==null)throw new te.MongoParseError("Cannot have undefined values in key value pairs");yield[n,s]}}var Ba=class extends Map{constructor(e=[]){super(e.map(([r,n])=>[r.toLowerCase(),n]))}has(e){return super.has(e.toLowerCase())}get(e){return super.get(e.toLowerCase())}set(e,r){return super.set(e.toLowerCase(),r)}delete(e){return super.delete(e.toLowerCase())}};function qz(t,e=void 0,r={}){if(e!=null&&!(e instanceof Bd.MongoClient)&&(r=e,e=void 0),r.useBigInt64&&typeof r.promoteLongs=="boolean"&&!r.promoteLongs)throw new te.MongoAPIError("Must request either bigint or Long for int64 deserialization");if(r.useBigInt64&&typeof r.promoteValues=="boolean"&&!r.promoteValues)throw new te.MongoAPIError("Must request either bigint or Long for int64 deserialization");let n=new Tz.default(t),{hosts:s,isSRV:i}=n,o=Object.create(null);for(let E of Object.getOwnPropertySymbols(r))Vt.FEATURE_FLAGS.has(E)&&(o[E]=r[E]);o.hosts=i?[]:s.map(tr.HostAddress.fromString);let u=new Ba;if(n.pathname!=="/"&&n.pathname!==""){let E=decodeURIComponent(n.pathname[0]==="/"?n.pathname.slice(1):n.pathname);E&&u.set("dbName",[E])}if(n.username!==""){let E={username:decodeURIComponent(n.username)};typeof n.password=="string"&&(E.password=decodeURIComponent(n.password)),u.set("auth",[E])}for(let E of n.searchParams.keys()){let A=[...n.searchParams.getAll(E)];if(A.includes(""))throw new te.MongoAPIError("URI cannot contain options with no value");u.has(E)||u.set(E,A)}let a=new Ba(Object.entries(r).filter(([,E])=>E!=null));if(u.has("serverApi"))throw new te.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");let c=u.get("authMechanismProperties");if(c){for(let E of c)if(/(^|,)ALLOWED_HOSTS:/.test(E))throw new te.MongoParseError("Auth mechanism property ALLOWED_HOSTS is not allowed in the connection string.")}if(a.has("loadBalanced"))throw new te.MongoParseError("loadBalanced is only a valid option in the URI");let l=new Ba,f=new Set([...u.keys(),...a.keys()]);for(let E of f){let A=[],C=a.get(E);C!=null&&A.push(C);let T=u.get(E)??[];A.push(...T),l.set(E,A)}let h=l.has("tlsCertificateKeyFile")&&!l.has("tlsCertificateFile");if(h&&l.set("tlsCertificateFile",l.get("tlsCertificateKeyFile")),l.has("tls")||l.has("ssl")){let E=(l.get("tls")||[]).concat(l.get("ssl")||[]).map(hi.bind(null,"tls/ssl"));if(new Set(E).size!==1)throw new te.MongoParseError("All values of tls/ssl must be the same.")}xz(l);let d=(0,tr.setDifference)(f,Array.from(Object.keys(Vt.OPTIONS)).map(E=>E.toLowerCase()));if(d.size!==0){let E=d.size>1?"options":"option",A=d.size>1?"are":"is";throw new te.MongoParseError(`${E} ${Array.from(d).join(", ")} ${A} not supported`)}for(let[E,A]of Object.entries(Vt.OPTIONS)){let C=l.get(E);if(!C||C.length===0)Vt.DEFAULT_OPTIONS.has(E)&&AS(o,E,A,[Vt.DEFAULT_OPTIONS.get(E)]);else{let{deprecated:T}=A;if(T&&!(h&&E==="tlsCertificateFile")){let F=typeof T=="string"?`: ${T}`:"";(0,tr.emitWarning)(`${E} is a deprecated option${F}`)}AS(o,E,A,C)}}if(o.credentials){let E=o.credentials.mechanism===vs.AuthMechanism.MONGODB_GSSAPI,A=o.credentials.mechanism===vs.AuthMechanism.MONGODB_X509,C=o.credentials.mechanism===vs.AuthMechanism.MONGODB_AWS,T=o.credentials.mechanism===vs.AuthMechanism.MONGODB_OIDC;if((E||A)&&l.has("authSource")&&o.credentials.source!=="$external")throw new te.MongoParseError(`authMechanism ${o.credentials.mechanism} requires an authSource of '$external'`);if(!(E||A||C||T)&&o.dbName&&!l.has("authSource")&&(o.credentials=Da.MongoCredentials.merge(o.credentials,{source:o.dbName})),C&&o.credentials.username&&!o.credentials.password)throw new te.MongoMissingCredentialsError(`When using ${o.credentials.mechanism} password must be set when a username is specified`);o.credentials.validate(),o.credentials.password===""&&o.credentials.username===""&&o.credentials.mechanism===vs.AuthMechanism.MONGODB_DEFAULT&&Object.keys(o.credentials.mechanismProperties).length===0&&delete o.credentials}if(o.dbName||(o.dbName="test"),d6(s,o,i),e&&o.autoEncryption&&(ES.Encrypter.checkForMongoCrypt(),o.encrypter=new ES.Encrypter(e,t,r),o.autoEncrypter=o.encrypter.autoEncrypter),o.userSpecifiedAuthSource=a.has("authSource")||u.has("authSource"),o.userSpecifiedReplicaSet=a.has("replicaSet")||u.has("replicaSet"),i){if(o.srvHost=s[0],o.directConnection)throw new te.MongoAPIError("SRV URI does not support directConnection");if(o.srvMaxHosts>0&&typeof o.replicaSet=="string")throw new te.MongoParseError("Cannot use srvMaxHosts option with replicaSet");let E=!a.has("tls")&&!u.has("tls"),A=!a.has("ssl")&&!u.has("ssl");E&&A&&(o.tls=!0)}else if(u.has("srvMaxHosts")||a.has("srvMaxHosts")||u.has("srvServiceName")||a.has("srvServiceName"))throw new te.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string");if(o.directConnection&&o.hosts.length!==1)throw new te.MongoParseError("directConnection option requires exactly one host");if(!o.proxyHost&&(o.proxyPort||o.proxyUsername||o.proxyPassword))throw new te.MongoParseError("Must specify proxyHost if other proxy options are passed");if(o.proxyUsername&&!o.proxyPassword||!o.proxyUsername&&o.proxyPassword)throw new te.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map(E=>u.get(E)??[]).some(E=>E.length>1))throw new te.MongoParseError("Proxy options cannot be specified multiple times in the connection string");let m=Symbol.for("@@mdb.enableMongoLogger");o[m]=o[m]??!1;let g={},_={};return o[m]&&(g={MONGODB_LOG_COMMAND:process.env.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:process.env.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:process.env.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:process.env.MONGODB_LOG_CONNECTION,MONGODB_LOG_ALL:process.env.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:process.env.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:process.env.MONGODB_LOG_PATH,...o[Symbol.for("@@mdb.internalLoggerConfig")]},_={mongodbLogPath:o.mongodbLogPath}),o.mongoLoggerOptions=Fz.MongoLogger.resolveOptions(g,_),o.metadata=(0,Mz.makeClientMetadata)(o),o}Vt.parseOptions=qz;function d6(t,e,r){if(e.loadBalanced){if(t.length>1)throw new te.MongoParseError(Iz);if(e.replicaSet)throw new te.MongoParseError($z);if(e.directConnection)throw new te.MongoParseError(Nz);if(r&&e.srvMaxHosts>0)throw new te.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}}function AS(t,e,r,n){let{target:s,type:i,transform:o}=r,u=s??e;switch(i){case"boolean":t[u]=hi(u,n[0]);break;case"int":t[u]=p6(u,n[0]);break;case"uint":t[u]=M1(u,n[0]);break;case"string":if(n[0]==null)break;t[u]=String(n[0]);break;case"record":if(!(0,tr.isRecord)(n[0]))throw new te.MongoParseError(`${u} must be an object`);t[u]=n[0];break;case"any":t[u]=n[0];break;default:{if(!o)throw new te.MongoParseError("Descriptors missing a type must define a transform");let a=o({name:u,options:t,values:n});t[u]=a;break}}}Vt.OPTIONS={appName:{type:"string"},auth:{target:"credentials",transform({name:t,options:e,values:[r]}){if(!(0,tr.isRecord)(r,["username","password"]))throw new te.MongoParseError(`${t} must be an object with 'username' and 'password' properties`);return Da.MongoCredentials.merge(e.credentials,{username:r.username,password:r.password})}},authMechanism:{target:"credentials",transform({options:t,values:[e]}){let r=Object.values(vs.AuthMechanism),[n]=r.filter(o=>o.match(RegExp(String.raw`\b${e}\b`,"i")));if(!n)throw new te.MongoParseError(`authMechanism one of ${r}, got ${e}`);let s=t.credentials?.source;(n===vs.AuthMechanism.MONGODB_PLAIN||vs.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(n))&&(s="$external");let i=t.credentials?.password;return n===vs.AuthMechanism.MONGODB_X509&&i===""&&(i=void 0),Da.MongoCredentials.merge(t.credentials,{mechanism:n,source:s,password:i})}},authMechanismProperties:{target:"credentials",transform({options:t,values:e}){let r=Object.create(null);for(let n of e)if(typeof n=="string")for(let[s,i]of _S(n))try{r[s]=hi(s,i)}catch{r[s]=i}else{if(!(0,tr.isRecord)(n))throw new te.MongoParseError("AuthMechanismProperties must be an object");r={...n}}return Da.MongoCredentials.merge(t.credentials,{mechanismProperties:r})}},authSource:{target:"credentials",transform({options:t,values:[e]}){let r=String(e);return Da.MongoCredentials.merge(t.credentials,{source:r})}},autoEncryption:{type:"record"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[t]}){let e=typeof t=="string"?{version:t}:t,r=e&&e.version;if(!r)throw new te.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(Bd.ServerApiVersion).join('", "')}"]`);if(!Object.values(Bd.ServerApiVersion).some(n=>n===r))throw new te.MongoParseError(`Invalid server API version=${r}; must be in the following enum: ["${Object.values(Bd.ServerApiVersion).join('", "')}"]`);return e}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:t}){let e=new Set;for(let r of t){let n=typeof r=="string"?r.split(","):r;if(!Array.isArray(n))throw new te.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(let s of n)if(Object.keys(gS.Compressor).includes(String(s)))e.add(String(s));else throw new te.MongoInvalidArgumentError(`${s} is not a valid compression mechanism. Must be one of: ${Object.keys(gS.Compressor)}.`)}return[...e]}},connectTimeoutMS:{default:3e4,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{default:{},type:"record"},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:t,values:[e]}){let r=p6(t,e);if(r===4||r===6)return r;throw new te.MongoParseError(`Option 'family' must be 4 or 6 got ${r}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=fi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,fsync:hi(t,r)}});if(!n)throw new te.MongoParseError(`Unable to make a writeConcern from fsync=${r}`);return n}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=fi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,journal:hi(t,r)}});if(!n)throw new te.MongoParseError(`Unable to make a writeConcern from journal=${r}`);return n}},journal:{target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=fi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,journal:hi(t,r)}});if(!n)throw new te.MongoParseError(`Unable to make a writeConcern from journal=${r}`);return n}},keepAlive:{default:!0,type:"boolean",deprecated:"Will not be able to turn off in the future."},keepAliveInitialDelay:{default:12e4,type:"uint",deprecated:"Will not be configurable in the future."},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},maxConnecting:{default:2,transform({name:t,values:[e]}){let r=M1(t,e);if(r===0)throw new te.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return r}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:t,options:e,values:[r]}){let n=M1(t,r);return e.readPreference?ro.ReadPreference.fromOptions({readPreference:{...e.readPreference,maxStalenessSeconds:n}}):new ro.ReadPreference("secondary",void 0,{maxStalenessSeconds:n})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform({values:[t],options:e}){return{...e.driverInfo,name:String(t)}}},noDelay:{default:!0,type:"boolean"},pkFactory:{default:tr.DEFAULT_PK_FACTORY,transform({values:[t]}){if((0,tr.isRecord)(t,["createPk"])&&typeof t.createPk=="function")return t;throw new te.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${t}`)}},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},useBigInt64:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[t],options:e}){if(t instanceof f6.ReadConcern||(0,tr.isRecord)(t,["level"]))return f6.ReadConcern.fromOptions({...e.readConcern,...t});throw new te.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(t)}`)}},readConcernLevel:{target:"readConcern",transform({values:[t],options:e}){return f6.ReadConcern.fromOptions({...e.readConcern,level:t})}},readPreference:{default:ro.ReadPreference.primary,transform({values:[t],options:e}){if(t instanceof ro.ReadPreference)return ro.ReadPreference.fromOptions({readPreference:{...e.readPreference,...t},...t});if((0,tr.isRecord)(t,["mode"])){let r=ro.ReadPreference.fromOptions({readPreference:{...e.readPreference,...t},...t});if(r)return r;throw new te.MongoParseError(`Cannot make read preference from ${JSON.stringify(t)}`)}if(typeof t=="string"){let r={hedge:e.readPreference?.hedge,maxStalenessSeconds:e.readPreference?.maxStalenessSeconds};return new ro.ReadPreference(t,e.readPreference?.tags,r)}throw new te.MongoParseError(`Unknown ReadPreference value: ${t}`)}},readPreferenceTags:{target:"readPreference",transform({values:t,options:e}){let r=Array.isArray(t[0])?t[0]:t,n=[];for(let s of r){let i=Object.create(null);if(typeof s=="string")for(let[o,u]of _S(s))i[o]=u;if((0,tr.isRecord)(s))for(let[o,u]of Object.entries(s))i[o]=u;n.push(i)}return ro.ReadPreference.fromOptions({readPreference:e.readPreference,readPreferenceTags:n})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverSelectionTimeoutMS:{default:3e4,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},sslCA:{deprecated:"sslCA is deprecated and will be removed in the next major version. Please use tlsCAFile instead.",target:"ca",transform({values:[t]}){return Jo.readFileSync(String(t),{encoding:"ascii"})}},sslCRL:{deprecated:"sslCRL is deprecated and will be removed in the next major version and be replaced by tlsCRLFile in that release.",target:"crl",transform({values:[t]}){return Jo.readFileSync(String(t),{encoding:"ascii"})}},sslCert:{deprecated:"sslCert is deprecated and will be removed in the next major version. Please use tlsCertificateKeyFile instead.",target:"cert",transform({values:[t]}){return Jo.readFileSync(String(t),{encoding:"ascii"})}},sslKey:{deprecated:"sslKey is deprecated and will be removed in the next major version. Please use tlsCertificateKeyFile instead.",target:"key",transform({values:[t]}){return Jo.readFileSync(String(t),{encoding:"ascii"})}},sslPass:{deprecated:"sslPass is deprecated and will be removed in the next major version. Please use tlsCertificateKeyFilePassword instead.",target:"passphrase",type:"string"},sslValidate:{deprecated:"sslValidate is deprecated and will be removed in the next major version. Please use tlsAllowInvalidCertificates instead.",target:"rejectUnauthorized",type:"boolean"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform({name:t,values:[e]}){return!hi(t,e)}},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform({name:t,values:[e]}){return hi(t,e)?()=>{}:void 0}},tlsCAFile:{target:"ca",transform({values:[t]}){return Jo.readFileSync(String(t),{encoding:"ascii"})}},tlsCertificateFile:{deprecated:"tlsCertificateFile is deprecated and will be removed in the next major version. Please use tlsCertificateKeyFile instead.",target:"cert",transform({values:[t]}){return Jo.readFileSync(String(t),{encoding:"ascii"})}},tlsCertificateKeyFile:{target:"key",transform({values:[t]}){return Jo.readFileSync(String(t),{encoding:"ascii"})}},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:t,options:e,values:[r]}){let n=hi(t,r);return n?(e.checkServerIdentity=()=>{},e.rejectUnauthorized=!1):(e.checkServerIdentity=e.tlsAllowInvalidHostnames?()=>{}:void 0,e.rejectUnauthorized=!e.tlsAllowInvalidCertificates),n}},w:{target:"writeConcern",transform({values:[t],options:e}){return fi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,w:t}})}},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[t],options:e}){if((0,tr.isRecord)(t)||t instanceof fi.WriteConcern)return fi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,...t}});if(t==="majority"||typeof t=="number")return fi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,w:t}});throw new te.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(t)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[t],options:e}){let r=fi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,wtimeout:M1("wtimeout",t)}});if(r)return r;throw new te.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[t],options:e}){let r=fi.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,wtimeoutMS:M1("wtimeoutMS",t)}});if(r)return r;throw new te.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},connectionType:{type:"any"},srvPoller:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean"},useUnifiedTopology:{type:"boolean"},mongodbLogPath:{type:"any"}};Vt.DEFAULT_OPTIONS=new Ba(Object.entries(Vt.OPTIONS).filter(([,t])=>t.default!=null).map(([t,e])=>[t,e.default]));Vt.FEATURE_FLAGS=new Set([Symbol.for("@@mdb.skipPingOnConnect"),Symbol.for("@@mdb.enableMongoLogger"),Symbol.for("@@mdb.internalLoggerConfig")])});var Td=y(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.ServerHeartbeatFailedEvent=Pt.ServerHeartbeatSucceededEvent=Pt.ServerHeartbeatStartedEvent=Pt.TopologyClosedEvent=Pt.TopologyOpeningEvent=Pt.TopologyDescriptionChangedEvent=Pt.ServerClosedEvent=Pt.ServerOpeningEvent=Pt.ServerDescriptionChangedEvent=void 0;var y6=class{constructor(e,r,n,s){this.topologyId=e,this.address=r,this.previousDescription=n,this.newDescription=s}};Pt.ServerDescriptionChangedEvent=y6;var g6=class{constructor(e,r){this.topologyId=e,this.address=r}};Pt.ServerOpeningEvent=g6;var E6=class{constructor(e,r){this.topologyId=e,this.address=r}};Pt.ServerClosedEvent=E6;var _6=class{constructor(e,r,n){this.topologyId=e,this.previousDescription=r,this.newDescription=n}};Pt.TopologyDescriptionChangedEvent=_6;var A6=class{constructor(e){this.topologyId=e}};Pt.TopologyOpeningEvent=A6;var O6=class{constructor(e){this.topologyId=e}};Pt.TopologyClosedEvent=O6;var C6=class{constructor(e){this.connectionId=e}};Pt.ServerHeartbeatStartedEvent=C6;var S6=class{constructor(e,r,n){this.connectionId=e,this.duration=r,this.reply=n??{}}};Pt.ServerHeartbeatSucceededEvent=S6;var w6=class{constructor(e,r,n){this.connectionId=e,this.duration=r,this.failure=n}};Pt.ServerHeartbeatFailedEvent=w6});var Pd=y(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.BinMsg=ks.Msg=ks.Response=ks.Query=void 0;var no=pt(),I1=Q(),Lz=It(),jz=ne(),F1=xo(),Ta=0,Uz=2,Vz=4,Wz=8,zz=16,Hz=32,Gz=64,Kz=128,Yz=1,Qz=2,Jz=4,Xz=8,b6=class t{constructor(e,r,n){if(e==null)throw new I1.MongoRuntimeError("Namespace must be specified for query");if(r==null)throw new I1.MongoRuntimeError("A query document must be specified for query");if(e.indexOf("\0")!==-1)throw new I1.MongoRuntimeError("Namespace cannot contain a null character");this.ns=e,this.query=r,this.numberToSkip=n.numberToSkip||0,this.numberToReturn=n.numberToReturn||0,this.returnFieldSelector=n.returnFieldSelector||void 0,this.requestId=t.getRequestId(),this.pre32Limit=n.pre32Limit,this.serializeFunctions=typeof n.serializeFunctions=="boolean"?n.serializeFunctions:!1,this.ignoreUndefined=typeof n.ignoreUndefined=="boolean"?n.ignoreUndefined:!1,this.maxBsonSize=n.maxBsonSize||1024*1024*16,this.checkKeys=typeof n.checkKeys=="boolean"?n.checkKeys:!1,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk=typeof n.secondaryOk=="boolean"?n.secondaryOk:!1,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=Ta++}nextRequestId(){return Ta+1}static getRequestId(){return++Ta}toBin(){let e=[],r=null,n=0;this.tailable&&(n|=Uz),this.secondaryOk&&(n|=Vz),this.oplogReplay&&(n|=Wz),this.noCursorTimeout&&(n|=zz),this.awaitData&&(n|=Hz),this.exhaust&&(n|=Gz),this.partial&&(n|=Kz),this.batchSize!==this.numberToReturn&&(this.numberToReturn=this.batchSize);let s=Buffer.alloc(4*4+4+Buffer.byteLength(this.ns)+1+4+4);e.push(s);let i=no.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(i),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(r=no.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),e.push(r));let o=s.length+i.length+(r?r.length:0),u=4;return s[3]=o>>24&255,s[2]=o>>16&255,s[1]=o>>8&255,s[0]=o&255,s[u+3]=this.requestId>>24&255,s[u+2]=this.requestId>>16&255,s[u+1]=this.requestId>>8&255,s[u]=this.requestId&255,u=u+4,s[u+3]=0,s[u+2]=0,s[u+1]=0,s[u]=0,u=u+4,s[u+3]=F1.OP_QUERY>>24&255,s[u+2]=F1.OP_QUERY>>16&255,s[u+1]=F1.OP_QUERY>>8&255,s[u]=F1.OP_QUERY&255,u=u+4,s[u+3]=n>>24&255,s[u+2]=n>>16&255,s[u+1]=n>>8&255,s[u]=n&255,u=u+4,u=u+s.write(this.ns,u,"utf8")+1,s[u-1]=0,s[u+3]=this.numberToSkip>>24&255,s[u+2]=this.numberToSkip>>16&255,s[u+1]=this.numberToSkip>>8&255,s[u]=this.numberToSkip&255,u=u+4,s[u+3]=this.numberToReturn>>24&255,s[u+2]=this.numberToReturn>>16&255,s[u+1]=this.numberToReturn>>8&255,s[u]=this.numberToReturn&255,u=u+4,e}};ks.Query=b6;var D6=class{constructor(e,r,n,s){this.documents=new Array(0),this.parsed=!1,this.raw=e,this.data=n,this.opts=s??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=r.length,this.requestId=r.requestId,this.responseTo=r.responseTo,this.opCode=r.opCode,this.fromCompressed=r.fromCompressed,this.useBigInt64=typeof this.opts.useBigInt64=="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs=="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues=="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers=="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp=="boolean"?this.opts.bsonRegExp:!1}isParsed(){return this.parsed}parse(e){if(this.parsed)return;e=e??{};let r=e.raw||!1,n=e.documentsReturnedIn||null,s=e.useBigInt64??this.opts.useBigInt64,i=e.promoteLongs??this.opts.promoteLongs,o=e.promoteValues??this.opts.promoteValues,u=e.promoteBuffers??this.opts.promoteBuffers,a=e.bsonRegExp??this.opts.bsonRegExp,c,l={useBigInt64:s,promoteLongs:i,promoteValues:o,promoteBuffers:u,bsonRegExp:a};this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new no.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=(this.responseFlags&Yz)!==0,this.queryFailure=(this.responseFlags&Qz)!==0,this.shardConfigStale=(this.responseFlags&Jz)!==0,this.awaitCapable=(this.responseFlags&Xz)!==0;for(let f=0;f<this.numberReturned;f++)c=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,r?this.documents[f]=this.data.slice(this.index,this.index+c):this.documents[f]=no.deserialize(this.data.slice(this.index,this.index+c),l),this.index=this.index+c;if(this.documents.length===1&&n!=null&&r){let f={};f[n]=!0,l.fieldsAsRaw=f;let h=no.deserialize(this.documents[0],l);this.documents=[h]}this.parsed=!0}};ks.Response=D6;var OS=1,CS=2,SS=65536,B6=class t{constructor(e,r,n){if(r==null)throw new I1.MongoInvalidArgumentError("Query document must be specified for query");this.ns=e,this.command=r,this.command.$db=(0,jz.databaseNamespace)(e),n.readPreference&&n.readPreference.mode!==Lz.ReadPreference.PRIMARY&&(this.command.$readPreference=n.readPreference.toJSON()),this.options=n??{},this.requestId=n.requestId?n.requestId:t.getRequestId(),this.serializeFunctions=typeof n.serializeFunctions=="boolean"?n.serializeFunctions:!1,this.ignoreUndefined=typeof n.ignoreUndefined=="boolean"?n.ignoreUndefined:!1,this.checkKeys=typeof n.checkKeys=="boolean"?n.checkKeys:!1,this.maxBsonSize=n.maxBsonSize||1024*1024*16,this.checksumPresent=!1,this.moreToCome=n.moreToCome||!1,this.exhaustAllowed=typeof n.exhaustAllowed=="boolean"?n.exhaustAllowed:!1}toBin(){let e=[],r=0;this.checksumPresent&&(r|=OS),this.moreToCome&&(r|=CS),this.exhaustAllowed&&(r|=SS);let n=Buffer.alloc(4*4+4);e.push(n);let s=n.length,i=this.command;return s+=this.makeDocumentSegment(e,i),n.writeInt32LE(s,0),n.writeInt32LE(this.requestId,4),n.writeInt32LE(0,8),n.writeInt32LE(F1.OP_MSG,12),n.writeUInt32LE(r,16),e}makeDocumentSegment(e,r){let n=Buffer.alloc(1);n[0]=0;let s=this.serializeBson(r);return e.push(n),e.push(s),n.length+s.length}serializeBson(e){return no.serialize(e,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return Ta=Ta+1&2147483647,Ta}};ks.Msg=B6;var T6=class{constructor(e,r,n,s){this.parsed=!1,this.raw=e,this.data=n,this.opts=s??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=r.length,this.requestId=r.requestId,this.responseTo=r.responseTo,this.opCode=r.opCode,this.fromCompressed=r.fromCompressed,this.responseFlags=n.readInt32LE(0),this.checksumPresent=(this.responseFlags&OS)!==0,this.moreToCome=(this.responseFlags&CS)!==0,this.exhaustAllowed=(this.responseFlags&SS)!==0,this.useBigInt64=typeof this.opts.useBigInt64=="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs=="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues=="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers=="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp=="boolean"?this.opts.bsonRegExp:!1,this.documents=[]}isParsed(){return this.parsed}parse(e){if(this.parsed)return;e=e??{},this.index=4;let r=e.raw||!1,n=e.documentsReturnedIn||null,s=e.useBigInt64??this.opts.useBigInt64,i=e.promoteLongs??this.opts.promoteLongs,o=e.promoteValues??this.opts.promoteValues,u=e.promoteBuffers??this.opts.promoteBuffers,a=e.bsonRegExp??this.opts.bsonRegExp,c=this.parseBsonSerializationOptions(e),l={useBigInt64:s,promoteLongs:i,promoteValues:o,promoteBuffers:u,bsonRegExp:a,validation:c};for(;this.index<this.data.length;){let f=this.data.readUInt8(this.index++);if(f===0){let h=this.data.readUInt32LE(this.index),d=this.data.slice(this.index,this.index+h);this.documents.push(r?d:no.deserialize(d,l)),this.index+=h}else if(f===1)throw new I1.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}if(this.documents.length===1&&n!=null&&r){let f={};f[n]=!0,l.fieldsAsRaw=f;let h=no.deserialize(this.documents[0],l);this.documents=[h]}this.parsed=!0}parseBsonSerializationOptions({enableUtf8Validation:e}){return e===!1?{utf8:!1}:{utf8:{writeErrors:!1}}}};ks.BinMsg=T6});var x6=y(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.SENSITIVE_COMMANDS=xn.CommandFailedEvent=xn.CommandSucceededEvent=xn.CommandStartedEvent=void 0;var $1=kt(),os=ne(),DS=Pd(),P6=class{constructor(e,r){this.name=$1.COMMAND_STARTED;let n=N6(r),s=I6(n),{address:i,connectionId:o,serviceId:u}=R6(e);xn.SENSITIVE_COMMANDS.has(s)&&(this.commandObj={},this.commandObj[s]=!0),this.address=i,this.connectionId=o,this.serviceId=u,this.requestId=r.requestId,this.databaseName=tH(r),this.commandName=s,this.command=$6(s,n,n)}get hasServiceId(){return!!this.serviceId}};xn.CommandStartedEvent=P6;var M6=class{constructor(e,r,n,s){this.name=$1.COMMAND_SUCCEEDED;let i=N6(r),o=I6(i),{address:u,connectionId:a,serviceId:c}=R6(e);this.address=u,this.connectionId=a,this.serviceId=c,this.requestId=r.requestId,this.commandName=o,this.duration=(0,os.calculateDurationInMs)(s),this.reply=$6(o,i,sH(r,n))}get hasServiceId(){return!!this.serviceId}};xn.CommandSucceededEvent=M6;var F6=class{constructor(e,r,n,s){this.name=$1.COMMAND_FAILED;let i=N6(r),o=I6(i),{address:u,connectionId:a,serviceId:c}=R6(e);this.address=u,this.connectionId=a,this.serviceId=c,this.requestId=r.requestId,this.commandName=o,this.duration=(0,os.calculateDurationInMs)(s),this.failure=$6(o,i,n)}get hasServiceId(){return!!this.serviceId}};xn.CommandFailedEvent=F6;xn.SENSITIVE_COMMANDS=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]);var Zz=new Set(["hello",$1.LEGACY_HELLO_COMMAND,$1.LEGACY_HELLO_COMMAND_CAMEL_CASE]),I6=t=>Object.keys(t)[0],eH=t=>t.ns,tH=t=>t.ns.split(".")[0],rH=t=>t.ns.split(".")[1],$6=(t,e,r)=>xn.SENSITIVE_COMMANDS.has(t)||Zz.has(t)&&e.speculativeAuthenticate?{}:r,wS={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},bS={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"},nH=["tailable","oplogReplay","noCursorTimeout","awaitData","partial","exhaust"];function N6(t){if(t instanceof DS.Msg)return(0,os.deepCopy)(t.command);if(t.query?.$query){let n;return t.ns==="admin.$cmd"?n=Object.assign({},t.query.$query):(n={find:rH(t)},Object.keys(wS).forEach(s=>{t.query[s]!=null&&(n[wS[s]]=(0,os.deepCopy)(t.query[s]))})),Object.keys(bS).forEach(s=>{let i=s;t[i]!=null&&(n[bS[i]]=(0,os.deepCopy)(t[i]))}),nH.forEach(s=>{t[s]&&(n[s]=t[s])}),t.pre32Limit!=null&&(n.limit=t.pre32Limit),t.query.$explain?{explain:n}:n}let e={},r={};if(t.query){for(let n in t.query)e[n]=(0,os.deepCopy)(t.query[n]);r.query=e}for(let n in t)n!=="query"&&(r[n]=(0,os.deepCopy)(t[n]));return t.query?e:r}function sH(t,e){return e&&(t instanceof DS.Msg?(0,os.deepCopy)(e.result?e.result:e):t.query&&t.query.$query!=null?{ok:1,cursor:{id:(0,os.deepCopy)(e.cursorId),ns:eH(t),firstBatch:(0,os.deepCopy)(e.documents)}}:(0,os.deepCopy)(e.result?e.result:e))}function R6(t){let e;return"id"in t&&(e=t.id),{address:t.address,serviceId:t.serviceId,connectionId:e}}});var TS=y($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.MessageStream=void 0;var iH=require("stream"),v6=Q(),oH=ne(),N1=Pd(),Id=bd(),Md=xo(),so=16,BS=9,uH=1024*1024*16*4,Fd=Symbol("buffer"),k6=class extends iH.Duplex{constructor(e={}){super(e),this.isMonitoringConnection=!1,this.maxBsonMessageSize=e.maxBsonMessageSize||uH,this[Fd]=new oH.BufferPool}get buffer(){return this[Fd]}_write(e,r,n){this[Fd].append(e),R1(this,n)}_read(){}writeCommand(e,r){let n=r.agreedCompressor??"none";if(n==="none"||!aH(e)){let a=e.toBin();this.push(Array.isArray(a)?Buffer.concat(a):a);return}let s=Buffer.concat(e.toBin()),i=s.slice(so),o=s.readInt32LE(12),u={agreedCompressor:n,zlibCompressionLevel:r.zlibCompressionLevel??0};(0,Id.compress)(u,i).then(a=>{let c=Buffer.alloc(so);c.writeInt32LE(so+BS+a.length,0),c.writeInt32LE(e.requestId,4),c.writeInt32LE(0,8),c.writeInt32LE(Md.OP_COMPRESSED,12);let l=Buffer.alloc(BS);l.writeInt32LE(o,0),l.writeInt32LE(i.length,4),l.writeUInt8(Id.Compressor[n],8),this.push(Buffer.concat([c,l,a]))},a=>{r.cb(a)})}};$d.MessageStream=k6;function aH(t){let e=t instanceof N1.Msg?t.command:t.query,r=Object.keys(e)[0];return!Id.uncompressibleCommands.has(r)}function R1(t,e){let r=t[Fd],n=r.getInt32();if(n==null)return e();if(n<0)return e(new v6.MongoParseError(`Invalid message size: ${n}`));if(n>t.maxBsonMessageSize)return e(new v6.MongoParseError(`Invalid message size: ${n}, max allowed: ${t.maxBsonMessageSize}`));if(n>r.length)return e();let s=r.read(n),i={length:s.readInt32LE(0),requestId:s.readInt32LE(4),responseTo:s.readInt32LE(8),opCode:s.readInt32LE(12)},o=()=>{if(t.isMonitoringConnection){let l=r.getInt32();if(l!=null&&l<=r.length)return!0}return!1},u=i.opCode===Md.OP_MSG?N1.BinMsg:N1.Response;if(i.opCode!==Md.OP_COMPRESSED){let l=s.subarray(so);return o()||(t.emit("message",new u(s,i,l)),r.length>=4)?R1(t,e):e()}i.fromCompressed=!0,i.opCode=s.readInt32LE(so),i.length=s.readInt32LE(so+4);let a=s[so+8],c=s.slice(so+9);u=i.opCode===Md.OP_MSG?N1.BinMsg:N1.Response,(0,Id.decompress)(a,c).then(l=>l.length!==i.length?e(new v6.MongoDecompressionError("Message body and message header must be the same length")):o()||(t.emit("message",new u(s,i,l)),r.length>=4)?R1(t,e):e(),l=>e(l))}});var PS=y(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.StreamDescription=void 0;var cH=Dn(),lH=o1(),fH=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"],q6=class{constructor(e,r){this.address=e,this.type=cH.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48e6,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=r?.logicalSessionTimeoutMinutes,this.loadBalanced=!!r?.loadBalanced,this.compressors=r&&r.compressors&&Array.isArray(r.compressors)?r.compressors:[]}receiveResponse(e){if(e!=null){this.type=(0,lH.parseServerType)(e);for(let r of fH)e[r]!=null&&(this[r]=e[r]),"__nodejs_mock_server__"in e&&(this.__nodejs_mock_server__=e.__nodejs_mock_server__);e.compression&&(this.compressor=this.compressors.filter(r=>e.compression?.includes(r))[0])}}};Nd.StreamDescription=q6});var x1=y(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.hasSessionSupport=oo.CryptoConnection=oo.Connection=void 0;var MS=require("timers"),hH=require("util"),uo=kt(),Ls=Q(),dH=ln(),FS=a1(),io=ne(),Rd=x6(),IS=Pd(),pH=TS(),mH=PS(),$S=Fy(),rr=Symbol("stream"),us=Symbol("queue"),qs=Symbol("messageStream"),L6=Symbol("generation"),j6=Symbol("lastUseTime"),U6=Symbol("clusterTime"),js=Symbol("description"),V6=Symbol("hello"),NS=Symbol("autoEncrypter"),xd=Symbol("delayedTimeoutId"),yH="Connection internal queue contains more than 1 operation description",Sr=class t extends dH.TypedEventEmitter{constructor(e,r){super(),this.commandAsync=(0,hH.promisify)((n,s,i,o)=>this.command(n,s,i,o)),this.id=r.id,this.address=EH(e,r),this.socketTimeoutMS=r.socketTimeoutMS??0,this.monitorCommands=r.monitorCommands,this.serverApi=r.serverApi,this.closed=!1,this[V6]=null,this[U6]=null,this[js]=new mH.StreamDescription(this.address,r),this[L6]=r.generation,this[j6]=(0,io.now)(),this[us]=new Map,this[qs]=new pH.MessageStream({...r,maxBsonMessageSize:this.hello?.maxBsonMessageSize}),this[rr]=e,this[xd]=null,this[qs].on("message",n=>this.onMessage(n)),this[qs].on("error",n=>this.onError(n)),this[rr].on("close",()=>this.onClose()),this[rr].on("timeout",()=>this.onTimeout()),this[rr].on("error",()=>{}),this[rr].pipe(this[qs]),this[qs].pipe(this[rr])}get description(){return this[js]}get hello(){return this[V6]}set hello(e){this[js].receiveResponse(e),this[js]=Object.freeze(this[js]),this[V6]=e}set isMonitoringConnection(e){this[qs].isMonitoringConnection=e}get isMonitoringConnection(){return this[qs].isMonitoringConnection}get serviceId(){return this.hello?.serviceId}get loadBalanced(){return this.description.loadBalanced}get generation(){return this[L6]||0}set generation(e){this[L6]=e}get idleTime(){return(0,io.calculateDurationInMs)(this[j6])}get clusterTime(){return this[U6]}get stream(){return this[rr]}markAvailable(){this[j6]=(0,io.now)()}onError(e){this.cleanup(!0,e)}onClose(){let e=`connection ${this.id} to ${this.address} closed`;this.cleanup(!0,new Ls.MongoNetworkError(e))}onTimeout(){this[xd]=(0,MS.setTimeout)(()=>{let e=`connection ${this.id} to ${this.address} timed out`,r=this.hello==null;this.cleanup(!0,new Ls.MongoNetworkTimeoutError(e,{beforeHandshake:r}))},1).unref()}onMessage(e){let r=this[xd];r!=null&&((0,MS.clearTimeout)(r),this[xd]=null);let n=this[rr].timeout??0;this[rr].setTimeout(0),this.emit("message",e);let s=this[us].get(e.responseTo);if(!s&&this.isMonitoringConnection)if(this[us].size>1)this.cleanup(!0,new Ls.MongoRuntimeError(yH));else{let o=this[us].entries().next();if(o.value!=null){let[u,a]=o.value;s=a,this[us].delete(u)}}if(!s)return;let i=s.cb;this[us].delete(e.responseTo),"moreToCome"in e&&e.moreToCome&&(this[us].set(e.requestId,s),this[rr].setTimeout(n));try{e.parse(s)}catch(o){i(o);return}if(e.documents[0]){let o=e.documents[0],u=s.session;if(u&&(0,FS.updateSessionFromResponse)(u,o),o.$clusterTime&&(this[U6]=o.$clusterTime,this.emit(t.CLUSTER_TIME_RECEIVED,o.$clusterTime)),o.writeConcernError){i(new Ls.MongoWriteConcernError(o.writeConcernError,o),o);return}if(o.ok===0||o.$err||o.errmsg||o.code){i(new Ls.MongoServerError(o));return}}i(void 0,e.documents[0])}destroy(e,r){if(this.closed){process.nextTick(()=>r?.());return}typeof r=="function"&&this.once("close",()=>process.nextTick(()=>r())),this.removeAllListeners(t.PINNED),this.removeAllListeners(t.UNPINNED);let n=`connection ${this.id} to ${this.address} closed`;this.cleanup(e.force,new Ls.MongoNetworkError(n))}cleanup(e,r){if(this.closed)return;this.closed=!0;let n=()=>{for(let s of this[us].values())s.cb(r);this[us].clear(),this.emit(t.CLOSE)};if(this[rr].removeAllListeners(),this[qs].removeAllListeners(),this[qs].destroy(),e){this[rr].destroy(),n();return}this[rr].writableEnded?n():this[rr].end(()=>{this[rr].destroy(),n()})}command(e,r,n,s){let i={...r},o=(0,$S.getReadPreference)(n),u=gH(this),a=n?.session,c=this.clusterTime;if(this.serverApi){let{version:d,strict:p,deprecationErrors:m}=this.serverApi;i.apiVersion=d,p!=null&&(i.apiStrict=p),m!=null&&(i.apiDeprecationErrors=m)}if(RS(this)&&a){a.clusterTime&&c&&a.clusterTime.clusterTime.greaterThan(c.clusterTime)&&(c=a.clusterTime);let d=(0,FS.applySession)(a,i,n);if(d)return s(d)}else if(a?.explicit)return s(new Ls.MongoCompatibilityError("Current topology does not support sessions"));c&&(i.$clusterTime=c),(0,$S.isSharded)(this)&&!u&&o&&o.mode!=="primary"&&(i={$query:i,$readPreference:o.toJSON()});let l=Object.assign({numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:o.secondaryOk()},n),f=`${e.db}.$cmd`,h=u?new IS.Msg(f,i,l):new IS.Query(f,i,l);try{_H(this,h,l,s)}catch(d){s(d)}}};Sr.COMMAND_STARTED=uo.COMMAND_STARTED;Sr.COMMAND_SUCCEEDED=uo.COMMAND_SUCCEEDED;Sr.COMMAND_FAILED=uo.COMMAND_FAILED;Sr.CLUSTER_TIME_RECEIVED=uo.CLUSTER_TIME_RECEIVED;Sr.CLOSE=uo.CLOSE;Sr.MESSAGE=uo.MESSAGE;Sr.PINNED=uo.PINNED;Sr.UNPINNED=uo.UNPINNED;oo.Connection=Sr;var W6=class extends Sr{constructor(e,r){super(e,r),this[NS]=r.autoEncrypter}command(e,r,n,s){let i=this[NS];if(!i)return s(new Ls.MongoMissingDependencyError("No AutoEncrypter available for encryption"));let o=(0,io.maxWireVersion)(this);if(o===0)return super.command(e,r,n,s);if(o<8){s(new Ls.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2"));return}let u=r.find||r.findAndModify?r.sort:null,a=r.createIndexes?r.indexes.map(c=>c.key):null;i.encrypt(e.toString(),r,n,(c,l)=>{if(c||l==null){s(c,null);return}if(u!=null&&(r.find||r.findAndModify)&&(l.sort=u),a!=null&&r.createIndexes)for(let[f,h]of a.entries())l.indexes[f].key=h;super.command(e,l,n,(f,h)=>{if(f||h==null){s(f,h);return}i.decrypt(h,n,s)})})}};oo.CryptoConnection=W6;function RS(t){return t.description.logicalSessionTimeoutMinutes!=null}oo.hasSessionSupport=RS;function gH(t){let e=t.description;return e==null?!1:(0,io.maxWireVersion)(t)>=6&&!e.__nodejs_mock_server__}function EH(t,e){if(e.proxyHost)return e.hostAddress.toString();let{remoteAddress:r,remotePort:n}=t;return typeof r=="string"&&typeof n=="number"?io.HostAddress.fromHostPort(r,n).toString():(0,io.uuidV4)().toString("hex")}function _H(t,e,r,n){r=r??{};let s={requestId:e.requestId,cb:n,session:r.session,noResponse:typeof r.noResponse=="boolean"?r.noResponse:!1,documentsReturnedIn:r.documentsReturnedIn,useBigInt64:typeof r.useBigInt64=="boolean"?r.useBigInt64:!1,promoteLongs:typeof r.promoteLongs=="boolean"?r.promoteLongs:!0,promoteValues:typeof r.promoteValues=="boolean"?r.promoteValues:!0,promoteBuffers:typeof r.promoteBuffers=="boolean"?r.promoteBuffers:!1,bsonRegExp:typeof r.bsonRegExp=="boolean"?r.bsonRegExp:!1,enableUtf8Validation:typeof r.enableUtf8Validation=="boolean"?r.enableUtf8Validation:!0,raw:typeof r.raw=="boolean"?r.raw:!1,started:0};t[js]&&t[js].compressor&&(s.agreedCompressor=t[js].compressor,t[js].zlibCompressionLevel&&(s.zlibCompressionLevel=t[js].zlibCompressionLevel)),typeof r.socketTimeoutMS=="number"?t[rr].setTimeout(r.socketTimeoutMS):t.socketTimeoutMS!==0&&t[rr].setTimeout(t.socketTimeoutMS),t.monitorCommands&&(t.emit(Sr.COMMAND_STARTED,new Rd.CommandStartedEvent(t,e)),s.started=(0,io.now)(),s.cb=(i,o)=>{i&&o?.ok!==1?t.emit(Sr.COMMAND_FAILED,new Rd.CommandFailedEvent(t,e,i,s.started)):o&&(o.ok===0||o.$err)?t.emit(Sr.COMMAND_FAILED,new Rd.CommandFailedEvent(t,e,o,s.started)):t.emit(Sr.COMMAND_SUCCEEDED,new Rd.CommandSucceededEvent(t,e,o,s.started)),typeof n=="function"&&n(i,i instanceof Ls.MongoWriteConcernError?void 0:o)}),s.noResponse||t[us].set(s.requestId,s);try{t[qs].writeCommand(e,s)}catch(i){if(!s.noResponse){t[us].delete(s.requestId),s.cb(i);return}}s.noResponse&&s.cb()}});var vS=y(xS=>{var se=xS,{Buffer:vd}=require("buffer"),AH=require("os");se.toBuffer=function(t,e,r){r=~~r;let n;if(this.isV4Format(t))n=e||vd.alloc(r+4),t.split(/\./g).map(s=>{n[r++]=parseInt(s,10)&255});else if(this.isV6Format(t)){let s=t.split(":",8),i;for(i=0;i<s.length;i++){let o=this.isV4Format(s[i]),u;o&&(u=this.toBuffer(s[i]),s[i]=u.slice(0,2).toString("hex")),u&&++i<8&&s.splice(i,0,u.slice(2,4).toString("hex"))}if(s[0]==="")for(;s.length<8;)s.unshift("0");else if(s[s.length-1]==="")for(;s.length<8;)s.push("0");else if(s.length<8){for(i=0;i<s.length&&s[i]!=="";i++);let o=[i,1];for(i=9-s.length;i>0;i--)o.push("0");s.splice(...o)}for(n=e||vd.alloc(r+16),i=0;i<s.length;i++){let o=parseInt(s[i],16);n[r++]=o>>8&255,n[r++]=o&255}}if(!n)throw Error(`Invalid ip address: ${t}`);return n};se.toString=function(t,e,r){e=~~e,r=r||t.length-e;let n=[];if(r===4){for(let s=0;s<r;s++)n.push(t[e+s]);n=n.join(".")}else if(r===16){for(let s=0;s<r;s+=2)n.push(t.readUInt16BE(e+s).toString(16));n=n.join(":"),n=n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),n=n.replace(/:{3,4}/,"::")}return n};var OH=/^(\d{1,3}\.){3,3}\d{1,3}$/,CH=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;se.isV4Format=function(t){return OH.test(t)};se.isV6Format=function(t){return CH.test(t)};function v1(t){return t===4?"ipv4":t===6?"ipv6":t?t.toLowerCase():"ipv4"}se.fromPrefixLen=function(t,e){t>32?e="ipv6":e=v1(e);let r=4;e==="ipv6"&&(r=16);let n=vd.alloc(r);for(let s=0,i=n.length;s<i;++s){let o=8;t<8&&(o=t),t-=o,n[s]=~(255>>o)&255}return se.toString(n)};se.mask=function(t,e){t=se.toBuffer(t),e=se.toBuffer(e);let r=vd.alloc(Math.max(t.length,e.length)),n;if(t.length===e.length)for(n=0;n<t.length;n++)r[n]=t[n]&e[n];else if(e.length===4)for(n=0;n<e.length;n++)r[n]=t[t.length-4+n]&e[n];else{for(n=0;n<r.length-6;n++)r[n]=0;for(r[10]=255,r[11]=255,n=0;n<t.length;n++)r[n+12]=t[n]&e[n+12];n+=12}for(;n<r.length;n++)r[n]=0;return se.toString(r)};se.cidr=function(t){let e=t.split("/"),r=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${r}`);let n=se.fromPrefixLen(parseInt(e[1],10));return se.mask(r,n)};se.subnet=function(t,e){let r=se.toLong(se.mask(t,e)),n=se.toBuffer(e),s=0;for(let o=0;o<n.length;o++)if(n[o]===255)s+=8;else{let u=n[o]&255;for(;u;)u=u<<1&255,s++}let i=2**(32-s);return{networkAddress:se.fromLong(r),firstAddress:i<=2?se.fromLong(r):se.fromLong(r+1),lastAddress:i<=2?se.fromLong(r+i-1):se.fromLong(r+i-2),broadcastAddress:se.fromLong(r+i-1),subnetMask:e,subnetMaskLength:s,numHosts:i<=2?i:i-2,length:i,contains(o){return r===se.toLong(se.mask(o,e))}}};se.cidrSubnet=function(t){let e=t.split("/"),r=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${r}`);let n=se.fromPrefixLen(parseInt(e[1],10));return se.subnet(r,n)};se.not=function(t){let e=se.toBuffer(t);for(let r=0;r<e.length;r++)e[r]=255^e[r];return se.toString(e)};se.or=function(t,e){if(t=se.toBuffer(t),e=se.toBuffer(e),t.length===e.length){for(let i=0;i<t.length;++i)t[i]|=e[i];return se.toString(t)}let r=t,n=e;e.length>t.length&&(r=e,n=t);let s=r.length-n.length;for(let i=s;i<r.length;++i)r[i]|=n[i-s];return se.toString(r)};se.isEqual=function(t,e){if(t=se.toBuffer(t),e=se.toBuffer(e),t.length===e.length){for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}if(e.length===4){let n=e;e=t,t=n}for(let n=0;n<10;n++)if(e[n]!==0)return!1;let r=e.readUInt16BE(10);if(r!==0&&r!==65535)return!1;for(let n=0;n<4;n++)if(t[n]!==e[n+12])return!1;return!0};se.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)};se.isPublic=function(t){return!se.isPrivate(t)};se.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)};se.loopback=function(t){if(t=v1(t),t!=="ipv4"&&t!=="ipv6")throw new Error("family must be ipv4 or ipv6");return t==="ipv4"?"127.0.0.1":"fe80::1"};se.address=function(t,e){let r=AH.networkInterfaces();if(e=v1(e),t&&t!=="private"&&t!=="public"){let s=r[t].filter(i=>v1(i.family)===e);return s.length===0?void 0:s[0].address}let n=Object.keys(r).map(s=>{let i=r[s].filter(o=>(o.family=v1(o.family),o.family!==e||se.isLoopback(o.address)?!1:t?t==="public"?se.isPrivate(o.address):se.isPublic(o.address):!0));return i.length?i[0].address:void 0}).filter(Boolean);return n.length?n[0]:se.loopback(e)};se.toLong=function(t){let e=0;return t.split(".").forEach(r=>{e<<=8,e+=parseInt(r)}),e>>>0};se.fromLong=function(t){return`${t>>>24}.${t>>16&255}.${t>>8&255}.${t&255}`}});var jS=y(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var kS=require("buffer"),Xo={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};di.ERRORS=Xo;function SH(t){if(!kS.Buffer.isEncoding(t))throw new Error(Xo.INVALID_ENCODING)}di.checkEncoding=SH;function qS(t){return typeof t=="number"&&isFinite(t)&&BH(t)}di.isFiniteInteger=qS;function LS(t,e){if(typeof t=="number"){if(!qS(t)||t<0)throw new Error(e?Xo.INVALID_OFFSET:Xo.INVALID_LENGTH)}else throw new Error(e?Xo.INVALID_OFFSET_NON_NUMBER:Xo.INVALID_LENGTH_NON_NUMBER)}function wH(t){LS(t,!1)}di.checkLengthValue=wH;function bH(t){LS(t,!0)}di.checkOffsetValue=bH;function DH(t,e){if(t<0||t>e.length)throw new Error(Xo.INVALID_TARGET_OFFSET)}di.checkTargetOffset=DH;function BH(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function TH(t){if(typeof BigInt>"u")throw new Error("Platform does not support JS BigInt type.");if(typeof kS.Buffer.prototype[t]>"u")throw new Error(`Platform does not support Buffer.prototype.${t}.`)}di.bigIntAndBufferInt64Check=TH});var VS=y(H6=>{"use strict";Object.defineProperty(H6,"__esModule",{value:!0});var ge=jS(),US=4096,PH="utf8",z6=class t{constructor(e){if(this.length=0,this._encoding=PH,this._writeOffset=0,this._readOffset=0,t.isSmartBufferOptions(e))if(e.encoding&&(ge.checkEncoding(e.encoding),this._encoding=e.encoding),e.size)if(ge.isFiniteInteger(e.size)&&e.size>0)this._buff=Buffer.allocUnsafe(e.size);else throw new Error(ge.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(e.buff)if(Buffer.isBuffer(e.buff))this._buff=e.buff,this.length=e.buff.length;else throw new Error(ge.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(US);else{if(typeof e<"u")throw new Error(ge.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(US)}}static fromSize(e,r){return new this({size:e,encoding:r})}static fromBuffer(e,r){return new this({buff:e,encoding:r})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){let r=e;return r&&(r.encoding!==void 0||r.size!==void 0||r.buff!==void 0)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return ge.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return ge.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,r){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,r),this}insertInt8(e,r){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,r)}writeInt16BE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,r)}insertInt16BE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,r)}writeInt16LE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,r)}insertInt16LE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,r)}writeInt32BE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,r)}insertInt32BE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,r)}writeInt32LE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,r)}insertInt32LE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,r)}writeBigInt64BE(e,r){return ge.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,r)}insertBigInt64BE(e,r){return ge.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,r)}writeBigInt64LE(e,r){return ge.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,r)}insertBigInt64LE(e,r){return ge.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,r)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return ge.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return ge.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,r)}insertUInt8(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,r)}writeUInt16BE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,r)}insertUInt16BE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,r)}writeUInt16LE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,r)}insertUInt16LE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,r)}writeUInt32BE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,r)}insertUInt32BE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,r)}writeUInt32LE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,r)}insertUInt32LE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,r)}writeBigUInt64BE(e,r){return ge.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,r)}insertBigUInt64BE(e,r){return ge.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,r)}writeBigUInt64LE(e,r){return ge.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,r)}insertBigUInt64LE(e,r){return ge.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,r)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,r){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,r)}insertFloatBE(e,r){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,r)}writeFloatLE(e,r){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,r)}insertFloatLE(e,r){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,r)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,r){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,r)}insertDoubleBE(e,r){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,r)}writeDoubleLE(e,r){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,r)}insertDoubleLE(e,r){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,r)}readString(e,r){let n;typeof e=="number"?(ge.checkLengthValue(e),n=Math.min(e,this.length-this._readOffset)):(r=e,n=this.length-this._readOffset),typeof r<"u"&&ge.checkEncoding(r);let s=this._buff.slice(this._readOffset,this._readOffset+n).toString(r||this._encoding);return this._readOffset+=n,s}insertString(e,r,n){return ge.checkOffsetValue(r),this._handleString(e,!0,r,n)}writeString(e,r,n){return this._handleString(e,!1,r,n)}readStringNT(e){typeof e<"u"&&ge.checkEncoding(e);let r=this.length;for(let s=this._readOffset;s<this.length;s++)if(this._buff[s]===0){r=s;break}let n=this._buff.slice(this._readOffset,r);return this._readOffset=r+1,n.toString(e||this._encoding)}insertStringNT(e,r,n){return ge.checkOffsetValue(r),this.insertString(e,r,n),this.insertUInt8(0,r+e.length),this}writeStringNT(e,r,n){return this.writeString(e,r,n),this.writeUInt8(0,typeof r=="number"?r+e.length:this.writeOffset),this}readBuffer(e){typeof e<"u"&&ge.checkLengthValue(e);let r=typeof e=="number"?e:this.length,n=Math.min(this.length,this._readOffset+r),s=this._buff.slice(this._readOffset,n);return this._readOffset=n,s}insertBuffer(e,r){return ge.checkOffsetValue(r),this._handleBuffer(e,!0,r)}writeBuffer(e,r){return this._handleBuffer(e,!1,r)}readBufferNT(){let e=this.length;for(let n=this._readOffset;n<this.length;n++)if(this._buff[n]===0){e=n;break}let r=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,r}insertBufferNT(e,r){return ge.checkOffsetValue(r),this.insertBuffer(e,r),this.insertUInt8(0,r+e.length),this}writeBufferNT(e,r){return typeof r<"u"&&ge.checkOffsetValue(r),this.writeBuffer(e,r),this.writeUInt8(0,typeof r=="number"?r+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){ge.checkOffsetValue(e),ge.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){ge.checkOffsetValue(e),ge.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){ge.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let r=typeof e=="string"?e:this._encoding;return ge.checkEncoding(r),this._buff.toString(r,0,this.length)}destroy(){return this.clear(),this}_handleString(e,r,n,s){let i=this._writeOffset,o=this._encoding;typeof n=="number"?i=n:typeof n=="string"&&(ge.checkEncoding(n),o=n),typeof s=="string"&&(ge.checkEncoding(s),o=s);let u=Buffer.byteLength(e,o);return r?this.ensureInsertable(u,i):this._ensureWriteable(u,i),this._buff.write(e,i,u,o),r?this._writeOffset+=u:typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,i+u):this._writeOffset+=u,this}_handleBuffer(e,r,n){let s=typeof n=="number"?n:this._writeOffset;return r?this.ensureInsertable(e.length,s):this._ensureWriteable(e.length,s),e.copy(this._buff,s),r?this._writeOffset+=e.length:typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,s+e.length):this._writeOffset+=e.length,this}ensureReadable(e,r){let n=this._readOffset;if(typeof r<"u"&&(ge.checkOffsetValue(r),n=r),n<0||n+e>this.length)throw new Error(ge.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,r){ge.checkOffsetValue(r),this._ensureCapacity(this.length+e),r<this.length&&this._buff.copy(this._buff,r+e,r,this._buff.length),r+e>this.length?this.length=r+e:this.length+=e}_ensureWriteable(e,r){let n=typeof r=="number"?r:this._writeOffset;this._ensureCapacity(n+e),n+e>this.length&&(this.length=n+e)}_ensureCapacity(e){let r=this._buff.length;if(e>r){let n=this._buff,s=r*3/2+1;s<e&&(s=e),this._buff=Buffer.allocUnsafe(s),n.copy(this._buff,0,0,r)}}_readNumberValue(e,r,n){this.ensureReadable(r,n);let s=e.call(this._buff,typeof n=="number"?n:this._readOffset);return typeof n>"u"&&(this._readOffset+=r),s}_insertNumberValue(e,r,n,s){return ge.checkOffsetValue(s),this.ensureInsertable(r,s),e.call(this._buff,n,s),this._writeOffset+=r,this}_writeNumberValue(e,r,n,s){if(typeof s=="number"){if(s<0)throw new Error(ge.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);ge.checkOffsetValue(s)}let i=typeof s=="number"?s:this._writeOffset;return this._ensureWriteable(r,i),e.call(this._buff,n,i),typeof s=="number"?this._writeOffset=Math.max(this._writeOffset,i+r):this._writeOffset+=r,this}};H6.SmartBuffer=z6});var Z6=y(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.SOCKS5_NO_ACCEPTABLE_AUTH=et.SOCKS5_CUSTOM_AUTH_END=et.SOCKS5_CUSTOM_AUTH_START=et.SOCKS_INCOMING_PACKET_SIZES=et.SocksClientState=et.Socks5Response=et.Socks5HostType=et.Socks5Auth=et.Socks4Response=et.SocksCommand=et.ERRORS=et.DEFAULT_TIMEOUT=void 0;var MH=3e4;et.DEFAULT_TIMEOUT=MH;var FH={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};et.ERRORS=FH;var IH={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:t=>t+7,Socks4Response:8};et.SOCKS_INCOMING_PACKET_SIZES=IH;var G6;(function(t){t[t.connect=1]="connect",t[t.bind=2]="bind",t[t.associate=3]="associate"})(G6||(G6={}));et.SocksCommand=G6;var K6;(function(t){t[t.Granted=90]="Granted",t[t.Failed=91]="Failed",t[t.Rejected=92]="Rejected",t[t.RejectedIdent=93]="RejectedIdent"})(K6||(K6={}));et.Socks4Response=K6;var Y6;(function(t){t[t.NoAuth=0]="NoAuth",t[t.GSSApi=1]="GSSApi",t[t.UserPass=2]="UserPass"})(Y6||(Y6={}));et.Socks5Auth=Y6;var $H=128;et.SOCKS5_CUSTOM_AUTH_START=$H;var NH=254;et.SOCKS5_CUSTOM_AUTH_END=NH;var RH=255;et.SOCKS5_NO_ACCEPTABLE_AUTH=RH;var Q6;(function(t){t[t.Granted=0]="Granted",t[t.Failure=1]="Failure",t[t.NotAllowed=2]="NotAllowed",t[t.NetworkUnreachable=3]="NetworkUnreachable",t[t.HostUnreachable=4]="HostUnreachable",t[t.ConnectionRefused=5]="ConnectionRefused",t[t.TTLExpired=6]="TTLExpired",t[t.CommandNotSupported=7]="CommandNotSupported",t[t.AddressNotSupported=8]="AddressNotSupported"})(Q6||(Q6={}));et.Socks5Response=Q6;var J6;(function(t){t[t.IPv4=1]="IPv4",t[t.Hostname=3]="Hostname",t[t.IPv6=4]="IPv6"})(J6||(J6={}));et.Socks5HostType=J6;var X6;(function(t){t[t.Created=0]="Created",t[t.Connecting=1]="Connecting",t[t.Connected=2]="Connected",t[t.SentInitialHandshake=3]="SentInitialHandshake",t[t.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",t[t.SentAuthentication=5]="SentAuthentication",t[t.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",t[t.SentFinalHandshake=7]="SentFinalHandshake",t[t.ReceivedFinalResponse=8]="ReceivedFinalResponse",t[t.BoundWaitingForConnection=9]="BoundWaitingForConnection",t[t.Established=10]="Established",t[t.Disconnected=11]="Disconnected",t[t.Error=99]="Error"})(X6||(X6={}));et.SocksClientState=X6});var t3=y(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.shuffleArray=Pa.SocksClientError=void 0;var e3=class extends Error{constructor(e,r){super(e),this.options=r}};Pa.SocksClientError=e3;function xH(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}}Pa.shuffleArray=xH});var KS=y(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.validateSocksClientChainOptions=Ma.validateSocksClientOptions=void 0;var Ir=t3(),Wt=Z6(),vH=require("stream");function kH(t,e=["connect","bind","associate"]){if(!Wt.SocksCommand[t.command])throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksCommand,t);if(e.indexOf(t.command)===-1)throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksCommandForOperation,t);if(!zS(t.destination))throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsDestination,t);if(!HS(t.proxy))throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsProxy,t);if(WS(t.proxy,t),t.timeout&&!GS(t.timeout))throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsTimeout,t);if(t.existing_socket&&!(t.existing_socket instanceof vH.Duplex))throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsExistingSocket,t)}Ma.validateSocksClientOptions=kH;function qH(t){if(t.command!=="connect")throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksCommandChain,t);if(!zS(t.destination))throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsDestination,t);if(!(t.proxies&&Array.isArray(t.proxies)&&t.proxies.length>=2))throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsProxiesLength,t);if(t.proxies.forEach(e=>{if(!HS(e))throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsProxy,t);WS(e,t)}),t.timeout&&!GS(t.timeout))throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsTimeout,t)}Ma.validateSocksClientChainOptions=qH;function WS(t,e){if(t.custom_auth_method!==void 0){if(t.custom_auth_method<Wt.SOCKS5_CUSTOM_AUTH_START||t.custom_auth_method>Wt.SOCKS5_CUSTOM_AUTH_END)throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsCustomAuthRange,e);if(t.custom_auth_request_handler===void 0||typeof t.custom_auth_request_handler!="function")throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(t.custom_auth_response_size===void 0)throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(t.custom_auth_response_handler===void 0||typeof t.custom_auth_response_handler!="function")throw new Ir.SocksClientError(Wt.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e)}}function zS(t){return t&&typeof t.host=="string"&&typeof t.port=="number"&&t.port>=0&&t.port<=65535}function HS(t){return t&&(typeof t.host=="string"||typeof t.ipaddress=="string")&&typeof t.port=="number"&&t.port>=0&&t.port<=65535&&(t.type===4||t.type===5)}function GS(t){return typeof t=="number"&&t>0}});var YS=y(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.ReceiveBuffer=void 0;var r3=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){let r=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),r.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let r=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(r),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,r}};kd.ReceiveBuffer=r3});var QS=y(ao=>{"use strict";var Fa=ao&&ao.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?i(l.value):s(l.value).then(u,a)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(ao,"__esModule",{value:!0});ao.SocksClientError=ao.SocksClient=void 0;var LH=require("events"),Ia=require("net"),mn=vS(),Ur=VS(),z=Z6(),n3=KS(),jH=YS(),s3=t3();Object.defineProperty(ao,"SocksClientError",{enumerable:!0,get:function(){return s3.SocksClientError}});var i3=class t extends LH.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,n3.validateSocksClientOptions)(e),this.setState(z.SocksClientState.Created)}static createConnection(e,r){return new Promise((n,s)=>{try{(0,n3.validateSocksClientOptions)(e,["connect"])}catch(o){return typeof r=="function"?(r(o),n(o)):s(o)}let i=new t(e);i.connect(e.existing_socket),i.once("established",o=>{i.removeAllListeners(),typeof r=="function"&&r(null,o),n(o)}),i.once("error",o=>{i.removeAllListeners(),typeof r=="function"?(r(o),n(o)):s(o)})})}static createConnectionChain(e,r){return new Promise((n,s)=>Fa(this,void 0,void 0,function*(){try{(0,n3.validateSocksClientChainOptions)(e)}catch(i){return typeof r=="function"?(r(i),n(i)):s(i)}e.randomizeChain&&(0,s3.shuffleArray)(e.proxies);try{let i;for(let o=0;o<e.proxies.length;o++){let u=e.proxies[o],a=o===e.proxies.length-1?e.destination:{host:e.proxies[o+1].host||e.proxies[o+1].ipaddress,port:e.proxies[o+1].port},c=yield t.createConnection({command:"connect",proxy:u,destination:a,existing_socket:i});i=i||c.socket}typeof r=="function"?(r(null,{socket:i}),n({socket:i})):n({socket:i})}catch(i){typeof r=="function"?(r(i),n(i)):s(i)}}))}static createUDPFrame(e){let r=new Ur.SmartBuffer;return r.writeUInt16BE(0),r.writeUInt8(e.frameNumber||0),Ia.isIPv4(e.remoteHost.host)?(r.writeUInt8(z.Socks5HostType.IPv4),r.writeUInt32BE(mn.toLong(e.remoteHost.host))):Ia.isIPv6(e.remoteHost.host)?(r.writeUInt8(z.Socks5HostType.IPv6),r.writeBuffer(mn.toBuffer(e.remoteHost.host))):(r.writeUInt8(z.Socks5HostType.Hostname),r.writeUInt8(Buffer.byteLength(e.remoteHost.host)),r.writeString(e.remoteHost.host)),r.writeUInt16BE(e.remoteHost.port),r.writeBuffer(e.data),r.toBuffer()}static parseUDPFrame(e){let r=Ur.SmartBuffer.fromBuffer(e);r.readOffset=2;let n=r.readUInt8(),s=r.readUInt8(),i;s===z.Socks5HostType.IPv4?i=mn.fromLong(r.readUInt32BE()):s===z.Socks5HostType.IPv6?i=mn.toString(r.readBuffer(16)):i=r.readString(r.readUInt8());let o=r.readUInt16BE();return{frameNumber:n,remoteHost:{host:i,port:o},data:r.readBuffer()}}setState(e){this.state!==z.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=n=>this.onDataReceivedHandler(n),this.onClose=()=>this.onCloseHandler(),this.onError=n=>this.onErrorHandler(n),this.onConnect=()=>this.onConnectHandler();let r=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||z.DEFAULT_TIMEOUT);r.unref&&typeof r.unref=="function"&&r.unref(),e?this.socket=e:this.socket=new Ia.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(z.SocksClientState.Connecting),this.receiveBuffer=new jH.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",n=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let s=this.receiveBuffer.get(this.receiveBuffer.length);n.socket.emit("data",s)}n.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==z.SocksClientState.Established&&this.state!==z.SocksClientState.BoundWaitingForConnection&&this.closeSocket(z.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(z.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(z.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==z.SocksClientState.Established&&this.state!==z.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===z.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===z.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===z.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===z.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(z.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(z.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==z.SocksClientState.Error&&(this.setState(z.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new s3.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){let e=this.options.proxy.userId||"",r=new Ur.SmartBuffer;r.writeUInt8(4),r.writeUInt8(z.SocksCommand[this.options.command]),r.writeUInt16BE(this.options.destination.port),Ia.isIPv4(this.options.destination.host)?(r.writeBuffer(mn.toBuffer(this.options.destination.host)),r.writeStringNT(e)):(r.writeUInt8(0),r.writeUInt8(0),r.writeUInt8(0),r.writeUInt8(1),r.writeStringNT(e),r.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=z.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(r.toBuffer())}handleSocks4FinalHandshakeResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==z.Socks4Response.Granted)this.closeSocket(`${z.ERRORS.Socks4ProxyRejectedConnection} - (${z.Socks4Response[e[1]]})`);else if(z.SocksCommand[this.options.command]===z.SocksCommand.bind){let r=Ur.SmartBuffer.fromBuffer(e);r.readOffset=2;let n={port:r.readUInt16BE(),host:mn.fromLong(r.readUInt32BE())};n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress),this.setState(z.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:n,socket:this.socket})}else this.setState(z.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==z.Socks4Response.Granted)this.closeSocket(`${z.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${z.Socks4Response[e[1]]})`);else{let r=Ur.SmartBuffer.fromBuffer(e);r.readOffset=2;let n={port:r.readUInt16BE(),host:mn.fromLong(r.readUInt32BE())};this.setState(z.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}sendSocks5InitialHandshake(){let e=new Ur.SmartBuffer,r=[z.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&r.push(z.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&r.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(r.length);for(let n of r)e.writeUInt8(n);this.nextRequiredPacketBufferSize=z.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(z.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let e=this.receiveBuffer.get(2);e[0]!==5?this.closeSocket(z.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===z.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(z.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===z.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=z.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===z.Socks5Auth.UserPass?(this.socks5ChosenAuthType=z.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(z.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let e=this.options.proxy.userId||"",r=this.options.proxy.password||"",n=new Ur.SmartBuffer;n.writeUInt8(1),n.writeUInt8(Buffer.byteLength(e)),n.writeString(e),n.writeUInt8(Buffer.byteLength(r)),n.writeString(r),this.nextRequiredPacketBufferSize=z.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(n.toBuffer()),this.setState(z.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return Fa(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(z.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(e){return Fa(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(e)})}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return Fa(this,void 0,void 0,function*(){return e[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(e){return Fa(this,void 0,void 0,function*(){return e[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return Fa(this,void 0,void 0,function*(){this.setState(z.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===z.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===z.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(z.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let e=new Ur.SmartBuffer;e.writeUInt8(5),e.writeUInt8(z.SocksCommand[this.options.command]),e.writeUInt8(0),Ia.isIPv4(this.options.destination.host)?(e.writeUInt8(z.Socks5HostType.IPv4),e.writeBuffer(mn.toBuffer(this.options.destination.host))):Ia.isIPv6(this.options.destination.host)?(e.writeUInt8(z.Socks5HostType.IPv6),e.writeBuffer(mn.toBuffer(this.options.destination.host))):(e.writeUInt8(z.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=z.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(z.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==z.Socks5Response.Granted)this.closeSocket(`${z.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${z.Socks5Response[e[1]]}`);else{let r=e[3],n,s;if(r===z.Socks5HostType.IPv4){let i=z.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<i){this.nextRequiredPacketBufferSize=i;return}s=Ur.SmartBuffer.fromBuffer(this.receiveBuffer.get(i).slice(4)),n={host:mn.fromLong(s.readUInt32BE()),port:s.readUInt16BE()},n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress)}else if(r===z.Socks5HostType.Hostname){let i=e[4],o=z.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(i);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}s=Ur.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),n={host:s.readString(i),port:s.readUInt16BE()}}else if(r===z.Socks5HostType.IPv6){let i=z.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<i){this.nextRequiredPacketBufferSize=i;return}s=Ur.SmartBuffer.fromBuffer(this.receiveBuffer.get(i).slice(4)),n={host:mn.toString(s.readBuffer(16)),port:s.readUInt16BE()}}this.setState(z.SocksClientState.ReceivedFinalResponse),z.SocksCommand[this.options.command]===z.SocksCommand.connect?(this.setState(z.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})):z.SocksCommand[this.options.command]===z.SocksCommand.bind?(this.setState(z.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=z.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:n,socket:this.socket})):z.SocksCommand[this.options.command]===z.SocksCommand.associate&&(this.setState(z.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==z.Socks5Response.Granted)this.closeSocket(`${z.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${z.Socks5Response[e[1]]}`);else{let r=e[3],n,s;if(r===z.Socks5HostType.IPv4){let i=z.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<i){this.nextRequiredPacketBufferSize=i;return}s=Ur.SmartBuffer.fromBuffer(this.receiveBuffer.get(i).slice(4)),n={host:mn.fromLong(s.readUInt32BE()),port:s.readUInt16BE()},n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress)}else if(r===z.Socks5HostType.Hostname){let i=e[4],o=z.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(i);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}s=Ur.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),n={host:s.readString(i),port:s.readUInt16BE()}}else if(r===z.Socks5HostType.IPv6){let i=z.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<i){this.nextRequiredPacketBufferSize=i;return}s=Ur.SmartBuffer.fromBuffer(this.receiveBuffer.get(i).slice(4)),n={host:mn.toString(s.readBuffer(16)),port:s.readUInt16BE()}}this.setState(z.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};ao.SocksClient=i3});var JS=y(Zo=>{"use strict";var UH=Zo&&Zo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VH=Zo&&Zo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UH(e,t,r)};Object.defineProperty(Zo,"__esModule",{value:!0});VH(QS(),Zo)});var e5=y(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.MongoCR=void 0;var XS=require("crypto"),WH=Q(),ZS=ne(),zH=ai(),o3=class extends zH.AuthProvider{async auth(e){let{connection:r,credentials:n}=e;if(!n)throw new WH.MongoMissingCredentialsError("AuthContext must provide credentials.");let{username:s,password:i,source:o}=n,{nonce:u}=await r.commandAsync((0,ZS.ns)(`${o}.$cmd`),{getnonce:1},void 0),a=XS.createHash("md5").update(`${s}:mongo:${i}`,"utf8").digest("hex"),c=XS.createHash("md5").update(`${u}${s}${a}`,"utf8").digest("hex"),l={authenticate:1,user:s,nonce:u,key:c};await r.commandAsync((0,ZS.ns)(`${o}.$cmd`),l,void 0)}};qd.MongoCR=o3});var r5=y(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.MongoDBAWS=void 0;var HH=require("crypto"),u3=require("process"),GH=require("util"),a3=pt(),Ld=ma(),eu=Q(),pi=ne(),KH=ai(),YH=ad(),QH=xs(),JH=new Set(["ap-northeast-1","ap-south-1","ap-southeast-1","ap-southeast-2","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),XH=110,ZH="http://169.254.170.2",c3="http://169.254.169.254",t5="/latest/meta-data/iam/security-credentials",l3={useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},mi=class extends KH.AuthProvider{constructor(){super(),this.randomBytesAsync=(0,GH.promisify)(HH.randomBytes)}async auth(e){let{connection:r}=e;if(!e.credentials)throw new eu.MongoMissingCredentialsError("AuthContext must provide credentials.");if("kModuleError"in Ld.aws4)throw Ld.aws4.kModuleError;let{sign:n}=Ld.aws4;if((0,pi.maxWireVersion)(r)<9)throw new eu.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later");e.credentials.username||(e.credentials=await eG(e.credentials));let{credentials:s}=e,i=s.username,o=s.password,u=s.mechanismProperties.AWS_SESSION_TOKEN,a=i&&o&&u?{accessKeyId:i,secretAccessKey:o,sessionToken:u}:i&&o?{accessKeyId:i,secretAccessKey:o}:void 0,c=s.source,l=await this.randomBytesAsync(32),f={saslStart:1,mechanism:"MONGODB-AWS",payload:a3.serialize({r:l,p:XH},l3)},h=await r.commandAsync((0,pi.ns)(`${c}.$cmd`),f,void 0),d=a3.deserialize(h.payload.buffer,l3),p=d.h,m=d.s.buffer;if(m.length!==64)throw new eu.MongoRuntimeError(`Invalid server nonce length ${m.length}, expected 64`);if(!pi.ByteUtils.equals(m.subarray(0,l.byteLength),l))throw new eu.MongoRuntimeError("Server nonce does not begin with client nonce");if(p.length<1||p.length>255||p.indexOf("..")!==-1)throw new eu.MongoRuntimeError(`Server returned an invalid host: "${p}"`);let g="Action=GetCallerIdentity&Version=2011-06-15",_=n({method:"POST",host:p,region:tG(d.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":g.length,"X-MongoDB-Server-Nonce":pi.ByteUtils.toBase64(m),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:g},a),E={a:_.headers.Authorization,d:_.headers["X-Amz-Date"]};u&&(E.t=u);let A={saslContinue:1,conversationId:1,payload:a3.serialize(E,l3)};await r.commandAsync((0,pi.ns)(`${c}.$cmd`),A,void 0)}};mi.credentialProvider=null;jd.MongoDBAWS=mi;async function eG(t){function e(r){if(!r.AccessKeyId||!r.SecretAccessKey||!r.Token)throw new eu.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials");return new YH.MongoCredentials({username:r.AccessKeyId,password:r.SecretAccessKey,source:t.source,mechanism:QH.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:r.Token}})}if(mi.credentialProvider??(mi.credentialProvider=(0,Ld.getAwsCredentialProvider)()),"kModuleError"in mi.credentialProvider){if(u3.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI)return e(await(0,pi.request)(`${ZH}${u3.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`));let r=await(0,pi.request)(`${c3}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}}),n=await(0,pi.request)(`${c3}/${t5}`,{json:!1,headers:{"X-aws-ec2-metadata-token":r}}),s=await(0,pi.request)(`${c3}/${t5}/${n}`,{headers:{"X-aws-ec2-metadata-token":r}});return e(s)}else{let{AWS_STS_REGIONAL_ENDPOINTS:r="",AWS_REGION:n=""}=u3.env;r=r.toLowerCase(),n=n.toLowerCase();let s=n.length!==0&&r.length!==0,i=r==="regional"||r==="legacy"&&!JH.has(n),o=s&&i?mi.credentialProvider.fromNodeProviderChain({clientConfig:{region:n}}):mi.credentialProvider.fromNodeProviderChain();try{let u=await o();return e({AccessKeyId:u.accessKeyId,SecretAccessKey:u.secretAccessKey,Token:u.sessionToken,Expiration:u.expiration})}catch(u){throw new eu.MongoAWSError(u.message)}}}function tG(t){let e=t.split(".");return e.length===1||e[1]==="amazonaws"?"us-east-1":e[1]}});var d3=y($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.commandDocument=$a.ServiceWorkflow=void 0;var rG=wn(),nG=ne(),sG=xs(),f3=class{async execute(e,r){let n=await this.getToken(r),s=h3(n);return e.commandAsync((0,nG.ns)(r.source),s,void 0)}async speculativeAuth(e){let r=await this.getToken(e),n=h3(r);return n.db=e.source,{speculativeAuthenticate:n}}};$a.ServiceWorkflow=f3;function h3(t){return{saslStart:1,mechanism:sG.AuthMechanism.MONGODB_OIDC,payload:rG.BSON.serialize({jwt:t})}}$a.commandDocument=h3});var n5=y(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.AwsServiceWorkflow=void 0;var iG=require("fs"),oG=Q(),uG=d3(),aG="AWS_WEB_IDENTITY_TOKEN_FILE must be set in the environment.",p3=class extends uG.ServiceWorkflow{constructor(){super()}async getToken(){let e=process.env.AWS_WEB_IDENTITY_TOKEN_FILE;if(!e)throw new oG.MongoAWSError(aG);return iG.promises.readFile(e,"utf8")}};Ud.AwsServiceWorkflow=p3});var Vd=y(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.Cache=Na.ExpiringCacheEntry=void 0;var cG=3e5,m3=class{constructor(e){this.expiration=this.expirationTime(e)}isValid(){return this.expiration-Date.now()>cG}expirationTime(e){return Date.now()+e*1e3}};Na.ExpiringCacheEntry=m3;var y3=class{constructor(){this.entries=new Map}clear(){this.entries.clear()}hashedCacheKey(e,r,n){return JSON.stringify([e,r,n])}};Na.Cache=y3});var i5=y(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.AzureTokenCache=Ra.AzureTokenEntry=void 0;var s5=Vd(),Wd=class extends s5.ExpiringCacheEntry{constructor(e,r){super(r),this.token=e}};Ra.AzureTokenEntry=Wd;var g3=class extends s5.Cache{addEntry(e,r){let n=new Wd(r.access_token,r.expires_in);return this.entries.set(e,n),n}cacheKey(e){return e}deleteEntry(e){this.entries.delete(e)}getEntry(e){return this.entries.get(e)}};Ra.AzureTokenCache=g3});var u5=y(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.AzureServiceWorkflow=void 0;var o5=Q(),lG=ne(),fG=i5(),hG=d3(),dG="http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01",pG=Object.freeze({Metadata:"true",Accept:"application/json"}),mG="Azure endpoint did not return a value with only access_token and expires_in properties",yG="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.",E3=class extends hG.ServiceWorkflow{constructor(){super(...arguments),this.cache=new fG.AzureTokenCache}async getToken(e){let r=e?.mechanismProperties.TOKEN_AUDIENCE;if(!r)throw new o5.MongoAzureError(yG);let n,s=this.cache.getEntry(r);if(s?.isValid())n=s.token;else{this.cache.deleteEntry(r);let i=await gG(r);if(!EG(i))throw new o5.MongoAzureError(mG);this.cache.addEntry(r,i),n=i.access_token}return n}};zd.AzureServiceWorkflow=E3;async function gG(t){let e=`${dG}&resource=${t}`;return await(0,lG.request)(e,{json:!0,headers:pG})}function EG(t){return t==null||typeof t!="object"?!1:"access_token"in t&&"expires_in"in t}});var l5=y(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.CallbackLockCache=void 0;var _G=Q(),AG=Vd(),OG="Auth mechanism property REQUEST_TOKEN_CALLBACK is required.",tu=0,c5=async()=>({accessToken:"test"}),k1=new WeakMap;k1.set(c5,tu);var _3=class extends AG.Cache{getEntry(e,r){let n=r.mechanismProperties.REQUEST_TOKEN_CALLBACK,s=r.mechanismProperties.REFRESH_TOKEN_CALLBACK;if(!n)throw new _G.MongoInvalidArgumentError(OG);let i=CG(n,s),o=this.cacheKey(e.address,r.username,i),u=this.entries.get(o);return u||this.addEntry(o,i,n,s)}addEntry(e,r,n,s){let i={requestCallback:a5(n),refreshCallback:s?a5(s):void 0,callbackHash:r};return this.entries.set(e,i),i}cacheKey(e,r,n){return this.hashedCacheKey(e,r,n)}};Hd.CallbackLockCache=_3;function a5(t){let e=Promise.resolve();return async(r,n)=>(await e,e=e.then(()=>t(r,n)),e)}function CG(t,e){let r=k1.get(t),n=k1.get(e??c5);return r==null&&(tu++,r=tu,k1.set(t,tu)),n==null&&e&&(tu++,n=tu,k1.set(e,tu)),`${r}-${n}`}});var h5=y(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.TokenEntryCache=xa.TokenEntry=void 0;var f5=Vd(),SG=0,Gd=class extends f5.ExpiringCacheEntry{constructor(e,r,n){super(n),this.tokenResult=e,this.serverInfo=r}};xa.TokenEntry=Gd;var A3=class extends f5.Cache{addEntry(e,r,n,s,i){let o=new Gd(s,i,s.expiresInSeconds??SG);return this.entries.set(this.cacheKey(e,r,n),o),o}deleteEntry(e,r,n){this.entries.delete(this.cacheKey(e,r,n))}getEntry(e,r,n){return this.entries.get(this.cacheKey(e,r,n))}deleteExpiredEntries(){for(let[e,r]of this.entries)r.isValid()||this.entries.delete(e)}cacheKey(e,r,n){return this.hashedCacheKey(e,r,n)}};xa.TokenEntryCache=A3});var y5=y(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.CallbackWorkflow=void 0;var ru=wn(),O3=Q(),d5=ne(),m5=xs(),wG=l5(),bG=h5(),DG=0,BG=300,TG=["accessToken","expiresInSeconds","refreshToken"],PG="User provided OIDC callbacks must return a valid object with an accessToken.",C3=class{constructor(){this.cache=new bG.TokenEntryCache,this.callbackCache=new wG.CallbackLockCache}async speculativeAuth(e){let r=p5(e);return r.db=e.source,{speculativeAuthenticate:r}}async execute(e,r,n,s){let{requestCallback:i,refreshCallback:o,callbackHash:u}=this.callbackCache.getEntry(e,r),a=this.cache.getEntry(e.address,r.username,u),c;if(a)if(a.isValid()&&!n)c=await this.finishAuthentication(e,r,a.tokenResult,s?.speculativeAuthenticate?.conversationId);else{let l=await this.fetchAccessToken(e,r,a.serverInfo,n,u,i,o);try{c=await this.finishAuthentication(e,r,l,n?void 0:s?.speculativeAuthenticate?.conversationId)}catch(f){if(n&&f instanceof O3.MongoError&&f.code===O3.MONGODB_ERROR_CODES.Reauthenticate)this.cache.deleteEntry(e.address,r.username,u),c=await this.execute(e,r,n);else throw f}}else{let l=await this.startAuthentication(e,r,n,s),f=l.conversationId,h=ru.BSON.deserialize(l.payload.buffer),d=await this.fetchAccessToken(e,r,h,n,u,i,o);c=await this.finishAuthentication(e,r,d,f)}return c}async startAuthentication(e,r,n,s){let i;return!n&&s?.speculativeAuthenticate?i=s.speculativeAuthenticate:i=await e.commandAsync((0,d5.ns)(r.source),p5(r),void 0),i}async finishAuthentication(e,r,n,s){return await e.commandAsync((0,d5.ns)(r.source),MG(n.accessToken,s),void 0)}async fetchAccessToken(e,r,n,s,i,o,u){let a=this.cache.getEntry(e.address,r.username,i),c,l={timeoutSeconds:BG,version:DG};if(a){if(a.isValid()&&!s)return a.tokenResult;u?(l.refreshToken=a.tokenResult.refreshToken,c=await u(n,l)):c=await o(n,l)}else c=await o(n,l);if(FG(c))throw this.cache.deleteEntry(e.address,r.username,i),new O3.MongoMissingCredentialsError(PG);return this.cache.deleteExpiredEntries(),this.cache.addEntry(e.address,r.username||"",i,c,n),c}};Kd.CallbackWorkflow=C3;function MG(t,e){return e!=null&&typeof e=="number"?{saslContinue:1,conversationId:e,payload:new ru.Binary(ru.BSON.serialize({jwt:t}))}:{saslStart:1,mechanism:m5.AuthMechanism.MONGODB_OIDC,payload:new ru.Binary(ru.BSON.serialize({jwt:t}))}}function FG(t){return t==null||typeof t!="object"||!("accessToken"in t)?!0:!Object.getOwnPropertyNames(t).every(e=>TG.includes(e))}function p5(t){let e={};return t.username&&(e.n=t.username),{saslStart:1,autoAuthorize:1,mechanism:m5.AuthMechanism.MONGODB_OIDC,payload:new ru.Binary(ru.BSON.serialize(e))}}});var A5=y(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.MongoDBOIDC=Us.OIDC_WORKFLOWS=void 0;var _5=Q(),IG=ai(),$G=n5(),NG=u5(),RG=y5(),xG="AuthContext must provide credentials.";Us.OIDC_WORKFLOWS=new Map;Us.OIDC_WORKFLOWS.set("callback",new RG.CallbackWorkflow);Us.OIDC_WORKFLOWS.set("aws",new $G.AwsServiceWorkflow);Us.OIDC_WORKFLOWS.set("azure",new NG.AzureServiceWorkflow);var S3=class extends IG.AuthProvider{constructor(){super()}async auth(e){let{connection:r,reauthenticating:n,response:s}=e,i=g5(e);await E5(i).execute(r,i,n,s)}async prepare(e,r){let n=g5(r),i=await E5(n).speculativeAuth(n);return{...e,...i}}};Us.MongoDBOIDC=S3;function g5(t){let{credentials:e}=t;if(!e)throw new _5.MongoMissingCredentialsError(xG);return e}function E5(t){let e=t.mechanismProperties.PROVIDER_NAME,r=Us.OIDC_WORKFLOWS.get(e||"callback");if(!r)throw new _5.MongoInvalidArgumentError(`Could not load workflow for provider ${t.mechanismProperties.PROVIDER_NAME}`);return r}});var O5=y(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.Plain=void 0;var vG=pt(),kG=Q(),qG=ne(),LG=ai(),w3=class extends LG.AuthProvider{async auth(e){let{connection:r,credentials:n}=e;if(!n)throw new kG.MongoMissingCredentialsError("AuthContext must provide credentials.");let{username:s,password:i}=n,u={saslStart:1,mechanism:"PLAIN",payload:new vG.Binary(Buffer.from(`\0${s}\0${i}`)),autoAuthorize:1};await r.commandAsync((0,qG.ns)("$external.$cmd"),u,void 0)}};Yd.Plain=w3});var T5=y(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.ScramSHA256=va.ScramSHA1=void 0;var co=require("crypto"),jG=require("util"),b3=pt(),q1=ma(),as=Q(),Xd=ne(),UG=ai(),C5=xs(),Zd=class extends UG.AuthProvider{constructor(e){super(),this.cryptoMethod=e||"sha1",this.randomBytesAsync=(0,jG.promisify)(co.randomBytes)}async prepare(e,r){let n=this.cryptoMethod,s=r.credentials;if(!s)throw new as.MongoMissingCredentialsError("AuthContext must provide credentials.");n==="sha256"&&("kModuleError"in q1.saslprep||typeof q1.saslprep!="function")&&(0,Xd.emitWarning)("Warning: no saslprep library specified. Passwords will not be sanitized");let i=await this.randomBytesAsync(24);return r.nonce=i,{...e,speculativeAuthenticate:{...D5(n,s,i),db:s.source}}}async auth(e){let{reauthenticating:r,response:n}=e;return n?.speculativeAuthenticate&&!r?B5(this.cryptoMethod,n.speculativeAuthenticate,e):VG(this.cryptoMethod,e)}};function w5(t){return t.replace("=","=3D").replace(",","=2C")}function b5(t,e){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(t,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(e.toString("base64"),"utf8")])}function D5(t,e,r){let n=w5(e.username);return{saslStart:1,mechanism:t==="sha1"?C5.AuthMechanism.MONGODB_SCRAM_SHA1:C5.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new b3.Binary(Buffer.concat([Buffer.from("n,,","utf8"),b5(n,r)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}}async function VG(t,e){let{connection:r,credentials:n}=e;if(!n)throw new as.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!e.nonce)throw new as.MongoInvalidArgumentError("AuthContext must contain a valid nonce property");let s=e.nonce,i=n.source,o=D5(t,n,s),u=await r.commandAsync((0,Xd.ns)(`${i}.$cmd`),o,void 0);await B5(t,u,e)}async function B5(t,e,r){let n=r.connection,s=r.credentials;if(!s)throw new as.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!r.nonce)throw new as.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce");let i=r.nonce,o=s.source,u=w5(s.username),a=s.password,c;t==="sha256"?c="kModuleError"in q1.saslprep||typeof q1.saslprep!="function"?a:(0,q1.saslprep)(a):c=WG(u,a);let l=Buffer.isBuffer(e.payload)?new b3.Binary(e.payload):e.payload,f=S5(l.value()),h=parseInt(f.i,10);if(h&&h<4096)throw new as.MongoRuntimeError(`Server returned an invalid iteration count ${h}`);let d=f.s,p=f.r;if(p.startsWith("nonce"))throw new as.MongoRuntimeError(`Server returned an invalid nonce: ${p}`);let m=`c=biws,r=${p}`,g=YG(c,Buffer.from(d,"base64"),h,t),_=Qd(t,g,"Client Key"),E=Qd(t,g,"Server Key"),A=HG(t,_),C=[b5(u,i),l.value(),m].join(","),T=Qd(t,A,C),L=`p=${zG(_,T)}`,F=[m,L].join(","),P=Qd(t,E,C),V={saslContinue:1,conversationId:e.conversationId,payload:new b3.Binary(Buffer.from(F))},W=await n.commandAsync((0,Xd.ns)(`${o}.$cmd`),V,void 0),$=S5(W.payload.value());if(!QG(Buffer.from($.v,"base64"),P))throw new as.MongoRuntimeError("Server returned an invalid signature");if(W.done!==!1)return;let D={saslContinue:1,conversationId:W.conversationId,payload:Buffer.alloc(0)};await n.commandAsync((0,Xd.ns)(`${o}.$cmd`),D,void 0)}function S5(t){let e={},r=t.split(",");for(let n=0;n<r.length;n++){let s=r[n].split("=");e[s[0]]=s[1]}return e}function WG(t,e){if(typeof t!="string")throw new as.MongoInvalidArgumentError("Username must be a string");if(typeof e!="string")throw new as.MongoInvalidArgumentError("Password must be a string");if(e.length===0)throw new as.MongoInvalidArgumentError("Password cannot be empty");let r;try{r=co.createHash("md5")}catch(n){throw co.getFips()?new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode"):n}return r.update(`${t}:mongo:${e}`,"utf8"),r.digest("hex")}function zG(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t)),Buffer.isBuffer(e)||(e=Buffer.from(e));let r=Math.max(t.length,e.length),n=[];for(let s=0;s<r;s+=1)n.push(t[s]^e[s]);return Buffer.from(n).toString("base64")}function HG(t,e){return co.createHash(t).update(e).digest()}function Qd(t,e,r){return co.createHmac(t,e).update(r).digest()}var Jd={},D3=0;function GG(){Jd={},D3=0}var KG={sha256:32,sha1:20};function YG(t,e,r,n){let s=[t,e.toString("base64"),r].join("_");if(Jd[s]!=null)return Jd[s];let i=co.pbkdf2Sync(t,e,r,KG[n],n);return D3>=200&&GG(),Jd[s]=i,D3+=1,i}function QG(t,e){if(t.length!==e.length)return!1;if(typeof co.timingSafeEqual=="function")return co.timingSafeEqual(t,e);let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}var B3=class extends Zd{constructor(){super("sha1")}};va.ScramSHA1=B3;var T3=class extends Zd{constructor(){super("sha256")}};va.ScramSHA256=T3});var F5=y(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.X509=void 0;var P5=Q(),JG=ne(),XG=ai(),P3=class extends XG.AuthProvider{async prepare(e,r){let{credentials:n}=r;if(!n)throw new P5.MongoMissingCredentialsError("AuthContext must provide credentials.");return{...e,speculativeAuthenticate:M5(n)}}async auth(e){let r=e.connection,n=e.credentials;if(!n)throw new P5.MongoMissingCredentialsError("AuthContext must provide credentials.");e.response?.speculativeAuthenticate||await r.commandAsync((0,JG.ns)("$external.$cmd"),M5(n),void 0)}};ep.X509=P3;function M5(t){let e={authenticate:1,mechanism:"MONGODB-X509"};return t.username&&(e.user=t.username),e}});var $3=y(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.LEGAL_TCP_SOCKET_OPTIONS=zt.LEGAL_TLS_SOCKET_OPTIONS=zt.prepareHandshakeDocument=zt.connect=zt.AUTH_PROVIDERS=void 0;var N5=require("net"),ZG=JS(),eK=require("tls"),R5=kt(),Nt=Q(),x5=ne(),tK=ai(),rK=ud(),nK=e5(),sK=r5(),iK=A5(),oK=O5(),vn=xs(),I5=T5(),uK=F5(),$5=x1(),ka=xo();zt.AUTH_PROVIDERS=new Map([[vn.AuthMechanism.MONGODB_AWS,new sK.MongoDBAWS],[vn.AuthMechanism.MONGODB_CR,new nK.MongoCR],[vn.AuthMechanism.MONGODB_GSSAPI,new rK.GSSAPI],[vn.AuthMechanism.MONGODB_OIDC,new iK.MongoDBOIDC],[vn.AuthMechanism.MONGODB_PLAIN,new oK.Plain],[vn.AuthMechanism.MONGODB_SCRAM_SHA1,new I5.ScramSHA1],[vn.AuthMechanism.MONGODB_SCRAM_SHA256,new I5.ScramSHA256],[vn.AuthMechanism.MONGODB_X509,new uK.X509]]);function aK(t,e){F3({...t,existingSocket:void 0},(r,n)=>{if(r||!n)return e(r);let s=t.connectionType??$5.Connection;t.autoEncrypter&&(s=$5.CryptoConnection);let i=new s(n,t);lK(i,t).then(()=>e(void 0,i),o=>{i.destroy({force:!1}),e(o)})})}zt.connect=aK;function cK(t,e){let r=Number(t.maxWireVersion),n=Number(t.minWireVersion),s=!Number.isNaN(r)&&r>=ka.MIN_SUPPORTED_WIRE_VERSION,i=!Number.isNaN(n)&&n<=ka.MAX_SUPPORTED_WIRE_VERSION;if(s){if(i)return null;let u=`Server at ${e.hostAddress} reports minimum wire version ${JSON.stringify(t.minWireVersion)}, but this version of the Node.js Driver requires at most ${ka.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${ka.MAX_SUPPORTED_SERVER_VERSION})`;return new Nt.MongoCompatibilityError(u)}let o=`Server at ${e.hostAddress} reports maximum wire version ${JSON.stringify(t.maxWireVersion)??0}, but this version of the Node.js Driver requires at least ${ka.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${ka.MIN_SUPPORTED_SERVER_VERSION})`;return new Nt.MongoCompatibilityError(o)}async function lK(t,e){let r=e.credentials;if(r&&r.mechanism!==vn.AuthMechanism.MONGODB_DEFAULT&&!zt.AUTH_PROVIDERS.get(r.mechanism))throw new Nt.MongoInvalidArgumentError(`AuthMechanism '${r.mechanism}' not supported`);let n=new tK.AuthContext(t,r,e);t.authContext=n;let s=await v5(n),i={...e};typeof e.connectTimeoutMS=="number"&&(i.socketTimeoutMS=e.connectTimeoutMS);let o=new Date().getTime(),u=await t.commandAsync((0,x5.ns)("admin.$cmd"),s,i);"isWritablePrimary"in u||(u.isWritablePrimary=u[R5.LEGACY_HELLO_COMMAND]),u.helloOk&&(t.helloOk=!0);let a=cK(u,e);if(a)throw a;if(e.loadBalanced&&!u.serviceId)throw new Nt.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode.");if(t.hello=u,t.lastHelloMS=new Date().getTime()-o,!u.arbiterOnly&&r){n.response=u;let c=r.resolveAuthMechanism(u),l=zt.AUTH_PROVIDERS.get(c.mechanism);if(!l)throw new Nt.MongoInvalidArgumentError(`No AuthProvider for ${c.mechanism} defined.`);try{await l.auth(n)}catch(f){throw f instanceof Nt.MongoError&&(f.addErrorLabel(Nt.MongoErrorLabel.HandshakeError),(0,Nt.needsRetryableWriteLabel)(f,u.maxWireVersion)&&f.addErrorLabel(Nt.MongoErrorLabel.RetryableWriteError)),f}}}async function v5(t){let e=t.options,r=e.compressors?e.compressors:[],{serverApi:n}=t.connection,s={[n?.version?"hello":R5.LEGACY_HELLO_COMMAND]:1,helloOk:!0,client:e.metadata,compression:r};e.loadBalanced===!0&&(s.loadBalanced=!0);let i=t.credentials;if(i){if(i.mechanism===vn.AuthMechanism.MONGODB_DEFAULT&&i.username){s.saslSupportedMechs=`${i.source}.${i.username}`;let u=zt.AUTH_PROVIDERS.get(vn.AuthMechanism.MONGODB_SCRAM_SHA256);if(!u)throw new Nt.MongoInvalidArgumentError(`No AuthProvider for ${vn.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`);return u.prepare(s,t)}let o=zt.AUTH_PROVIDERS.get(i.mechanism);if(!o)throw new Nt.MongoInvalidArgumentError(`No AuthProvider for ${i.mechanism} defined.`);return o.prepare(s,t)}return s}zt.prepareHandshakeDocument=v5;zt.LEGAL_TLS_SOCKET_OPTIONS=["ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"];zt.LEGAL_TCP_SOCKET_OPTIONS=["family","hints","localAddress","localPort","lookup"];function I3(t){let e=t.hostAddress;if(!e)throw new Nt.MongoInvalidArgumentError('Option "hostAddress" is required');let r={};for(let n of zt.LEGAL_TCP_SOCKET_OPTIONS)t[n]!=null&&(r[n]=t[n]);if(typeof e.socketPath=="string")return r.path=e.socketPath,r;if(typeof e.host=="string")return r.host=e.host,r.port=e.port,r;throw new Nt.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(e)}`)}function fK(t){let e=I3(t);for(let r of zt.LEGAL_TLS_SOCKET_OPTIONS)t[r]!=null&&(e[r]=t[r]);return t.existingSocket&&(e.socket=t.existingSocket),e.servername==null&&e.host&&!N5.isIP(e.host)&&(e.servername=e.host),e}var hK=["error","close","timeout","parseError"],M3=new Set(hK);function F3(t,e){let r=t.tls??!1,n=t.keepAlive??!0,s=t.socketTimeoutMS??Reflect.get(t,"socketTimeout")??0,i=t.noDelay??!0,o=t.connectTimeoutMS??3e4,u=t.rejectUnauthorized??!0,a=((t.keepAliveInitialDelay??12e4)>s?Math.round(s/2):t.keepAliveInitialDelay)??12e4,c=t.existingSocket,l,f=function(g,_){g&&l&&l.destroy(),e(g,_)};if(t.proxyHost!=null)return dK({...t,connectTimeoutMS:o},f);if(r){let g=eK.connect(fK(t));typeof g.disableRenegotiation=="function"&&g.disableRenegotiation(),l=g}else c?l=c:l=N5.createConnection(I3(t));l.setKeepAlive(n,a),l.setTimeout(o),l.setNoDelay(i);let h=r?"secureConnect":"connect",d;function p(g){return _=>{M3.forEach(E=>l.removeAllListeners(E)),d&&t.cancellationToken&&t.cancellationToken.removeListener("cancel",d),l.removeListener(h,m),f(k5(g,_))}}function m(){if(M3.forEach(g=>l.removeAllListeners(g)),d&&t.cancellationToken&&t.cancellationToken.removeListener("cancel",d),"authorizationError"in l&&l.authorizationError&&u)return f(l.authorizationError);l.setTimeout(0),f(void 0,l)}M3.forEach(g=>l.once(g,p(g))),t.cancellationToken&&(d=p("cancel"),t.cancellationToken.once("cancel",d)),c?process.nextTick(m):l.once(h,m)}function dK(t,e){let r=x5.HostAddress.fromHostPort(t.proxyHost??"",t.proxyPort??1080);F3({...t,hostAddress:r,tls:!1,proxyHost:void 0},(n,s)=>{if(n)return e(n);let i=I3(t);if(typeof i.host!="string"||typeof i.port!="number")return e(new Nt.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts"));ZG.SocksClient.createConnection({existing_socket:s,timeout:t.connectTimeoutMS,command:"connect",destination:{host:i.host,port:i.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:t.proxyUsername||void 0,password:t.proxyPassword||void 0}}).then(({socket:o})=>{F3({...t,existingSocket:o,proxyHost:void 0},e)},o=>e(k5("error",o)))})}function k5(t,e){switch(t){case"error":return new Nt.MongoNetworkError(e);case"timeout":return new Nt.MongoNetworkTimeoutError("connection timed out");case"close":return new Nt.MongoNetworkError("connection closed");case"cancel":return new Nt.MongoNetworkError("connection establishment was cancelled");default:return new Nt.MongoNetworkError("unknown network error")}}});var z3=y(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.ConnectionPoolClearedEvent=tt.ConnectionCheckedInEvent=tt.ConnectionCheckedOutEvent=tt.ConnectionCheckOutFailedEvent=tt.ConnectionCheckOutStartedEvent=tt.ConnectionClosedEvent=tt.ConnectionReadyEvent=tt.ConnectionCreatedEvent=tt.ConnectionPoolClosedEvent=tt.ConnectionPoolReadyEvent=tt.ConnectionPoolCreatedEvent=tt.ConnectionPoolMonitoringEvent=void 0;var cs=kt(),Vr=class{constructor(e){this.time=new Date,this.address=e.address}};tt.ConnectionPoolMonitoringEvent=Vr;var N3=class extends Vr{constructor(e){super(e),this.name=cs.CONNECTION_POOL_CREATED,e.options.credentials!=null?this.options={...e.options,credentials:{}}:this.options=e.options}};tt.ConnectionPoolCreatedEvent=N3;var R3=class extends Vr{constructor(e){super(e),this.name=cs.CONNECTION_POOL_READY}};tt.ConnectionPoolReadyEvent=R3;var x3=class extends Vr{constructor(e){super(e),this.name=cs.CONNECTION_POOL_CLOSED}};tt.ConnectionPoolClosedEvent=x3;var v3=class extends Vr{constructor(e,r){super(e),this.name=cs.CONNECTION_CREATED,this.connectionId=r.id}};tt.ConnectionCreatedEvent=v3;var k3=class extends Vr{constructor(e,r){super(e),this.name=cs.CONNECTION_READY,this.connectionId=r.id}};tt.ConnectionReadyEvent=k3;var q3=class extends Vr{constructor(e,r,n,s){super(e),this.name=cs.CONNECTION_CLOSED,this.connectionId=r.id,this.reason=n,this.serviceId=r.serviceId,this.error=s??null}};tt.ConnectionClosedEvent=q3;var L3=class extends Vr{constructor(e){super(e),this.name=cs.CONNECTION_CHECK_OUT_STARTED}};tt.ConnectionCheckOutStartedEvent=L3;var j3=class extends Vr{constructor(e,r,n){super(e),this.name=cs.CONNECTION_CHECK_OUT_FAILED,this.reason=r,this.error=n}};tt.ConnectionCheckOutFailedEvent=j3;var U3=class extends Vr{constructor(e,r){super(e),this.name=cs.CONNECTION_CHECKED_OUT,this.connectionId=r.id}};tt.ConnectionCheckedOutEvent=U3;var V3=class extends Vr{constructor(e,r){super(e),this.name=cs.CONNECTION_CHECKED_IN,this.connectionId=r.id}};tt.ConnectionCheckedInEvent=V3;var W3=class extends Vr{constructor(e,r={}){super(e),this.name=cs.CONNECTION_POOL_CLEARED,this.serviceId=r.serviceId,this.interruptInUseConnections=r.interruptInUseConnections}};tt.ConnectionPoolClearedEvent=W3});var Y3=y(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.WaitQueueTimeoutError=Vs.PoolClearedOnNetworkError=Vs.PoolClearedError=Vs.PoolClosedError=void 0;var tp=Q(),H3=class extends tp.MongoDriverError{constructor(e){super("Attempted to check out a connection from closed connection pool"),this.address=e.address}get name(){return"MongoPoolClosedError"}};Vs.PoolClosedError=H3;var rp=class extends tp.MongoNetworkError{constructor(e,r){let n=r||`Connection pool for ${e.address} was cleared because another operation failed with: "${e.serverError?.message}"`;super(n),this.address=e.address,this.addErrorLabel(tp.MongoErrorLabel.RetryableWriteError)}get name(){return"MongoPoolClearedError"}};Vs.PoolClearedError=rp;var G3=class extends rp{constructor(e){super(e,`Connection to ${e.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}};Vs.PoolClearedOnNetworkError=G3;var K3=class extends tp.MongoDriverError{constructor(e,r){super(e),this.address=r}get name(){return"MongoWaitQueueTimeoutError"}};Vs.WaitQueueTimeoutError=K3});var U5=y(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.ConnectionPool=sr.PoolState=void 0;var Ws=require("timers"),kn=kt(),ls=Q(),q5=ln(),np=ne(),L5=$3(),sp=x1(),nr=z3(),qa=Y3(),pK=by(),ip=Symbol("server"),yi=Symbol("connections"),La=Symbol("pending"),lo=Symbol("checkedOut"),nu=Symbol("minPoolSizeTimer"),ja=Symbol("generation"),j5=Symbol("serviceGenerations"),op=Symbol("connectionCounter"),up=Symbol("cancellationToken"),gi=Symbol("waitQueue"),ap=Symbol("cancelled"),cp=Symbol("metrics"),lp=Symbol("processingWaitQueue"),fs=Symbol("poolState");sr.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});var Wr=class t extends q5.TypedEventEmitter{constructor(e,r){if(super(),this.options=Object.freeze({...r,connectionType:sp.Connection,maxPoolSize:r.maxPoolSize??100,minPoolSize:r.minPoolSize??0,maxConnecting:r.maxConnecting??2,maxIdleTimeMS:r.maxIdleTimeMS??0,waitQueueTimeoutMS:r.waitQueueTimeoutMS??0,minPoolSizeCheckFrequencyMS:r.minPoolSizeCheckFrequencyMS??100,autoEncrypter:r.autoEncrypter,metadata:r.metadata}),this.options.minPoolSize>this.options.maxPoolSize)throw new ls.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this[fs]=sr.PoolState.paused,this[ip]=e,this[yi]=new np.List,this[La]=0,this[lo]=new Set,this[nu]=void 0,this[ja]=0,this[j5]=new Map,this[op]=(0,np.makeCounter)(1),this[up]=new q5.CancellationToken,this[up].setMaxListeners(1/0),this[gi]=new np.List,this[cp]=new pK.ConnectionPoolMetrics,this[lp]=!1,this.mongoLogger=this[ip].topology.client.mongoLogger,this.component="connection",process.nextTick(()=>{this.emitAndLog(t.CONNECTION_POOL_CREATED,new nr.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this[fs]===sr.PoolState.closed}get generation(){return this[ja]}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this[yi].length}get pendingConnectionCount(){return this[La]}get currentCheckedOutCount(){return this[lo].size}get waitQueueSize(){return this[gi].length}get loadBalanced(){return this.options.loadBalanced}get serviceGenerations(){return this[j5]}get serverError(){return this[ip].description.error}get checkedOutConnections(){return this[lo]}waitQueueErrorMetrics(){return this[cp].info(this.options.maxPoolSize)}ready(){this[fs]===sr.PoolState.paused&&(this[fs]=sr.PoolState.ready,this.emitAndLog(t.CONNECTION_POOL_READY,new nr.ConnectionPoolReadyEvent(this)),(0,Ws.clearTimeout)(this[nu]),this.ensureMinPoolSize())}checkOut(e){this.emitAndLog(t.CONNECTION_CHECK_OUT_STARTED,new nr.ConnectionCheckOutStartedEvent(this));let r={callback:e},n=this.options.waitQueueTimeoutMS;n&&(r.timer=(0,Ws.setTimeout)(()=>{r[ap]=!0,r.timer=void 0,this.emitAndLog(t.CONNECTION_CHECK_OUT_FAILED,new nr.ConnectionCheckOutFailedEvent(this,"timeout")),r.callback(new qa.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address))},n)),this[gi].push(r),process.nextTick(()=>this.processWaitQueue())}checkIn(e){if(!this[lo].has(e))return;let r=this.closed,n=this.connectionIsStale(e),s=!!(r||n||e.closed);if(s||(e.markAvailable(),this[yi].unshift(e)),this[lo].delete(e),this.emitAndLog(t.CONNECTION_CHECKED_IN,new nr.ConnectionCheckedInEvent(this,e)),s){let i=e.closed?"error":r?"poolClosed":"stale";this.destroyConnection(e,i)}process.nextTick(()=>this.processWaitQueue())}clear(e={}){if(this.closed)return;if(this.loadBalanced){let{serviceId:i}=e;if(!i)throw new ls.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");let o=i.toHexString(),u=this.serviceGenerations.get(o);if(u==null)throw new ls.MongoRuntimeError("Service generations are required in load balancer mode.");this.serviceGenerations.set(o,u+1),this.emitAndLog(t.CONNECTION_POOL_CLEARED,new nr.ConnectionPoolClearedEvent(this,{serviceId:i}));return}let r=e.interruptInUseConnections??!1,n=this[ja];this[ja]+=1;let s=this[fs]===sr.PoolState.paused;this[fs]=sr.PoolState.paused,this.clearMinPoolSizeTimer(),s||this.emitAndLog(t.CONNECTION_POOL_CLEARED,new nr.ConnectionPoolClearedEvent(this,{interruptInUseConnections:r})),r&&process.nextTick(()=>this.interruptInUseConnections(n)),this.processWaitQueue()}interruptInUseConnections(e){for(let r of this[lo])r.generation<=e&&(this.checkIn(r),r.onError(new qa.PoolClearedOnNetworkError(this)))}close(e,r){let n=e,s=r??e;if(typeof n=="function"&&(n={}),n=Object.assign({force:!1},n),this.closed)return s();this[up].emit("cancel"),typeof this[op].return=="function"&&this[op].return(void 0),this[fs]=sr.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue(),(0,np.eachAsync)(this[yi].toArray(),(i,o)=>{this.emitAndLog(t.CONNECTION_CLOSED,new nr.ConnectionClosedEvent(this,i,"poolClosed")),i.destroy({force:!!n.force},o)},i=>{this[yi].clear(),this.emitAndLog(t.CONNECTION_POOL_CLOSED,new nr.ConnectionPoolClosedEvent(this)),s(i)})}withConnection(e,r,n){if(e){r(void 0,e,(s,i)=>{if(s)return this.withReauthentication(s,e,r,n);n(void 0,i)});return}this.checkOut((s,i)=>{r(s,i,(o,u)=>{o?i?this.withReauthentication(o,i,r,n):n(o):n(void 0,u),i&&this.checkIn(i)})})}withReauthentication(e,r,n,s){e instanceof ls.MongoError&&e.code===ls.MONGODB_ERROR_CODES.Reauthenticate?this.reauthenticate(r,n,(i,o)=>{if(i)return s(i);s(void 0,o)}):s(e)}reauthenticate(e,r,n){let s=e.authContext;if(!s)return n(new ls.MongoRuntimeError("No auth context found on connection."));let i=s.credentials;if(!i)return n(new ls.MongoMissingCredentialsError("Connection is missing credentials when asked to reauthenticate"));let o=i.resolveAuthMechanism(e.hello||void 0),u=L5.AUTH_PROVIDERS.get(o.mechanism);if(!u)return n(new ls.MongoMissingCredentialsError(`Reauthenticate failed due to no auth provider for ${i.mechanism}`));u.reauth(s).then(()=>{r(void 0,e,(a,c)=>{if(a)return n(a);n(void 0,c)})},a=>n(a))}clearMinPoolSizeTimer(){let e=this[nu];e&&(0,Ws.clearTimeout)(e)}destroyConnection(e,r){this.emitAndLog(t.CONNECTION_CLOSED,new nr.ConnectionClosedEvent(this,e,r)),process.nextTick(()=>e.destroy({force:!1}))}connectionIsStale(e){let r=e.serviceId;if(this.loadBalanced&&r){let n=r.toHexString(),s=this.serviceGenerations.get(n);return e.generation!==s}return e.generation!==this[ja]}connectionIsIdle(e){return!!(this.options.maxIdleTimeMS&&e.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(e){let r=this.connectionIsStale(e),n=this.connectionIsIdle(e);if(!r&&!n&&!e.closed)return!1;let s=e.closed?"error":r?"stale":"idle";return this.destroyConnection(e,s),!0}createConnection(e){let r={...this.options,id:this[op].next().value,generation:this[ja],cancellationToken:this[up]};this[La]++,this.emitAndLog(t.CONNECTION_CREATED,new nr.ConnectionCreatedEvent(this,{id:r.id})),(0,L5.connect)(r,(n,s)=>{if(n||!s){this[La]--,this.emitAndLog(t.CONNECTION_CLOSED,new nr.ConnectionClosedEvent(this,{id:r.id,serviceId:void 0},"error",n)),(n instanceof ls.MongoNetworkError||n instanceof ls.MongoServerError)&&(n.connectionGeneration=r.generation),e(n??new ls.MongoRuntimeError("Connection creation failed without error"));return}if(this[fs]!==sr.PoolState.ready){this[La]--,s.destroy({force:!0}),e(this.closed?new qa.PoolClosedError(this):new qa.PoolClearedError(this));return}for(let i of[...kn.APM_EVENTS,sp.Connection.CLUSTER_TIME_RECEIVED])s.on(i,o=>this.emit(i,o));if(this.loadBalanced){s.on(sp.Connection.PINNED,o=>this[cp].markPinned(o)),s.on(sp.Connection.UNPINNED,o=>this[cp].markUnpinned(o));let i=s.serviceId;if(i){let o,u=i.toHexString();(o=this.serviceGenerations.get(u))?s.generation=o:(this.serviceGenerations.set(u,0),s.generation=0)}}s.markAvailable(),this.emitAndLog(t.CONNECTION_READY,new nr.ConnectionReadyEvent(this,s)),this[La]--,e(void 0,s)})}ensureMinPoolSize(){let e=this.options.minPoolSize;this[fs]!==sr.PoolState.ready||e===0||(this[yi].prune(r=>this.destroyConnectionIfPerished(r)),this.totalConnectionCount<e&&this.pendingConnectionCount<this.options.maxConnecting?this.createConnection((r,n)=>{r&&this[ip].handleError(r),!r&&n&&(this[yi].push(n),process.nextTick(()=>this.processWaitQueue())),this[fs]===sr.PoolState.ready&&((0,Ws.clearTimeout)(this[nu]),this[nu]=(0,Ws.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS))}):((0,Ws.clearTimeout)(this[nu]),this[nu]=(0,Ws.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)))}processWaitQueue(){if(this[lp])return;for(this[lp]=!0;this.waitQueueSize;){let n=this[gi].first();if(!n){this[gi].shift();continue}if(n[ap]){this[gi].shift();continue}if(this[fs]!==sr.PoolState.ready){let i=this.closed?"poolClosed":"connectionError",o=this.closed?new qa.PoolClosedError(this):new qa.PoolClearedError(this);this.emitAndLog(t.CONNECTION_CHECK_OUT_FAILED,new nr.ConnectionCheckOutFailedEvent(this,i,o)),n.timer&&(0,Ws.clearTimeout)(n.timer),this[gi].shift(),n.callback(o);continue}if(!this.availableConnectionCount)break;let s=this[yi].shift();if(!s)break;this.destroyConnectionIfPerished(s)||(this[lo].add(s),this.emitAndLog(t.CONNECTION_CHECKED_OUT,new nr.ConnectionCheckedOutEvent(this,s)),n.timer&&(0,Ws.clearTimeout)(n.timer),this[gi].shift(),n.callback(void 0,s))}let{maxPoolSize:e,maxConnecting:r}=this.options;for(;this.waitQueueSize>0&&this.pendingConnectionCount<r&&(e===0||this.totalConnectionCount<e);){let n=this[gi].shift();!n||n[ap]||this.createConnection((s,i)=>{n[ap]?!s&&i&&this[yi].push(i):(s?this.emitAndLog(t.CONNECTION_CHECK_OUT_FAILED,new nr.ConnectionCheckOutFailedEvent(this,"connectionError",s)):i&&(this[lo].add(i),this.emitAndLog(t.CONNECTION_CHECKED_OUT,new nr.ConnectionCheckedOutEvent(this,i))),n.timer&&(0,Ws.clearTimeout)(n.timer),n.callback(s,i)),process.nextTick(()=>this.processWaitQueue())})}this[lp]=!1}};Wr.CONNECTION_POOL_CREATED=kn.CONNECTION_POOL_CREATED;Wr.CONNECTION_POOL_CLOSED=kn.CONNECTION_POOL_CLOSED;Wr.CONNECTION_POOL_CLEARED=kn.CONNECTION_POOL_CLEARED;Wr.CONNECTION_POOL_READY=kn.CONNECTION_POOL_READY;Wr.CONNECTION_CREATED=kn.CONNECTION_CREATED;Wr.CONNECTION_READY=kn.CONNECTION_READY;Wr.CONNECTION_CLOSED=kn.CONNECTION_CLOSED;Wr.CONNECTION_CHECK_OUT_STARTED=kn.CONNECTION_CHECK_OUT_STARTED;Wr.CONNECTION_CHECK_OUT_FAILED=kn.CONNECTION_CHECK_OUT_FAILED;Wr.CONNECTION_CHECKED_OUT=kn.CONNECTION_CHECKED_OUT;Wr.CONNECTION_CHECKED_IN=kn.CONNECTION_CHECKED_IN;sr.ConnectionPool=Wr});var Y5=y(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.MonitorInterval=ho.RTTPinger=ho.Monitor=void 0;var fo=require("timers"),V5=pt(),G5=$3(),mK=x1(),Q3=kt(),L1=Q(),W5=ln(),yn=ne(),ir=Dn(),j1=Td(),U1=X3(),fp=Symbol("server"),zs=Symbol("monitorId"),or=Symbol("connection"),ou=Symbol("cancellationToken"),su=Symbol("rttPinger"),V1=Symbol("roundTripTime"),Ua="idle",iu="monitoring",Va=(0,yn.makeStateMachine)({[ir.STATE_CLOSING]:[ir.STATE_CLOSING,Ua,ir.STATE_CLOSED],[ir.STATE_CLOSED]:[ir.STATE_CLOSED,iu],[Ua]:[Ua,iu,ir.STATE_CLOSING],[iu]:[iu,Ua,ir.STATE_CLOSING]}),yK=new Set([ir.STATE_CLOSING,ir.STATE_CLOSED,iu]);function W1(t){return t.s.state===ir.STATE_CLOSED||t.s.state===ir.STATE_CLOSING}var J3=class extends W5.TypedEventEmitter{get connection(){return this[or]}constructor(e,r){super(),this[fp]=e,this[or]=void 0,this[ou]=new W5.CancellationToken,this[ou].setMaxListeners(1/0),this[zs]=void 0,this.s={state:ir.STATE_CLOSED},this.address=e.description.address,this.options=Object.freeze({connectTimeoutMS:r.connectTimeoutMS??1e4,heartbeatFrequencyMS:r.heartbeatFrequencyMS??1e4,minHeartbeatFrequencyMS:r.minHeartbeatFrequencyMS??500});let n=this[ou],s=Object.assign({id:"<monitor>",generation:e.pool.generation,connectionType:mK.Connection,cancellationToken:n,hostAddress:e.description.hostAddress},r,{raw:!1,useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0});delete s.credentials,s.autoEncrypter&&delete s.autoEncrypter,this.connectOptions=Object.freeze(s)}connect(){if(this.s.state!==ir.STATE_CLOSED)return;let e=this.options.heartbeatFrequencyMS,r=this.options.minHeartbeatFrequencyMS;this[zs]=new z1(H5(this),{heartbeatFrequencyMS:e,minHeartbeatFrequencyMS:r,immediate:!0})}requestCheck(){yK.has(this.s.state)||this[zs]?.wake()}reset(){let e=this[fp].description.topologyVersion;if(W1(this)||e==null)return;Va(this,ir.STATE_CLOSING),z5(this),Va(this,Ua);let r=this.options.heartbeatFrequencyMS,n=this.options.minHeartbeatFrequencyMS;this[zs]=new z1(H5(this),{heartbeatFrequencyMS:r,minHeartbeatFrequencyMS:n})}close(){W1(this)||(Va(this,ir.STATE_CLOSING),z5(this),this.emit("close"),Va(this,ir.STATE_CLOSED))}};ho.Monitor=J3;function z5(t){t[zs]?.stop(),t[zs]=void 0,t[su]?.close(),t[su]=void 0,t[ou].emit("cancel"),t[or]?.destroy({force:!0}),t[or]=void 0}function gK(t,e){let r=(0,yn.now)();t.emit(U1.Server.SERVER_HEARTBEAT_STARTED,new j1.ServerHeartbeatStartedEvent(t.address));function n(i){t[or]?.destroy({force:!0}),t[or]=void 0,t.emit(U1.Server.SERVER_HEARTBEAT_FAILED,new j1.ServerHeartbeatFailedEvent(t.address,(0,yn.calculateDurationInMs)(r),i));let o=i instanceof L1.MongoError?i:new L1.MongoError(i);o.addErrorLabel(L1.MongoErrorLabel.ResetPool),o instanceof L1.MongoNetworkTimeoutError&&o.addErrorLabel(L1.MongoErrorLabel.InterruptInUseConnections),t.emit("resetServer",o),e(i)}let s=t[or];if(s&&!s.closed){let{serverApi:i,helloOk:o}=s,u=t.options.connectTimeoutMS,a=t.options.heartbeatFrequencyMS,c=t[fp].description.topologyVersion,l=c!=null,f={[i?.version||o?"hello":Q3.LEGACY_HELLO_COMMAND]:1,...l&&c?{maxAwaitTimeMS:a,topologyVersion:EK(c)}:{}},h=l?{socketTimeoutMS:u?u+a:0,exhaustAllowed:!0}:{socketTimeoutMS:u};l&&t[su]==null&&(t[su]=new hp(t[ou],Object.assign({heartbeatFrequencyMS:t.options.heartbeatFrequencyMS},t.connectOptions))),s.command((0,yn.ns)("admin.$cmd"),f,h,(d,p)=>{if(d)return n(d);"isWritablePrimary"in p||(p.isWritablePrimary=p[Q3.LEGACY_HELLO_COMMAND]);let m=t[su],g=l&&m?m.roundTripTime:(0,yn.calculateDurationInMs)(r);t.emit(U1.Server.SERVER_HEARTBEAT_SUCCEEDED,new j1.ServerHeartbeatSucceededEvent(t.address,g,p)),l&&p.topologyVersion?(t.emit(U1.Server.SERVER_HEARTBEAT_STARTED,new j1.ServerHeartbeatStartedEvent(t.address)),r=(0,yn.now)()):(t[su]?.close(),t[su]=void 0,e(void 0,p))});return}(0,G5.connect)(t.connectOptions,(i,o)=>{if(i){t[or]=void 0,n(i);return}if(o){if(o.isMonitoringConnection=!0,W1(t)){o.destroy({force:!0});return}t[or]=o,t.emit(U1.Server.SERVER_HEARTBEAT_SUCCEEDED,new j1.ServerHeartbeatSucceededEvent(t.address,(0,yn.calculateDurationInMs)(r),o.hello)),e(void 0,o.hello)}})}function H5(t){return e=>{if(t.s.state===iu){process.nextTick(e);return}Va(t,iu);function r(){W1(t)||Va(t,Ua),e()}gK(t,(n,s)=>{if(n&&t[fp].description.type===ir.ServerType.Unknown)return r();s&&s.topologyVersion&&(0,fo.setTimeout)(()=>{W1(t)||t[zs]?.wake()},0),r()})}}function EK(t){return{processId:t.processId,counter:V5.Long.isLong(t.counter)?t.counter:V5.Long.fromNumber(t.counter)}}var hp=class{constructor(e,r){this[or]=void 0,this[ou]=e,this[V1]=0,this.closed=!1;let n=r.heartbeatFrequencyMS;this[zs]=(0,fo.setTimeout)(()=>K5(this,r),n)}get roundTripTime(){return this[V1]}close(){this.closed=!0,(0,fo.clearTimeout)(this[zs]),this[or]?.destroy({force:!0}),this[or]=void 0}};ho.RTTPinger=hp;function K5(t,e){let r=(0,yn.now)();e.cancellationToken=t[ou];let n=e.heartbeatFrequencyMS;if(t.closed)return;function s(o){if(t.closed){o?.destroy({force:!0});return}t[or]==null&&(t[or]=o),t[V1]=(0,yn.calculateDurationInMs)(r),t[zs]=(0,fo.setTimeout)(()=>K5(t,e),n)}let i=t[or];if(i==null){(0,G5.connect)(e,(o,u)=>{if(o){t[or]=void 0,t[V1]=0;return}s(u)});return}i.command((0,yn.ns)("admin.$cmd"),{[Q3.LEGACY_HELLO_COMMAND]:1},void 0,o=>{if(o){t[or]=void 0,t[V1]=0;return}s()})}var z1=class{constructor(e,r={}){this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{this.stopped||(this.timerId&&(0,fo.clearTimeout)(this.timerId),this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=(0,yn.now)(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)}))},this.fn=e,this.lastExecutionEnded=-1/0,this.heartbeatFrequencyMS=r.heartbeatFrequencyMS??1e3,this.minHeartbeatFrequencyMS=r.minHeartbeatFrequencyMS??500,r.immediate?this._executeAndReschedule():this._reschedule(void 0)}wake(){let r=(0,yn.now)()-this.lastExecutionEnded;if(r<0)return this._executeAndReschedule();if(!this.isExecutionInProgress&&!this.isExpeditedCallToFnScheduled){if(r<this.minHeartbeatFrequencyMS){this.isExpeditedCallToFnScheduled=!0,this._reschedule(this.minHeartbeatFrequencyMS-r);return}this._executeAndReschedule()}}stop(){this.stopped=!0,this.timerId&&((0,fo.clearTimeout)(this.timerId),this.timerId=void 0),this.lastExecutionEnded=-1/0,this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){let e=(0,yn.now)(),r=e-this.lastExecutionEnded;return{timerId:this.timerId!=null?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:e,timeSinceLastCall:r}}_reschedule(e){this.stopped||(this.timerId&&(0,fo.clearTimeout)(this.timerId),this.timerId=(0,fo.setTimeout)(this._executeAndReschedule,e||this.heartbeatFrequencyMS))}};ho.MonitorInterval=z1});var X3=y(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.Server=void 0;var _K=require("util"),AK=x1(),OK=U5(),CK=Y3(),Hs=kt(),ut=Q(),SK=ln(),tE=$y(),dp=ne(),Qe=Dn(),wK=Y5(),rE=o1(),H1=(0,dp.makeStateMachine)({[Qe.STATE_CLOSED]:[Qe.STATE_CLOSED,Qe.STATE_CONNECTING],[Qe.STATE_CONNECTING]:[Qe.STATE_CONNECTING,Qe.STATE_CLOSING,Qe.STATE_CONNECTED,Qe.STATE_CLOSED],[Qe.STATE_CONNECTED]:[Qe.STATE_CONNECTED,Qe.STATE_CLOSING,Qe.STATE_CLOSED],[Qe.STATE_CLOSING]:[Qe.STATE_CLOSING,Qe.STATE_CLOSED]}),Wa=Symbol("monitor"),hs=class t extends SK.TypedEventEmitter{constructor(e,r,n){super(),this.commandAsync=(0,_K.promisify)((o,u,a,c)=>this.command(o,u,a,c)),this.serverApi=n.serverApi;let s={hostAddress:r.hostAddress,...n};this.topology=e,this.pool=new OK.ConnectionPool(this,s),this.s={description:r,options:n,state:Qe.STATE_CLOSED,operationCount:0};for(let o of[...Hs.CMAP_EVENTS,...Hs.APM_EVENTS])this.pool.on(o,u=>this.emit(o,u));if(this.pool.on(AK.Connection.CLUSTER_TIME_RECEIVED,o=>{this.clusterTime=o}),this.loadBalanced){this[Wa]=null;return}let i=new wK.Monitor(this,this.s.options);this[Wa]=i;for(let o of Hs.HEARTBEAT_EVENTS)i.on(o,u=>this.emit(o,u));i.on("resetServer",o=>Z3(this,o)),i.on(t.SERVER_HEARTBEAT_SUCCEEDED,o=>{this.emit(t.DESCRIPTION_RECEIVED,new rE.ServerDescription(this.description.hostAddress,o.reply,{roundTripTime:bK(this.description.roundTripTime,o.duration)})),this.s.state===Qe.STATE_CONNECTING&&(H1(this,Qe.STATE_CONNECTED),this.emit(t.CONNECT,this))})}get clusterTime(){return this.topology.clusterTime}set clusterTime(e){this.topology.clusterTime=e}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter}get loadBalanced(){return this.topology.description.type===Qe.TopologyType.LoadBalanced}connect(){this.s.state===Qe.STATE_CLOSED&&(H1(this,Qe.STATE_CONNECTING),this.loadBalanced?(H1(this,Qe.STATE_CONNECTED),this.emit(t.CONNECT,this)):this[Wa]?.connect())}destroy(e,r){if(typeof e=="function"&&(r=e,e={force:!1}),e=Object.assign({},{force:!1},e),this.s.state===Qe.STATE_CLOSED){typeof r=="function"&&r();return}H1(this,Qe.STATE_CLOSING),this.loadBalanced||this[Wa]?.close(),this.pool.close(e,n=>{H1(this,Qe.STATE_CLOSED),this.emit("closed"),typeof r=="function"&&r(n)})}requestCheck(){this.loadBalanced||this[Wa]?.requestCheck()}command(e,r,n,s){if(s==null)throw new ut.MongoInvalidArgumentError("Callback must be provided");if(e.db==null||typeof e=="string")throw new ut.MongoInvalidArgumentError("Namespace must not be a string");if(this.s.state===Qe.STATE_CLOSING||this.s.state===Qe.STATE_CLOSED){s(new ut.MongoServerClosedError);return}let i=Object.assign({},n,{wireProtocolCommand:!1});i.omitReadPreference&&delete i.readPreference;let o=i.session,u=o?.pinnedConnection;if(this.loadBalanced&&o&&u==null&&DK(r,o)){this.pool.checkOut((a,c)=>{if(a||c==null)return s?s(a):void 0;o.pin(c),this.command(e,r,i,s)});return}this.incrementOperationCount(),this.pool.withConnection(u,(a,c,l)=>{if(a||!c)return this.decrementOperationCount(),a?(a instanceof CK.PoolClearedError||this.handleError(a),l(a)):l(new ut.MongoRuntimeError("Failed to create connection without error"));c.command(e,r,i,PK(this,c,r,i,(f,h)=>{this.decrementOperationCount(),l(f,h)}))},s)}handleError(e,r){if(!(e instanceof ut.MongoError)||e.connectionGeneration&&e.connectionGeneration<this.pool.generation)return;let s=e instanceof ut.MongoNetworkError&&!(e instanceof ut.MongoNetworkTimeoutError),i=(0,ut.isNetworkErrorBeforeHandshake)(e),o=e.hasErrorLabel(ut.MongoErrorLabel.HandshakeError);if(s||i||o)this.loadBalanced?r&&this.pool.clear({serviceId:r.serviceId}):(e.addErrorLabel(ut.MongoErrorLabel.ResetPool),Z3(this,e));else if((0,ut.isSDAMUnrecoverableError)(e)&&TK(this,e)){let u=(0,dp.maxWireVersion)(this)<=7||(0,ut.isNodeShuttingDownError)(e);this.loadBalanced&&r&&u&&this.pool.clear({serviceId:r.serviceId}),this.loadBalanced||(u&&e.addErrorLabel(ut.MongoErrorLabel.ResetPool),Z3(this,e),process.nextTick(()=>this.requestCheck()))}}decrementOperationCount(){return this.s.operationCount-=1}incrementOperationCount(){return this.s.operationCount+=1}};hs.SERVER_HEARTBEAT_STARTED=Hs.SERVER_HEARTBEAT_STARTED;hs.SERVER_HEARTBEAT_SUCCEEDED=Hs.SERVER_HEARTBEAT_SUCCEEDED;hs.SERVER_HEARTBEAT_FAILED=Hs.SERVER_HEARTBEAT_FAILED;hs.CONNECT=Hs.CONNECT;hs.DESCRIPTION_RECEIVED=Hs.DESCRIPTION_RECEIVED;hs.CLOSED=Hs.CLOSED;hs.ENDED=Hs.ENDED;pp.Server=hs;function bK(t,e){if(t===-1)return e;let r=.2;return r*e+(1-r)*t}function Z3(t,e){t.loadBalanced||(e instanceof ut.MongoNetworkError&&!(e instanceof ut.MongoNetworkTimeoutError)&&t[Wa]?.reset(),t.emit(hs.DESCRIPTION_RECEIVED,new rE.ServerDescription(t.description.hostAddress,void 0,{error:e})))}function DK(t,e){return e?e.inTransaction()||"aggregate"in t||"find"in t||"getMore"in t||"listCollections"in t||"listIndexes"in t:!1}function BK(t,e){return e.serviceId?e.generation!==t.serviceGenerations.get(e.serviceId.toHexString()):e.generation!==t.generation}function TK(t,e){let r=e.topologyVersion,n=t.description.topologyVersion;return(0,rE.compareTopologyVersion)(n,r)<0}function eE(t,e){return t&&t.inTransaction()&&!(0,tE.isTransactionCommand)(e)}function Q5(t){return t.s.options.retryWrites!==!1}function PK(t,e,r,n,s){let i=n?.session;return function(u,a){return u==null&&a!=null?s(void 0,a):n!=null&&"noResponse"in n&&n.noResponse===!0?s(void 0,null):u?(!(u instanceof ut.MongoError)||BK(t.pool,e)||(u instanceof ut.MongoNetworkError?(i&&!i.hasEnded&&i.serverSession&&(i.serverSession.isDirty=!0),eE(i,r)&&!u.hasErrorLabel(ut.MongoErrorLabel.TransientTransactionError)&&u.addErrorLabel(ut.MongoErrorLabel.TransientTransactionError),(Q5(t.topology)||(0,tE.isTransactionCommand)(r))&&(0,dp.supportsRetryableWrites)(t)&&!eE(i,r)&&u.addErrorLabel(ut.MongoErrorLabel.RetryableWriteError)):(Q5(t.topology)||(0,tE.isTransactionCommand)(r))&&(0,ut.needsRetryableWriteLabel)(u,(0,dp.maxWireVersion)(t))&&!eE(i,r)&&u.addErrorLabel(ut.MongoErrorLabel.RetryableWriteError),i&&i.isPinned&&u.hasErrorLabel(ut.MongoErrorLabel.TransientTransactionError)&&i.unpin({force:!0}),t.handleError(u,e)),s(u)):s(new ut.MongoUnexpectedServerResponseError("Empty response with no error"))}}});var sE=y(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.SrvPoller=za.SrvPollingEvent=void 0;var MK=require("dns"),nE=require("timers"),FK=Q(),IK=ln(),J5=ne(),mp=class{constructor(e){this.srvRecords=e}hostnames(){return new Set(this.srvRecords.map(e=>J5.HostAddress.fromSrvRecord(e).toString()))}};za.SrvPollingEvent=mp;var yp=class t extends IK.TypedEventEmitter{constructor(e){if(super(),!e||!e.srvHost)throw new FK.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=e.srvHost,this.srvMaxHosts=e.srvMaxHosts??0,this.srvServiceName=e.srvServiceName??"mongodb",this.rescanSrvIntervalMS=6e4,this.heartbeatFrequencyMS=e.heartbeatFrequencyMS??1e4,this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){this._timeout||this.schedule()}stop(){this._timeout&&((0,nE.clearTimeout)(this._timeout),this.generation+=1,this._timeout=void 0)}schedule(){this._timeout&&(0,nE.clearTimeout)(this._timeout),this._timeout=(0,nE.setTimeout)(()=>{this._poll().catch(()=>null)},this.intervalMS)}success(e){this.haMode=!1,this.schedule(),this.emit(t.SRV_RECORD_DISCOVERY,new mp(e))}failure(){this.haMode=!0,this.schedule()}async _poll(){let e=this.generation,r;try{r=await MK.promises.resolveSrv(this.srvAddress)}catch{this.failure();return}if(e!==this.generation)return;let n=[];for(let s of r)(0,J5.matchesParentDomain)(s.name,this.srvHost)&&n.push(s);if(!n.length){this.failure();return}this.success(n)}};yp.SRV_RECORD_DISCOVERY="srvRecordDiscovery";za.SrvPoller=yp});var uw=y(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.ServerCapabilities=Ha.Topology=void 0;var Ep=require("timers"),X5=require("util"),Z5=m6(),zr=kt(),Ai=Q(),$K=ln(),G1=It(),Ei=ne(),me=Dn(),po=Td(),ew=X3(),oE=o1(),iE=Yc(),gp=sE(),tw=Py(),NK=0,K1=(0,Ei.makeStateMachine)({[me.STATE_CLOSED]:[me.STATE_CLOSED,me.STATE_CONNECTING],[me.STATE_CONNECTING]:[me.STATE_CONNECTING,me.STATE_CLOSING,me.STATE_CONNECTED,me.STATE_CLOSED],[me.STATE_CONNECTED]:[me.STATE_CONNECTED,me.STATE_CLOSING,me.STATE_CLOSED],[me.STATE_CLOSING]:[me.STATE_CLOSING,me.STATE_CLOSED]}),uE=Symbol("cancelled"),_i=Symbol("waitQueue"),wr=class t extends $K.TypedEventEmitter{constructor(e,r,n){super(),this.client=e,this.selectServerAsync=(0,X5.promisify)((c,l,f)=>this.selectServer(c,l,f)),n=n??{hosts:[Ei.HostAddress.fromString("localhost:27017")],...Object.fromEntries(Z5.DEFAULT_OPTIONS.entries()),...Object.fromEntries(Z5.FEATURE_FLAGS.entries())},typeof r=="string"?r=[Ei.HostAddress.fromString(r)]:Array.isArray(r)||(r=[r]);let s=[];for(let c of r)if(typeof c=="string")s.push(Ei.HostAddress.fromString(c));else if(c instanceof Ei.HostAddress)s.push(c);else throw new Ai.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(c)}`);let i=RK(n),o=NK++,u=n.srvMaxHosts==null||n.srvMaxHosts===0||n.srvMaxHosts>=s.length?s:(0,Ei.shuffle)(s,n.srvMaxHosts),a=new Map;for(let c of u)a.set(c.toString(),new oE.ServerDescription(c));this[_i]=new Ei.List,this.s={id:o,options:n,seedlist:s,state:me.STATE_CLOSED,description:new tw.TopologyDescription(i,a,n.replicaSet,void 0,void 0,void 0,n),serverSelectionTimeoutMS:n.serverSelectionTimeoutMS,heartbeatFrequencyMS:n.heartbeatFrequencyMS,minHeartbeatFrequencyMS:n.minHeartbeatFrequencyMS,servers:new Map,credentials:n?.credentials,clusterTime:void 0,connectionTimers:new Set,detectShardedTopology:c=>this.detectShardedTopology(c),detectSrvRecords:c=>this.detectSrvRecords(c)},n.srvHost&&!n.loadBalanced&&(this.s.srvPoller=n.srvPoller??new gp.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:n.srvHost,srvMaxHosts:n.srvMaxHosts,srvServiceName:n.srvServiceName}),this.on(t.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology))}detectShardedTopology(e){let r=e.previousDescription.type,n=e.newDescription.type,s=r!==me.TopologyType.Sharded&&n===me.TopologyType.Sharded,o=!!this.s.srvPoller?.listeners(gp.SrvPoller.SRV_RECORD_DISCOVERY)?.includes(this.s.detectSrvRecords);s&&!o&&(this.s.srvPoller?.on(gp.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),this.s.srvPoller?.start())}detectSrvRecords(e){let r=this.s.description;this.s.description=this.s.description.updateFromSrvPollingEvent(e,this.s.options.srvMaxHosts),this.s.description!==r&&(rw(this),this.emit(t.TOPOLOGY_DESCRIPTION_CHANGED,new po.TopologyDescriptionChangedEvent(this.s.id,r,this.s.description)))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get capabilities(){return new _p(this.lastHello())}connect(e,r){if(typeof e=="function"&&(r=e,e={}),e=e??{},this.s.state===me.STATE_CONNECTED){typeof r=="function"&&r();return}K1(this,me.STATE_CONNECTING),this.emit(t.TOPOLOGY_OPENING,new po.TopologyOpeningEvent(this.s.id)),this.emit(t.TOPOLOGY_DESCRIPTION_CHANGED,new po.TopologyDescriptionChangedEvent(this.s.id,new tw.TopologyDescription(me.TopologyType.Unknown),this.s.description));let n=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(n.map(o=>[o.address,iw(this,o)])),this.s.options.loadBalanced)for(let o of n){let u=new oE.ServerDescription(o.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(u)}let s=o=>r?r(o):this.emit(t.ERROR,o),i=e.readPreference??G1.ReadPreference.primary;this.selectServer((0,iE.readPreferenceServerSelector)(i),e,(o,u)=>{if(o)return this.close({force:!1},()=>s(o));if(!(this.s.options[Symbol.for("@@mdb.skipPingOnConnect")]===!0)&&u&&this.s.credentials){u.command((0,Ei.ns)("admin.$cmd"),{ping:1},{},c=>{if(c)return s(c);K1(this,me.STATE_CONNECTED),this.emit(t.OPEN,this),this.emit(t.CONNECT,this),r?.(void 0,this)});return}K1(this,me.STATE_CONNECTED),this.emit(t.OPEN,this),this.emit(t.CONNECT,this),r?.(void 0,this)})}close(e,r){if(e=e??{force:!1},this.s.state===me.STATE_CLOSED||this.s.state===me.STATE_CLOSING)return r?.();let n=Array.from(this.s.servers.values(),s=>(0,X5.promisify)(sw)(s,this,{force:!!e?.force}));Promise.all(n).then(()=>{this.s.servers.clear(),K1(this,me.STATE_CLOSING),ow(this[_i],new Ai.MongoTopologyClosedError),(0,me.drainTimerQueue)(this.s.connectionTimers),this.s.srvPoller&&(this.s.srvPoller.stop(),this.s.srvPoller.removeListener(gp.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords)),this.removeListener(t.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),K1(this,me.STATE_CLOSED),this.emit(t.TOPOLOGY_CLOSED,new po.TopologyClosedEvent(this.s.id))}).finally(()=>r?.())}selectServer(e,r,n){let s;if(typeof e!="function")if(typeof e=="string")s=(0,iE.readPreferenceServerSelector)(G1.ReadPreference.fromString(e));else{let l;e instanceof G1.ReadPreference?l=e:(G1.ReadPreference.translate(r),l=r.readPreference||G1.ReadPreference.primary),s=(0,iE.readPreferenceServerSelector)(l)}else s=e;r=Object.assign({},{serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS},r);let i=this.description.type===me.TopologyType.Sharded,o=r.session,u=o&&o.transaction;if(i&&u&&u.server){n(void 0,u.server);return}let a={serverSelector:s,transaction:u,callback:n},c=r.serverSelectionTimeoutMS;c&&(a.timer=(0,Ep.setTimeout)(()=>{a[uE]=!0,a.timer=void 0;let l=new Ai.MongoServerSelectionError(`Server selection timed out after ${c} ms`,this.description);a.callback(l)},c)),this[_i].push(a),nw(this)}serverUpdateHandler(e){if(!this.s.description.hasServer(e.address)||xK(this.s.description,e))return;let r=this.s.description,n=this.s.description.servers.get(e.address);if(!n)return;let s=e.$clusterTime;s&&(0,me._advanceClusterTime)(this,s);let i=n&&n.equals(e);if(this.s.description=this.s.description.update(e),this.s.description.compatibilityError){this.emit(t.ERROR,new Ai.MongoCompatibilityError(this.s.description.compatibilityError));return}if(!i){let o=this.s.description.servers.get(e.address);o&&this.emit(t.SERVER_DESCRIPTION_CHANGED,new po.ServerDescriptionChangedEvent(this.s.id,e.address,n,o))}rw(this,e),this[_i].length>0&&nw(this),i||this.emit(t.TOPOLOGY_DESCRIPTION_CHANGED,new po.TopologyDescriptionChangedEvent(this.s.id,r,this.s.description))}auth(e,r){typeof e=="function"&&(r=e,e=void 0),typeof r=="function"&&r(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===me.STATE_CONNECTED}isDestroyed(){return this.s.state===me.STATE_CLOSED}lastHello(){let e=Array.from(this.description.servers.values());return e.length===0?{}:e.filter(s=>s.type!==me.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(e){this.s.clusterTime=e}};wr.SERVER_OPENING=zr.SERVER_OPENING;wr.SERVER_CLOSED=zr.SERVER_CLOSED;wr.SERVER_DESCRIPTION_CHANGED=zr.SERVER_DESCRIPTION_CHANGED;wr.TOPOLOGY_OPENING=zr.TOPOLOGY_OPENING;wr.TOPOLOGY_CLOSED=zr.TOPOLOGY_CLOSED;wr.TOPOLOGY_DESCRIPTION_CHANGED=zr.TOPOLOGY_DESCRIPTION_CHANGED;wr.ERROR=zr.ERROR;wr.OPEN=zr.OPEN;wr.CONNECT=zr.CONNECT;wr.CLOSE=zr.CLOSE;wr.TIMEOUT=zr.TIMEOUT;Ha.Topology=wr;function sw(t,e,r,n){r=r??{force:!1};for(let s of zr.LOCAL_SERVER_EVENTS)t.removeAllListeners(s);t.destroy(r,()=>{e.emit(wr.SERVER_CLOSED,new po.ServerClosedEvent(e.s.id,t.description.address));for(let s of zr.SERVER_RELAY_EVENTS)t.removeAllListeners(s);typeof n=="function"&&n()})}function RK(t){return t?.directConnection?me.TopologyType.Single:t?.replicaSet?me.TopologyType.ReplicaSetNoPrimary:t?.loadBalanced?me.TopologyType.LoadBalanced:me.TopologyType.Unknown}function iw(t,e){t.emit(wr.SERVER_OPENING,new po.ServerOpeningEvent(t.s.id,e.address));let r=new ew.Server(t,e,t.s.options);for(let n of zr.SERVER_RELAY_EVENTS)r.on(n,s=>t.emit(n,s));return r.on(ew.Server.DESCRIPTION_RECEIVED,n=>t.serverUpdateHandler(n)),r.connect(),r}function rw(t,e){if(e&&t.s.servers.has(e.address)){let r=t.s.servers.get(e.address);if(r){if(r.s.description=e,e.error instanceof Ai.MongoError&&e.error.hasErrorLabel(Ai.MongoErrorLabel.ResetPool)){let n=e.error.hasErrorLabel(Ai.MongoErrorLabel.InterruptInUseConnections);r.pool.clear({interruptInUseConnections:n})}else if(e.error==null){let n=t.s.description.type;(e.isDataBearing||e.type!==me.ServerType.Unknown&&n===me.TopologyType.Single)&&r.pool.ready()}}}for(let r of t.description.servers.values())if(!t.s.servers.has(r.address)){let n=iw(t,r);t.s.servers.set(r.address,n)}for(let r of t.s.servers){let n=r[0];if(t.description.hasServer(n)||!t.s.servers.has(n))continue;let s=t.s.servers.get(n);t.s.servers.delete(n),s&&sw(s,t)}}function ow(t,e){for(;t.length;){let r=t.shift();r&&(r.timer&&(0,Ep.clearTimeout)(r.timer),r[uE]||r.callback(e))}}function nw(t){if(t.s.state===me.STATE_CLOSED){ow(t[_i],new Ai.MongoTopologyClosedError);return}let e=t.description.type===me.TopologyType.Sharded,r=Array.from(t.description.servers.values()),n=t[_i].length;for(let s=0;s<n;++s){let i=t[_i].shift();if(!i||i[uE])continue;let o;try{let c=i.serverSelector;o=c?c(t.description,r):r}catch(c){i.timer&&(0,Ep.clearTimeout)(i.timer),i.callback(c);continue}let u;if(o.length===0){t[_i].push(i);continue}else if(o.length===1)u=t.s.servers.get(o[0].address);else{let c=(0,Ei.shuffle)(o,2),l=t.s.servers.get(c[0].address),f=t.s.servers.get(c[1].address);u=l&&f&&l.s.operationCount<f.s.operationCount?l:f}if(!u){i.callback(new Ai.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",t.description));return}let a=i.transaction;e&&a&&a.isActive&&u&&a.pinServer(u),i.timer&&(0,Ep.clearTimeout)(i.timer),i.callback(void 0,u)}if(t[_i].length>0)for(let[,s]of t.s.servers)process.nextTick(function(){return s.requestCheck()})}function xK(t,e){let n=t.servers.get(e.address)?.topologyVersion;return(0,oE.compareTopologyVersion)(n,e.topologyVersion)>0}var _p=class{constructor(e){this.minWireVersion=e.minWireVersion||0,this.maxWireVersion=e.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}};Ha.ServerCapabilities=_p});var wa=y(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.MongoClient=Ga.ServerApiVersion=void 0;var aw=require("util"),vK=pt(),kK=la(),qK=ad(),LK=xs(),cw=m6(),jK=kt(),UK=id(),lw=Q(),VK=l6(),WK=ln(),fw=It(),zK=Yc(),hw=uw(),dw=a1(),aE=ne();Ga.ServerApiVersion=Object.freeze({v1:"1"});var ur=Symbol("options"),cE=class extends WK.TypedEventEmitter{constructor(e,r){super(),this[ur]=(0,cw.parseOptions)(e,this,r),this.mongoLogger=new VK.MongoLogger(this[ur].mongoLoggerOptions);let n=this;this.s={url:e,bsonOptions:(0,vK.resolveBSONOptions)(this[ur]),namespace:(0,aE.ns)("admin"),hasBeenClosed:!1,sessionPool:new dw.ServerSessionPool(this),activeSessions:new Set,get options(){return n[ur]},get readConcern(){return n[ur].readConcern},get writeConcern(){return n[ur].writeConcern},get readPreference(){return n[ur].readPreference},get isMongoClient(){return!0}}}get options(){return Object.freeze({...this[ur]})}get serverApi(){return this[ur].serverApi&&Object.freeze({...this[ur].serverApi})}get monitorCommands(){return this[ur].monitorCommands}set monitorCommands(e){this[ur].monitorCommands=e}get autoEncrypter(){return this[ur].autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}async connect(){if(this.connectionLock)return this.connectionLock;try{this.connectionLock=this._connect(),await this.connectionLock}finally{this.connectionLock=void 0}return this}async _connect(){if(this.topology&&this.topology.isConnected())return this;let e=this[ur];if(typeof e.srvHost=="string"){let n=await(0,cw.resolveSRVRecord)(e);for(let[s,i]of n.entries())e.hosts[s]=i}if(e.credentials?.mechanism===LK.AuthMechanism.MONGODB_OIDC){let n=e.credentials?.mechanismProperties?.ALLOWED_HOSTS||qK.DEFAULT_ALLOWED_HOSTS;if(!!!e.credentials?.mechanismProperties?.PROVIDER_NAME){for(let i of e.hosts)if(!(0,aE.hostMatchesWildcards)(i.toHostPort().host,n))throw new lw.MongoInvalidArgumentError(`Host '${i}' is not valid for OIDC authentication with ALLOWED_HOSTS of '${n.join(",")}'`)}}this.topology=new hw.Topology(this,e.hosts,e),this.topology.once(hw.Topology.OPEN,()=>this.emit("open",this));for(let n of jK.MONGO_CLIENT_EVENTS)this.topology.on(n,(...s)=>this.emit(n,...s));let r=async()=>{try{await(0,aw.promisify)(n=>this.topology?.connect(e,n))()}catch(n){throw this.topology?.close({force:!0}),n}};return this.autoEncrypter?(await(0,aw.promisify)(s=>this.autoEncrypter?.init(s))(),await r(),await e.encrypter.connectInternalClient()):await r(),this}async close(e=!1){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1});let r=Array.from(this.s.activeSessions,a=>a.endSession());if(this.s.activeSessions.clear(),await Promise.all(r),this.topology==null)return;let n=(0,zK.readPreferenceServerSelector)(fw.ReadPreference.primaryPreferred),s=this.topology.description,i=Array.from(s.servers.values());if(n(s,i).length!==0){let a=Array.from(this.s.sessionPool.sessions,({id:c})=>c);a.length!==0&&await this.db("admin").command({endSessions:a},{readPreference:fw.ReadPreference.primaryPreferred,noResponse:!0}).catch(()=>null)}let u=this.topology;this.topology=void 0,await new Promise((a,c)=>{u.close({force:e},l=>{if(l)return c(l);let{encrypter:f}=this[ur];if(f)return f.close(this,e,h=>{if(h)return c(h);a()});a()})})}db(e,r){r=r??{},e||(e=this.options.dbName);let n=Object.assign({},this[ur],r);return new UK.Db(this,e,n)}static async connect(e,r){return new this(e,r).connect()}startSession(e){let r=new dw.ClientSession(this,this.s.sessionPool,{explicit:!0,...e},this[ur]);return this.s.activeSessions.add(r),r.once("ended",()=>{this.s.activeSessions.delete(r)}),r}async withSession(e,r){let n={owner:Symbol(),...typeof e=="object"?e:{}},s=typeof e=="function"?e:r;if(s==null)throw new lw.MongoInvalidArgumentError("Missing required callback parameter");let i=this.startSession(n);try{await s(i)}finally{try{await i.endSession()}catch{}}}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new kK.ChangeStream(this,e,(0,aE.resolveOptions)(this,r))}};Ga.MongoClient=cE});var la=y(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.ChangeStream=void 0;var HK=Ko(),ps=kt(),GK=Sg(),KK=id(),ds=Q(),YK=wa(),QK=ln(),lE=ne(),Ka=Symbol("cursorStream"),Ya=Symbol("closed"),Y1=Symbol("mode"),JK=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],uu={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},XK=[ps.RESUME_TOKEN_CHANGED,ps.END,ps.CLOSE],ZK="A change stream document has been received that lacks a resume token (_id).",Ap="ChangeStream is closed",ms=class t extends QK.TypedEventEmitter{constructor(e,r=[],n={}){if(super(),this.pipeline=r,this.options={...n},delete this.options.writeConcern,e instanceof HK.Collection)this.type=uu.COLLECTION;else if(e instanceof KK.Db)this.type=uu.DATABASE;else if(e instanceof YK.MongoClient)this.type=uu.CLUSTER;else throw new ds.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");this.parent=e,this.namespace=e.s.namespace,!this.options.readPreference&&e.readPreference&&(this.options.readPreference=e.readPreference),this.cursor=this._createChangeStreamCursor(n),this[Ya]=!1,this[Y1]=!1,this.on("newListener",s=>{s==="change"&&this.cursor&&this.listenerCount("change")===0&&this._streamEvents(this.cursor)}),this.on("removeListener",s=>{s==="change"&&this.listenerCount("change")===0&&this.cursor&&this[Ka]?.removeAllListeners("data")})}get cursorStream(){return this[Ka]}get resumeToken(){return this.cursor?.resumeToken}async hasNext(){for(this._setIsIterator();;)try{return await this.cursor.hasNext()}catch(e){try{await this._processErrorIteratorMode(e)}catch(r){try{await this.close()}catch{}throw r}}}async next(){for(this._setIsIterator();;)try{let e=await this.cursor.next();return this._processChange(e??null)}catch(e){try{await this._processErrorIteratorMode(e)}catch(r){try{await this.close()}catch{}throw r}}}async tryNext(){for(this._setIsIterator();;)try{return await this.cursor.tryNext()??null}catch(e){try{await this._processErrorIteratorMode(e)}catch(r){try{await this.close()}catch{}throw r}}}async*[Symbol.asyncIterator](){if(!this.closed)try{for(;;)yield await this.next()}finally{try{await this.close()}catch{}}}get closed(){return this[Ya]||this.cursor.closed}async close(){this[Ya]=!0;let e=this.cursor;try{await e.close()}finally{this._endStream()}}stream(e){if(this.closed)throw new ds.MongoChangeStreamError(Ap);return this.streamOptions=e,this.cursor.stream(e)}_setIsEmitter(){if(this[Y1]==="iterator")throw new ds.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this[Y1]="emitter"}_setIsIterator(){if(this[Y1]==="emitter")throw new ds.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this[Y1]="iterator"}_createChangeStreamCursor(e){let r=(0,lE.filterOptions)(e,JK);this.type===uu.CLUSTER&&(r.allChangesForCluster=!0);let n=[{$changeStream:r},...this.pipeline],s=this.type===uu.CLUSTER?this.parent:this.type===uu.DATABASE?this.parent.client:this.type===uu.COLLECTION?this.parent.client:null;if(s==null)throw new ds.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);let i=new GK.ChangeStreamCursor(s,this.namespace,n,e);for(let o of XK)i.on(o,u=>this.emit(o,u));return this.listenerCount(t.CHANGE)>0&&this._streamEvents(i),i}_closeEmitterModeWithError(e){this.emit(t.ERROR,e),this.close().catch(()=>null)}_streamEvents(e){this._setIsEmitter();let r=this[Ka]??e.stream();this[Ka]=r,r.on("data",n=>{try{let s=this._processChange(n);this.emit(t.CHANGE,s)}catch(s){this.emit(t.ERROR,s)}}),r.on("error",n=>this._processErrorStreamMode(n))}_endStream(){let e=this[Ka];e&&(["data","close","end","error"].forEach(r=>e.removeAllListeners(r)),e.destroy()),this[Ka]=void 0}_processChange(e){if(this[Ya])throw new ds.MongoAPIError(Ap);if(e==null)throw new ds.MongoRuntimeError(Ap);if(e&&!e._id)throw new ds.MongoChangeStreamError(ZK);return this.cursor.cacheResumeToken(e._id),this.options.startAtOperationTime=void 0,e}_processErrorStreamMode(e){this[Ya]||((0,ds.isResumableError)(e,this.cursor.maxWireVersion)?(this._endStream(),this.cursor.close().catch(()=>null),(0,lE.getTopology)(this.parent).selectServer(this.cursor.readPreference,{},n=>{if(n)return this._closeEmitterModeWithError(e);this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)})):this._closeEmitterModeWithError(e))}async _processErrorIteratorMode(e){if(this[Ya])throw new ds.MongoAPIError(Ap);if(!(0,ds.isResumableError)(e,this.cursor.maxWireVersion)){try{await this.close()}catch{}throw e}await this.cursor.close().catch(()=>null);let r=(0,lE.getTopology)(this.parent);try{await r.selectServerAsync(this.cursor.readPreference,{}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),e}}};ms.RESPONSE=ps.RESPONSE;ms.MORE=ps.MORE;ms.INIT=ps.INIT;ms.CLOSE=ps.CLOSE;ms.CHANGE=ps.CHANGE;ms.END=ps.END;ms.ERROR=ps.ERROR;ms.RESUME_TOKEN_CHANGED=ps.RESUME_TOKEN_CHANGED;Op.ChangeStream=ms});var fE=y(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.GridFSBucketReadStream=void 0;var eY=require("stream"),gn=Q(),At=class t extends eY.Readable{constructor(e,r,n,s,i){super(),this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:e,expected:0,files:r,filter:s,init:!1,expectedEnd:0,options:{start:0,end:0,...i},readPreference:n}}_read(){this.destroyed||nY(this,()=>tY(this))}start(e=0){return pw(this),this.s.options.start=e,this}end(e=0){return pw(this),this.s.options.end=e,this}async abort(){if(this.push(null),this.destroyed=!0,this.s.cursor)try{await this.s.cursor.close()}finally{this.emit(t.CLOSE)}else this.s.init||this.emit(t.CLOSE)}};At.ERROR="error";At.FILE="file";At.DATA="data";At.END="end";At.CLOSE="close";Cp.GridFSBucketReadStream=At;function pw(t){if(t.s.init)throw new gn.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")}function tY(t){if(t.destroyed||!t.s.cursor||!t.s.file)return;let e=({error:r,doc:n})=>{if(t.destroyed)return;if(r){t.emit(At.ERROR,r);return}if(!n){t.push(null),t.s.cursor?.close().then(()=>{t.emit(At.CLOSE)},h=>{t.emit(At.ERROR,h)});return}if(!t.s.file)return;let s=t.s.file.length-t.s.bytesRead,i=t.s.expected++,o=Math.min(t.s.file.chunkSize,s);if(n.n>i)return t.emit(At.ERROR,new gn.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${n.n}, expected: ${i}`));if(n.n<i)return t.emit(At.ERROR,new gn.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${n.n}, expected: ${i}`));let u=Buffer.isBuffer(n.data)?n.data:n.data.buffer;if(u.byteLength!==o)return s<=0?t.emit(At.ERROR,new gn.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${n.n}, expected file length ${t.s.file.length} bytes but already read ${t.s.bytesRead} bytes`)):t.emit(At.ERROR,new gn.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${u.byteLength}, expected: ${o}`));if(t.s.bytesRead+=u.byteLength,u.byteLength===0)return t.push(null);let a=null,c=null;t.s.bytesToSkip!=null&&(a=t.s.bytesToSkip,t.s.bytesToSkip=0);let l=i===t.s.expectedEnd-1,f=t.s.options.end-t.s.bytesToSkip;l&&t.s.bytesToTrim!=null?c=t.s.file.chunkSize-t.s.bytesToTrim:t.s.options.end&&f<n.data.byteLength&&(c=f),(a!=null||c!=null)&&(u=u.slice(a||0,c||u.byteLength)),t.push(u)};t.s.cursor.next().then(r=>e({error:null,doc:r}),r=>e({error:r,doc:null}))}function rY(t){let e={};t.s.readPreference&&(e.readPreference=t.s.readPreference),t.s.options&&t.s.options.sort&&(e.sort=t.s.options.sort),t.s.options&&t.s.options.skip&&(e.skip=t.s.options.skip);let r=({error:n,doc:s})=>{if(n)return t.emit(At.ERROR,n);if(!s){let u=`FileNotFound: file ${t.s.filter._id?t.s.filter._id.toString():t.s.filter.filename} was not found`,a=new gn.MongoRuntimeError(u);return a.code="ENOENT",t.emit(At.ERROR,a)}if(s.length<=0){t.push(null);return}if(t.destroyed){t.emit(At.CLOSE);return}try{t.s.bytesToSkip=sY(t,s,t.s.options)}catch(o){return t.emit(At.ERROR,o)}let i={files_id:s._id};if(t.s.options&&t.s.options.start!=null){let o=Math.floor(t.s.options.start/s.chunkSize);o>0&&(i.n={$gte:o})}t.s.cursor=t.s.chunks.find(i).sort({n:1}),t.s.readPreference&&t.s.cursor.withReadPreference(t.s.readPreference),t.s.expectedEnd=Math.ceil(s.length/s.chunkSize),t.s.file=s;try{t.s.bytesToTrim=iY(t,s,t.s.cursor,t.s.options)}catch(o){return t.emit(At.ERROR,o)}t.emit(At.FILE,s)};t.s.files.findOne(t.s.filter,e).then(n=>r({error:null,doc:n}),n=>r({error:n,doc:null}))}function nY(t,e){if(t.s.file)return e();t.s.init||(rY(t),t.s.init=!0),t.once("file",()=>{e()})}function sY(t,e,r){if(r&&r.start!=null){if(r.start>e.length)throw new gn.MongoInvalidArgumentError(`Stream start (${r.start}) must not be more than the length of the file (${e.length})`);if(r.start<0)throw new gn.MongoInvalidArgumentError(`Stream start (${r.start}) must not be negative`);if(r.end!=null&&r.end<r.start)throw new gn.MongoInvalidArgumentError(`Stream start (${r.start}) must not be greater than stream end (${r.end})`);return t.s.bytesRead=Math.floor(r.start/e.chunkSize)*e.chunkSize,t.s.expected=Math.floor(r.start/e.chunkSize),r.start-t.s.bytesRead}throw new gn.MongoInvalidArgumentError("Start option must be defined")}function iY(t,e,r,n){if(n&&n.end!=null){if(n.end>e.length)throw new gn.MongoInvalidArgumentError(`Stream end (${n.end}) must not be more than the length of the file (${e.length})`);if(n.start==null||n.start<0)throw new gn.MongoInvalidArgumentError(`Stream end (${n.end}) must not be negative`);let s=n.start!=null?Math.floor(n.start/e.chunkSize):0;return r.limit(Math.ceil(n.end/e.chunkSize)-s),t.s.expectedEnd=Math.ceil(n.end/e.chunkSize),Math.ceil(n.end/e.chunkSize)*e.chunkSize-n.end}throw new gn.MongoInvalidArgumentError("End option must be defined")}});var pE=y(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.GridFSBucketWriteStream=void 0;var oY=require("stream"),gw=pt(),au=Q(),uY=qr(),Oi=class t extends oY.Writable{constructor(e,r,n){super(),n=n??{},this.bucket=e,this.chunks=e.s._chunksCollection,this.filename=r,this.files=e.s._filesCollection,this.options=n,this.writeConcern=uY.WriteConcern.fromOptions(n)||e.s.options.writeConcern,this.done=!1,this.id=n.id?n.id:new gw.ObjectId,this.chunkSizeBytes=n.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},this.bucket.s.calledOpenUploadStream||(this.bucket.s.calledOpenUploadStream=!0,cY(this).then(()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index")},()=>null))}write(e,r,n){let s=typeof r=="function"?void 0:r;return n=typeof r=="function"?r:n,mw(this,()=>fY(this,e,s,n))}async abort(){if(this.state.streamEnd)throw new au.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new au.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0,await this.chunks.deleteMany({files_id:this.id})}end(e,r,n){let s=typeof e=="function"?void 0:e,i=typeof r=="function"?void 0:r;return n=typeof e=="function"?e:typeof r=="function"?r:n,this.state.streamEnd||Q1(this,n)?this:(this.state.streamEnd=!0,n&&this.once(t.FINISH,o=>{n&&n(void 0,o)}),s?(this.write(s,i,()=>{yw(this)}),this):(mw(this,()=>!!yw(this)),this))}};Oi.CLOSE="close";Oi.ERROR="error";Oi.FINISH="finish";Sp.GridFSBucketWriteStream=Oi;function dE(t,e,r){if(!t.state.errored){if(t.state.errored=!0,r)return r(e);t.emit(Oi.ERROR,e)}}function Ew(t,e,r){return{_id:new gw.ObjectId,files_id:t,n:e,data:r}}async function aY(t){let e={files_id:1,n:1},r;try{r=await t.chunks.listIndexes().toArray()}catch(s){if(s instanceof au.MongoError&&s.code===au.MONGODB_ERROR_CODES.NamespaceNotFound)r=[];else throw s}!!r.find(s=>Object.keys(s.key).length===2&&s.key.files_id===1&&s.key.n===1)||await t.chunks.createIndex(e,{...t.writeConcern,background:!0,unique:!0})}function hE(t,e){if(t.done)return!0;if(t.state.streamEnd&&t.state.outstandingRequests===0&&!t.state.errored){t.done=!0;let r=lY(t.id,t.length,t.chunkSizeBytes,t.filename,t.options.contentType,t.options.aliases,t.options.metadata);return Q1(t,e)?!1:(t.files.insertOne(r,{writeConcern:t.writeConcern}).then(()=>{t.emit(Oi.FINISH,r),t.emit(Oi.CLOSE)},n=>dE(t,n,e)),!0)}return!1}async function cY(t){if(await t.files.findOne({},{projection:{_id:1}})!=null)return;let r={filename:1,uploadDate:1},n;try{n=await t.files.listIndexes().toArray()}catch(i){if(i instanceof au.MongoError&&i.code===au.MONGODB_ERROR_CODES.NamespaceNotFound)n=[];else throw i}!!n.find(i=>Object.keys(i.key).length===2&&i.key.filename===1&&i.key.uploadDate===1)||await t.files.createIndex(r,{background:!1}),await aY(t)}function lY(t,e,r,n,s,i,o){let u={_id:t,length:e,chunkSize:r,uploadDate:new Date,filename:n};return s&&(u.contentType=s),i&&(u.aliases=i),o&&(u.metadata=o),u}function fY(t,e,r,n){if(Q1(t,n))return!1;let s=Buffer.isBuffer(e)?e:Buffer.from(e,r);if(t.length+=s.length,t.pos+s.length<t.chunkSizeBytes)return s.copy(t.bufToStore,t.pos),t.pos+=s.length,n&&n(),!0;let i=s.length,o=t.chunkSizeBytes-t.pos,u=Math.min(o,s.length),a=0;for(;i>0;){let c=s.length-i;s.copy(t.bufToStore,t.pos,c,c+u),t.pos+=u,o-=u;let l;if(o===0){if(l=Ew(t.id,t.n,Buffer.from(t.bufToStore)),++t.state.outstandingRequests,++a,Q1(t,n))return!1;t.chunks.insertOne(l,{writeConcern:t.writeConcern}).then(()=>{--t.state.outstandingRequests,--a,a||(t.emit("drain",l),n&&n(),hE(t))},f=>dE(t,f)),o=t.chunkSizeBytes,t.pos=0,++t.n}i-=u,u=Math.min(o,i)}return!1}function mw(t,e){return t.bucket.s.checkedIndexes?e(!1):(t.bucket.once("index",()=>{e(!0)}),!0)}function yw(t,e){if(t.pos===0)return hE(t,e);++t.state.outstandingRequests;let r=Buffer.alloc(t.pos);t.bufToStore.copy(r,0,0,t.pos);let n=Ew(t.id,t.n,r);return Q1(t,e)?!1:(t.chunks.insertOne(n,{writeConcern:t.writeConcern}).then(()=>{--t.state.outstandingRequests,hE(t)},s=>dE(t,s)),!0)}function Q1(t,e){return t.state.aborted?(typeof e=="function"&&e(new au.MongoAPIError("Stream has been aborted")),!0):!1}});var Cw=y(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.GridFSBucket=void 0;var _w=Q(),hY=ln(),dY=qr(),Aw=fE(),Ow=pE(),pY={bucketName:"fs",chunkSizeBytes:255*1024},wp=class extends hY.TypedEventEmitter{constructor(e,r){super(),this.setMaxListeners(0);let n={...pY,...r,writeConcern:dY.WriteConcern.fromOptions(r)};this.s={db:e,options:n,_chunksCollection:e.collection(n.bucketName+".chunks"),_filesCollection:e.collection(n.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(e,r){return new Ow.GridFSBucketWriteStream(this,e,r)}openUploadStreamWithId(e,r,n){return new Ow.GridFSBucketWriteStream(this,r,{...n,id:e})}openDownloadStream(e,r){return new Aw.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:e},r)}async delete(e){let{deletedCount:r}=await this.s._filesCollection.deleteOne({_id:e});if(await this.s._chunksCollection.deleteMany({files_id:e}),r===0)throw new _w.MongoRuntimeError(`File not found for id ${e}`)}find(e={},r={}){return this.s._filesCollection.find(e,r)}openDownloadStreamByName(e,r){let n={uploadDate:-1},s;return r&&r.revision!=null&&(r.revision>=0?(n={uploadDate:1},s=r.revision):s=-r.revision-1),new Aw.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:e},{...r,sort:n,skip:s})}async rename(e,r){let n={_id:e},s={$set:{filename:r}},{matchedCount:i}=await this.s._filesCollection.updateOne(n,s);if(i===0)throw new _w.MongoRuntimeError(`File with id ${e} not found`)}async drop(){await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()}};wp.INDEX="index";bp.GridFSBucket=wp});var T1=y(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.AbstractCursor=S.MongoWriteConcernError=S.MongoUnexpectedServerResponseError=S.MongoTransactionError=S.MongoTopologyClosedError=S.MongoTailableCursorError=S.MongoSystemError=S.MongoServerSelectionError=S.MongoServerError=S.MongoServerClosedError=S.MongoRuntimeError=S.MongoParseError=S.MongoNotConnectedError=S.MongoNetworkTimeoutError=S.MongoNetworkError=S.MongoMissingDependencyError=S.MongoMissingCredentialsError=S.MongoKerberosError=S.MongoInvalidArgumentError=S.MongoGridFSStreamError=S.MongoGridFSChunkError=S.MongoExpiredSessionError=S.MongoError=S.MongoDriverError=S.MongoDecompressionError=S.MongoCursorInUseError=S.MongoCursorExhaustedError=S.MongoCompatibilityError=S.MongoChangeStreamError=S.MongoBatchReExecutionError=S.MongoAzureError=S.MongoAWSError=S.MongoAPIError=S.ChangeStreamCursor=S.MongoBulkWriteError=S.Timestamp=S.ObjectId=S.MinKey=S.MaxKey=S.Long=S.Int32=S.Double=S.Decimal128=S.DBRef=S.Code=S.BSONType=S.BSONSymbol=S.BSONRegExp=S.Binary=S.BSON=void 0;S.ServerClosedEvent=S.ConnectionReadyEvent=S.ConnectionPoolReadyEvent=S.ConnectionPoolMonitoringEvent=S.ConnectionPoolCreatedEvent=S.ConnectionPoolClosedEvent=S.ConnectionPoolClearedEvent=S.ConnectionCreatedEvent=S.ConnectionClosedEvent=S.ConnectionCheckOutStartedEvent=S.ConnectionCheckOutFailedEvent=S.ConnectionCheckedOutEvent=S.ConnectionCheckedInEvent=S.CommandSucceededEvent=S.CommandStartedEvent=S.CommandFailedEvent=S.WriteConcern=S.ReadPreference=S.ReadConcern=S.TopologyType=S.ServerType=S.ReadPreferenceMode=S.ReadConcernLevel=S.ProfilingLevel=S.ReturnDocument=S.ServerApiVersion=S.ExplainVerbosity=S.MongoErrorLabel=S.AutoEncryptionLoggerLevel=S.CURSOR_FLAGS=S.Compressor=S.AuthMechanism=S.GSSAPICanonicalizationValue=S.BatchType=S.UnorderedBulkOperation=S.OrderedBulkOperation=S.MongoClient=S.ListIndexesCursor=S.ListCollectionsCursor=S.GridFSBucketWriteStream=S.GridFSBucketReadStream=S.GridFSBucket=S.FindCursor=S.Db=S.Collection=S.ClientSession=S.ChangeStream=S.CancellationToken=S.AggregationCursor=S.Admin=void 0;S.SrvPollingEvent=S.TopologyOpeningEvent=S.TopologyDescriptionChangedEvent=S.TopologyClosedEvent=S.ServerOpeningEvent=S.ServerHeartbeatSucceededEvent=S.ServerHeartbeatStartedEvent=S.ServerHeartbeatFailedEvent=S.ServerDescriptionChangedEvent=void 0;var mY=sy();Object.defineProperty(S,"Admin",{enumerable:!0,get:function(){return mY.Admin}});var yY=Ey();Object.defineProperty(S,"OrderedBulkOperation",{enumerable:!0,get:function(){return yY.OrderedBulkOperation}});var gY=Ay();Object.defineProperty(S,"UnorderedBulkOperation",{enumerable:!0,get:function(){return gY.UnorderedBulkOperation}});var EY=la();Object.defineProperty(S,"ChangeStream",{enumerable:!0,get:function(){return EY.ChangeStream}});var _Y=Ko();Object.defineProperty(S,"Collection",{enumerable:!0,get:function(){return _Y.Collection}});var AY=ii();Object.defineProperty(S,"AbstractCursor",{enumerable:!0,get:function(){return AY.AbstractCursor}});var OY=d1();Object.defineProperty(S,"AggregationCursor",{enumerable:!0,get:function(){return OY.AggregationCursor}});var CY=Hy();Object.defineProperty(S,"FindCursor",{enumerable:!0,get:function(){return CY.FindCursor}});var SY=bg();Object.defineProperty(S,"ListCollectionsCursor",{enumerable:!0,get:function(){return SY.ListCollectionsCursor}});var wY=tg();Object.defineProperty(S,"ListIndexesCursor",{enumerable:!0,get:function(){return wY.ListIndexesCursor}});var bY=id();Object.defineProperty(S,"Db",{enumerable:!0,get:function(){return bY.Db}});var DY=Cw();Object.defineProperty(S,"GridFSBucket",{enumerable:!0,get:function(){return DY.GridFSBucket}});var BY=fE();Object.defineProperty(S,"GridFSBucketReadStream",{enumerable:!0,get:function(){return BY.GridFSBucketReadStream}});var TY=pE();Object.defineProperty(S,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return TY.GridFSBucketWriteStream}});var PY=wa();Object.defineProperty(S,"MongoClient",{enumerable:!0,get:function(){return PY.MongoClient}});var MY=ln();Object.defineProperty(S,"CancellationToken",{enumerable:!0,get:function(){return MY.CancellationToken}});var FY=a1();Object.defineProperty(S,"ClientSession",{enumerable:!0,get:function(){return FY.ClientSession}});var IY=pt();Object.defineProperty(S,"BSON",{enumerable:!0,get:function(){return IY.BSON}});var Hr=pt();Object.defineProperty(S,"Binary",{enumerable:!0,get:function(){return Hr.Binary}});Object.defineProperty(S,"BSONRegExp",{enumerable:!0,get:function(){return Hr.BSONRegExp}});Object.defineProperty(S,"BSONSymbol",{enumerable:!0,get:function(){return Hr.BSONSymbol}});Object.defineProperty(S,"BSONType",{enumerable:!0,get:function(){return Hr.BSONType}});Object.defineProperty(S,"Code",{enumerable:!0,get:function(){return Hr.Code}});Object.defineProperty(S,"DBRef",{enumerable:!0,get:function(){return Hr.DBRef}});Object.defineProperty(S,"Decimal128",{enumerable:!0,get:function(){return Hr.Decimal128}});Object.defineProperty(S,"Double",{enumerable:!0,get:function(){return Hr.Double}});Object.defineProperty(S,"Int32",{enumerable:!0,get:function(){return Hr.Int32}});Object.defineProperty(S,"Long",{enumerable:!0,get:function(){return Hr.Long}});Object.defineProperty(S,"MaxKey",{enumerable:!0,get:function(){return Hr.MaxKey}});Object.defineProperty(S,"MinKey",{enumerable:!0,get:function(){return Hr.MinKey}});Object.defineProperty(S,"ObjectId",{enumerable:!0,get:function(){return Hr.ObjectId}});Object.defineProperty(S,"Timestamp",{enumerable:!0,get:function(){return Hr.Timestamp}});var $Y=s1();Object.defineProperty(S,"MongoBulkWriteError",{enumerable:!0,get:function(){return $Y.MongoBulkWriteError}});var NY=Sg();Object.defineProperty(S,"ChangeStreamCursor",{enumerable:!0,get:function(){return NY.ChangeStreamCursor}});var Ie=Q();Object.defineProperty(S,"MongoAPIError",{enumerable:!0,get:function(){return Ie.MongoAPIError}});Object.defineProperty(S,"MongoAWSError",{enumerable:!0,get:function(){return Ie.MongoAWSError}});Object.defineProperty(S,"MongoAzureError",{enumerable:!0,get:function(){return Ie.MongoAzureError}});Object.defineProperty(S,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return Ie.MongoBatchReExecutionError}});Object.defineProperty(S,"MongoChangeStreamError",{enumerable:!0,get:function(){return Ie.MongoChangeStreamError}});Object.defineProperty(S,"MongoCompatibilityError",{enumerable:!0,get:function(){return Ie.MongoCompatibilityError}});Object.defineProperty(S,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return Ie.MongoCursorExhaustedError}});Object.defineProperty(S,"MongoCursorInUseError",{enumerable:!0,get:function(){return Ie.MongoCursorInUseError}});Object.defineProperty(S,"MongoDecompressionError",{enumerable:!0,get:function(){return Ie.MongoDecompressionError}});Object.defineProperty(S,"MongoDriverError",{enumerable:!0,get:function(){return Ie.MongoDriverError}});Object.defineProperty(S,"MongoError",{enumerable:!0,get:function(){return Ie.MongoError}});Object.defineProperty(S,"MongoExpiredSessionError",{enumerable:!0,get:function(){return Ie.MongoExpiredSessionError}});Object.defineProperty(S,"MongoGridFSChunkError",{enumerable:!0,get:function(){return Ie.MongoGridFSChunkError}});Object.defineProperty(S,"MongoGridFSStreamError",{enumerable:!0,get:function(){return Ie.MongoGridFSStreamError}});Object.defineProperty(S,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return Ie.MongoInvalidArgumentError}});Object.defineProperty(S,"MongoKerberosError",{enumerable:!0,get:function(){return Ie.MongoKerberosError}});Object.defineProperty(S,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return Ie.MongoMissingCredentialsError}});Object.defineProperty(S,"MongoMissingDependencyError",{enumerable:!0,get:function(){return Ie.MongoMissingDependencyError}});Object.defineProperty(S,"MongoNetworkError",{enumerable:!0,get:function(){return Ie.MongoNetworkError}});Object.defineProperty(S,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return Ie.MongoNetworkTimeoutError}});Object.defineProperty(S,"MongoNotConnectedError",{enumerable:!0,get:function(){return Ie.MongoNotConnectedError}});Object.defineProperty(S,"MongoParseError",{enumerable:!0,get:function(){return Ie.MongoParseError}});Object.defineProperty(S,"MongoRuntimeError",{enumerable:!0,get:function(){return Ie.MongoRuntimeError}});Object.defineProperty(S,"MongoServerClosedError",{enumerable:!0,get:function(){return Ie.MongoServerClosedError}});Object.defineProperty(S,"MongoServerError",{enumerable:!0,get:function(){return Ie.MongoServerError}});Object.defineProperty(S,"MongoServerSelectionError",{enumerable:!0,get:function(){return Ie.MongoServerSelectionError}});Object.defineProperty(S,"MongoSystemError",{enumerable:!0,get:function(){return Ie.MongoSystemError}});Object.defineProperty(S,"MongoTailableCursorError",{enumerable:!0,get:function(){return Ie.MongoTailableCursorError}});Object.defineProperty(S,"MongoTopologyClosedError",{enumerable:!0,get:function(){return Ie.MongoTopologyClosedError}});Object.defineProperty(S,"MongoTransactionError",{enumerable:!0,get:function(){return Ie.MongoTransactionError}});Object.defineProperty(S,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return Ie.MongoUnexpectedServerResponseError}});Object.defineProperty(S,"MongoWriteConcernError",{enumerable:!0,get:function(){return Ie.MongoWriteConcernError}});var RY=s1();Object.defineProperty(S,"BatchType",{enumerable:!0,get:function(){return RY.BatchType}});var xY=ud();Object.defineProperty(S,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return xY.GSSAPICanonicalizationValue}});var vY=xs();Object.defineProperty(S,"AuthMechanism",{enumerable:!0,get:function(){return vY.AuthMechanism}});var kY=bd();Object.defineProperty(S,"Compressor",{enumerable:!0,get:function(){return kY.Compressor}});var qY=ii();Object.defineProperty(S,"CURSOR_FLAGS",{enumerable:!0,get:function(){return qY.CURSOR_FLAGS}});var LY=ma();Object.defineProperty(S,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return LY.AutoEncryptionLoggerLevel}});var jY=Q();Object.defineProperty(S,"MongoErrorLabel",{enumerable:!0,get:function(){return jY.MongoErrorLabel}});var UY=W2();Object.defineProperty(S,"ExplainVerbosity",{enumerable:!0,get:function(){return UY.ExplainVerbosity}});var VY=wa();Object.defineProperty(S,"ServerApiVersion",{enumerable:!0,get:function(){return VY.ServerApiVersion}});var WY=ag();Object.defineProperty(S,"ReturnDocument",{enumerable:!0,get:function(){return WY.ReturnDocument}});var zY=Mg();Object.defineProperty(S,"ProfilingLevel",{enumerable:!0,get:function(){return zY.ProfilingLevel}});var HY=bn();Object.defineProperty(S,"ReadConcernLevel",{enumerable:!0,get:function(){return HY.ReadConcernLevel}});var GY=It();Object.defineProperty(S,"ReadPreferenceMode",{enumerable:!0,get:function(){return GY.ReadPreferenceMode}});var Sw=Dn();Object.defineProperty(S,"ServerType",{enumerable:!0,get:function(){return Sw.ServerType}});Object.defineProperty(S,"TopologyType",{enumerable:!0,get:function(){return Sw.TopologyType}});var KY=bn();Object.defineProperty(S,"ReadConcern",{enumerable:!0,get:function(){return KY.ReadConcern}});var YY=It();Object.defineProperty(S,"ReadPreference",{enumerable:!0,get:function(){return YY.ReadPreference}});var QY=qr();Object.defineProperty(S,"WriteConcern",{enumerable:!0,get:function(){return QY.WriteConcern}});var mE=x6();Object.defineProperty(S,"CommandFailedEvent",{enumerable:!0,get:function(){return mE.CommandFailedEvent}});Object.defineProperty(S,"CommandStartedEvent",{enumerable:!0,get:function(){return mE.CommandStartedEvent}});Object.defineProperty(S,"CommandSucceededEvent",{enumerable:!0,get:function(){return mE.CommandSucceededEvent}});var qn=z3();Object.defineProperty(S,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return qn.ConnectionCheckedInEvent}});Object.defineProperty(S,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return qn.ConnectionCheckedOutEvent}});Object.defineProperty(S,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return qn.ConnectionCheckOutFailedEvent}});Object.defineProperty(S,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return qn.ConnectionCheckOutStartedEvent}});Object.defineProperty(S,"ConnectionClosedEvent",{enumerable:!0,get:function(){return qn.ConnectionClosedEvent}});Object.defineProperty(S,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return qn.ConnectionCreatedEvent}});Object.defineProperty(S,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return qn.ConnectionPoolClearedEvent}});Object.defineProperty(S,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return qn.ConnectionPoolClosedEvent}});Object.defineProperty(S,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return qn.ConnectionPoolCreatedEvent}});Object.defineProperty(S,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return qn.ConnectionPoolMonitoringEvent}});Object.defineProperty(S,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return qn.ConnectionPoolReadyEvent}});Object.defineProperty(S,"ConnectionReadyEvent",{enumerable:!0,get:function(){return qn.ConnectionReadyEvent}});var Ci=Td();Object.defineProperty(S,"ServerClosedEvent",{enumerable:!0,get:function(){return Ci.ServerClosedEvent}});Object.defineProperty(S,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return Ci.ServerDescriptionChangedEvent}});Object.defineProperty(S,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return Ci.ServerHeartbeatFailedEvent}});Object.defineProperty(S,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return Ci.ServerHeartbeatStartedEvent}});Object.defineProperty(S,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return Ci.ServerHeartbeatSucceededEvent}});Object.defineProperty(S,"ServerOpeningEvent",{enumerable:!0,get:function(){return Ci.ServerOpeningEvent}});Object.defineProperty(S,"TopologyClosedEvent",{enumerable:!0,get:function(){return Ci.TopologyClosedEvent}});Object.defineProperty(S,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return Ci.TopologyDescriptionChangedEvent}});Object.defineProperty(S,"TopologyOpeningEvent",{enumerable:!0,get:function(){return Ci.TopologyOpeningEvent}});var JY=sE();Object.defineProperty(S,"SrvPollingEvent",{enumerable:!0,get:function(){return JY.SrvPollingEvent}})});var re=y(Rt=>{"use strict";Rt.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup");Rt.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics");Rt.arrayParentSymbol=Symbol("mongoose#Array#_parent");Rt.arrayPathSymbol=Symbol("mongoose#Array#_path");Rt.arraySchemaSymbol=Symbol("mongoose#Array#_schema");Rt.documentArrayParent=Symbol("mongoose:documentArrayParent");Rt.documentIsSelected=Symbol("mongoose#Document#isSelected");Rt.documentIsModified=Symbol("mongoose#Document#isModified");Rt.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths");Rt.documentSchemaSymbol=Symbol("mongoose#Document#schema");Rt.getSymbol=Symbol("mongoose#Document#get");Rt.modelSymbol=Symbol("mongoose#Model");Rt.objectIdSymbol=Symbol("mongoose#ObjectId");Rt.populateModelSymbol=Symbol("mongoose.PopulateOptions#Model");Rt.schemaTypeSymbol=Symbol("mongoose#schemaType");Rt.sessionNewDocuments=Symbol("mongoose:ClientSession#newDocuments");Rt.scopeSymbol=Symbol("mongoose#Document#scope");Rt.validatorErrorSymbol=Symbol("mongoose:validatorError")});var Si=y((s1e,ww)=>{"use strict";var J1=wn().ObjectId,XY=re().objectIdSymbol;Object.defineProperty(J1.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});J1.prototype.hasOwnProperty("valueOf")||(J1.prototype.valueOf=function(){return this.toString()});J1.prototype[XY]=!0;ww.exports=J1});var Gr=y((i1e,bw)=>{"use strict";bw.exports=function(e){if(e!=null&&typeof e.constructor=="function")return e.constructor.name}});var Gs=y(Dw=>{"use strict";Dw.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}});var Dp=y((u1e,Bw)=>{"use strict";Bw.exports=wn().Decimal128});var Qa=y((a1e,Tw)=>{"use strict";Tw.exports=new Set(["__proto__","constructor","prototype"])});var Bp=y(Pw=>{"use strict";Pw.isMongooseArray=function(t){return Array.isArray(t)&&t.isMongooseArray}});var X1=y((l1e,Mw)=>{"use strict";var ZY=Bp().isMongooseArray;Mw.exports=function(t){return t!=null&&(ZY(t)||t.$__!=null||t.isMongooseBuffer||t.$isMongooseMap)}});var yE=y((f1e,Fw)=>{"use strict";var eQ=/^function\s*([^\s(]+)/;Fw.exports=function(t){return t.name||(t.toString().trim().match(eQ)||[])[1]}});var Kr=y((h1e,Iw)=>{"use strict";function tQ(t,e){return typeof t=="object"&&t!==null&&t._bsontype===e}Iw.exports=tQ});var mo=y((d1e,$w)=>{"use strict";$w.exports=function(t){return Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object Object]"}});var gE=y((p1e,Nw)=>{"use strict";Nw.exports=function(e){if(e==null||typeof e!="object")return!1;let r=Object.getPrototypeOf(e);return!r||r.constructor.name==="Object"}});var Ja=y(EE=>{"use strict";var Rw=Symbol("mongoose#trustedSymbol");EE.trustedSymbol=Rw;EE.trusted=function(e){return e==null||typeof e!="object"||(e[Rw]=!0),e}});var gt=y((y1e,vw)=>{"use strict";var rQ=Dp(),nQ=Si(),sQ=Qa(),iQ=X1(),oQ=yE(),xw=Kr(),uQ=Bp().isMongooseArray,aQ=mo(),cQ=gE(),lQ=re(),_E=Ja().trustedSymbol;function OE(t,e,r){if(t==null)return t;if(Array.isArray(t))return fQ(uQ(t)?t.__array:t,e);if(iQ(t)){e&&e._skipSingleNestedGetters&&t.$isSingleNested&&(e=Object.assign({},e,{getters:!1}));let s=t.$isSingleNested;if(cQ(t)&&t.$__!=null&&t._doc!=null)return t._doc;let i;return e&&e.json&&typeof t.toJSON=="function"?i=t.toJSON(e):i=t.toObject(e),e&&e.minimize&&s&&Object.keys(i).length===0?void 0:i}let n=t.constructor;if(n)switch(oQ(n)){case"Object":return AE(t,e,r);case"Date":return new n(+t);case"RegExp":return hQ(t);default:break}return xw(t,"ObjectId")?e&&e.flattenObjectIds?t.toJSON():new nQ(t.id):xw(t,"Decimal128")?e&&e.flattenDecimals?t.toJSON():rQ.fromString(t.toString()):!n&&aQ(t)?AE(t,e,r):typeof t=="object"&&t[lQ.schemaTypeSymbol]?t.clone():e&&e.bson&&typeof t.toBSON=="function"?t:typeof t.valueOf=="function"?t.valueOf():AE(t,e,r)}vw.exports=OE;function AE(t,e,r){let n=e&&e.minimize,s=e&&e.omitUndefined,i=e&&e._seen,o={},u;if(i&&i.has(t))return i.get(t);i&&i.set(t,o),_E in t&&(o[_E]=t[_E]);let a=0,c="",l=Object.keys(t),f=l.length;for(a=0;a<f;++a){if(sQ.has(c=l[a]))continue;let h=OE(t[c],e,!1);(n===!1||s)&&typeof h>"u"?delete o[c]:(n!==!0||typeof h<"u")&&(u||(u=!0),o[c]=h)}return n&&!r?u&&o:o}function fQ(t,e){let r=0,n=t.length,s=new Array(n);for(r=0;r<n;++r)s[r]=OE(t[r],e,!0);return s}function hQ(t){let e=new RegExp(t.source,t.flags);return e.lastIndex!==t.lastIndex&&(e.lastIndex=t.lastIndex),e}});var Lw=y((g1e,qw)=>{"use strict";var Tp=j9(),CE=st(),SE=T1().Collection,dQ=Si(),kw=Gr(),pQ=Gs().internalToObjectOptions,mQ=require("stream"),wE=require("util");function ys(t,e,r){this.collection=null,this.Promise=r.Promise||Promise,this.modelName=r.modelName,delete r.modelName,this._closed=!1,Tp.apply(this,arguments)}Object.setPrototypeOf(ys.prototype,Tp.prototype);ys.prototype.onOpen=function(){return this.collection=this.conn.db.collection(this.name),Tp.prototype.onOpen.call(this),this.collection};ys.prototype.onClose=function(t){Tp.prototype.onClose.call(this,t)};ys.prototype._getCollection=function(){return this.collection?this.collection:this.conn.db!=null?(this.collection=this.conn.db.collection(this.name),this.collection):null};var Z1={watch:!0,find:!0,aggregate:!0};function yQ(t){ys.prototype[t]=function(){let e=this._getCollection(),r=Array.from(arguments),n=this,s=n&&n.conn&&n.conn.base&&n.conn.base.options&&n.conn.base.options.debug,i=n&&n.conn&&n.conn.options&&n.conn.options.debug,o=i??s,u=arguments[arguments.length-1],a=new dQ;if(this.conn.$wasForceClosed){let f=new CE("Connection was force closed");if(r.length>0&&typeof r[r.length-1]=="function"){r[r.length-1](f);return}else throw f}let c=r,l=null;if(this._shouldBufferCommands()&&this.buffer){this.conn.emit("buffer",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,args:r});let f,h=r,d=null,p=null;Z1[t]&&typeof u=="function"?this.addQueue(()=>{u.call(this,null,this[t].apply(this,h.slice(0,h.length-1)))},[]):Z1[t]?d=new Promise((g,_)=>{f=function(A,C){if(p!=null&&clearTimeout(p),A!=null)return _(A);g(C)},h=r.concat([f]),this.addQueue(t,h)}):typeof u=="function"?(f=function(){return p!=null&&clearTimeout(p),u.apply(this,arguments)},h=r.slice(0,r.length-1).concat([f])):d=new Promise((g,_)=>{f=function(A,C){if(p!=null&&clearTimeout(p),A!=null)return _(A);g(C)},h=r.concat([f]),this.addQueue(t,h)});let m=this._getBufferTimeoutMS();if(p=setTimeout(()=>{if(this.removeQueue(t,h)){let _="Operation `"+this.name+"."+t+"()` buffering timed out after "+m+"ms",E=new CE(_);this.conn.emit("buffer-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,error:E}),f(E)}},m),!Z1[t]&&typeof u=="function"){this.addQueue(t,h);return}return d}else!Z1[t]&&typeof u=="function"&&(l=function(h,d){return h!=null?n.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,error:h}):n.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,result:d}),u.apply(this,arguments)},c=r.slice(0,r.length-1).concat([l]));if(o)if(typeof o=="function"){let f=null;typeof r[r.length-1]=="function"?f=r.slice(0,r.length-1):f=r,o.apply(n,[n.name,t].concat(f))}else if(o instanceof mQ.Writable)this.$printToStream(n.name,t,r,o);else{let f=o.color==null?!0:o.color,h=o.shell==null?!1:o.shell;this.$print(n.name,t,r,f,h)}this.conn.emit("operation-start",{_id:a,modelName:n.modelName,collectionName:this.name,method:t,params:c});try{if(e==null){let h="Cannot call `"+this.name+"."+t+"()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.";throw new CE(h)}if(Z1[t]&&typeof u=="function"){let h=e[t].apply(e,c.slice(0,c.length-1));return u.call(this,null,h)}let f=e[t].apply(e,c);return f!=null&&typeof f.then=="function"?f.then(h=>(typeof u=="function"&&u(null,h),h),h=>{if(typeof u=="function"){u(h);return}throw h}):f}catch(f){if(typeof u=="function")return u(f);throw this.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:this.name,method:t,error:f}),f}}}for(let t of Object.getOwnPropertyNames(SE.prototype))Object.getOwnPropertyDescriptor(SE.prototype,t).get===void 0&&typeof SE.prototype[t]=="function"&&yQ(t);ys.prototype.$print=function(t,e,r,n,s){let i=n?"\x1B[0;36mMongoose:\x1B[0m ":"Mongoose: ",o=[t,e].join("."),u=[];for(let c=r.length-1;c>=0;--c)(this.$format(r[c])||u.length)&&u.unshift(this.$format(r[c],n,s));let a="("+u.join(", ")+")";console.info(i+o+a)};ys.prototype.$printToStream=function(t,e,r,n){let s=[t,e].join("."),i=[];for(let u=r.length-1;u>=0;--u)(this.$format(r[u])||i.length)&&i.unshift(this.$format(r[u]));let o="("+i.join(", ")+")";n.write(s+o,"utf8")};ys.prototype.$format=function(t,e,r){let n=typeof t;return n==="function"||n==="undefined"?"":bE(t,!1,e,r)};function Xa(t){let e={inspect:function(){return t}};return wE.inspect.custom&&(e[wE.inspect.custom]=e.inspect),e}function gQ(t){return bE(t,!0)}function EQ(t,e){t[e]=Xa('ObjectId("'+t[e].toHexString()+'")')}function _Q(t,e,r){r?t[e]=Xa('ISODate("'+t[e].toUTCString()+'")'):t[e]=Xa('new Date("'+t[e].toUTCString()+'")')}function bE(t,e,r,n){if(t&&typeof t.toBSON=="function"&&(t=t.toBSON()),t==null)return t;let i=gt()(t,pQ),o=kw(i);if(o==="Binary")i="BinData("+i.sub_type+', "'+i.toString("base64")+'")';else if(o==="ObjectId")i=Xa('ObjectId("'+i.toHexString()+'")');else if(o==="Date")i=Xa('new Date("'+i.toUTCString()+'")');else if(o==="Object"){let u=Object.keys(i),a=u.length,c;for(let l=0;l<a;++l)if(c=u[l],i[c]){let f;if(typeof i[c].toBSON=="function")try{i[c]=i[c].toBSON()}catch(d){f=d}let h=kw(i[c]);if(h==="Binary")i[c]="BinData("+i[c].sub_type+', "'+i[c].buffer.toString("base64")+'")';else if(h==="Object")i[c]=bE(i[c],!0);else if(h==="ObjectId")EQ(i,c);else if(h==="Date")_Q(i,c,n);else if(h==="ClientSession")i[c]=Xa('ClientSession("'+(i[c]&&i[c].id&&i[c].id.id&&i[c].id.id.buffer||"").toString("hex")+'")');else if(Array.isArray(i[c]))i[c]=i[c].map(gQ);else if(f!=null)throw f}}return e?i:wE.inspect(i,!1,10,r).replace(/\n/g,"").replace(/\s{2,}/g," ")}ys.prototype.getIndexes=ys.prototype.indexInformation;qw.exports=ys});var BE=y((E1e,Uw)=>{"use strict";var AQ=require("events").EventEmitter;var jw=["close","change","end","error","resumeTokenChanged"];var DE=class extends AQ{constructor(e,r,n){if(super(),this.driverChangeStream=null,this.closed=!1,this.bindedEvents=!1,this.pipeline=r,this.options=n,n&&n.hydrate&&!n.model)throw new Error("Cannot create change stream with `hydrate: true` unless calling `Model.watch()`");e((s,i)=>{if(s!=null){this.emit("error",s);return}this.driverChangeStream=i,this.emit("ready")})}_bindEvents(){if(!this.bindedEvents){if(this.bindedEvents=!0,this.driverChangeStream==null){this.once("ready",()=>{this.driverChangeStream.on("close",()=>{this.closed=!0}),jw.forEach(e=>{this.driverChangeStream.on(e,r=>{e==="error"&&this.closed||(r!=null&&r.fullDocument!=null&&this.options&&this.options.hydrate&&(r.fullDocument=this.options.model.hydrate(r.fullDocument)),this.emit(e,r))})})});return}this.driverChangeStream.on("close",()=>{this.closed=!0}),jw.forEach(e=>{this.driverChangeStream.on(e,r=>{e==="error"&&this.closed||this.emit(e,r)})})}}hasNext(e){return this.driverChangeStream.hasNext(e)}next(e){if(this.options&&this.options.hydrate){if(e!=null){let n=e;e=(s,i)=>s!=null?n(s):(i.fullDocument!=null&&(i.fullDocument=this.options.model.hydrate(i.fullDocument)),n(null,i))}let r=this.driverChangeStream.next(e);return r&&typeof r.then=="function"&&(r=r.then(n=>(n.fullDocument!=null&&(n.fullDocument=this.options.model.hydrate(n.fullDocument)),n))),r}return this.driverChangeStream.next(e)}addListener(e,r){return this._bindEvents(),super.addListener(e,r)}on(e,r){return this._bindEvents(),super.on(e,r)}once(e,r){return this._bindEvents(),super.once(e,r)}_queue(e){this.once("ready",()=>e())}close(){this.closed=!0,this.driverChangeStream&&this.driverChangeStream.close()}};Uw.exports=DE});var rl=y((_1e,zw)=>{"use strict";function Le(){this._pres=new Map,this._posts=new Map}Le.skipWrappedFunction=function(){if(!(this instanceof Le.skipWrappedFunction))return new Le.skipWrappedFunction(...arguments);this.args=[...arguments]};Le.overwriteResult=function(){if(!(this instanceof Le.overwriteResult))return new Le.overwriteResult(...arguments);this.args=[...arguments]};Le.prototype.execPre=function(t,e,r,n){arguments.length===3&&(n=r,r=[]);let s=this._pres.get(t)||[],i=s.length,o=s.numAsync||0,u=0,a=o,c=!1,l=r,f=null;if(!i)return tl(function(){n(null)});function h(){if(u>=i)return;let p=s[u];if(p.isAsync){let m=[el(d),el(function(g){if(g){if(c)return;if(g instanceof Le.skipWrappedFunction)f=g;else return c=!0,n(g)}if(--a===0&&u>=i)return n(f)})];Pp(p.fn,e,m,m[0])}else if(p.fn.length>0){let m=[el(d)],g=arguments.length>=2?arguments:[null].concat(l);for(let _=1;_<g.length;++_)_===g.length-1&&typeof g[_]=="function"||m.push(g[_]);Pp(p.fn,e,m,m[0])}else{let m=null;try{m=p.fn.call(e)}catch(g){if(g!=null)return n(g)}if(Mp(m))m.then(()=>d(),g=>d(g));else{if(++u>=i)return a>0?void 0:tl(function(){n(f)});h()}}}h.apply(null,[null].concat(r));function d(p){if(p){if(c)return;if(p instanceof Le.skipWrappedFunction)f=p;else return c=!0,n(p)}if(++u>=i)return a>0?void 0:n(f);h.apply(e,arguments)}};Le.prototype.execPreSync=function(t,e,r){let n=this._pres.get(t)||[],s=n.length;for(let i=0;i<s;++i)n[i].fn.apply(e,r||[])};Le.prototype.execPost=function(t,e,r,n,s){arguments.length<5&&(s=n,n=null);let i=this._posts.get(t)||[],o=i.length,u=0,a=null;if(n&&n.error&&(a=n.error),!o)return tl(function(){s.apply(null,[a].concat(r))});function c(){let l=i[u].fn,f=0,h=r.length,d=[];for(let p=0;p<h;++p)f+=r[p]&&r[p]._kareemIgnore?0:1,(!r[p]||!r[p]._kareemIgnore)&&d.push(r[p]);if(a)if(Ww(i[u],f)){let p=el(function(m){if(m){if(m instanceof Le.overwriteResult)return r=m.args,++u>=o?s.call(null,a):c();a=m}if(++u>=o)return s.call(null,a);c()});Pp(l,e,[a].concat(d).concat([p]),p)}else{if(++u>=o)return s.call(null,a);c()}else{let p=el(function(m){if(m)return m instanceof Le.overwriteResult?(r=m.args,++u>=o?s.apply(null,[null].concat(r)):c()):(a=m,c());if(++u>=o)return s.apply(null,[null].concat(r));c()});if(Ww(i[u],f))return++u>=o?s.apply(null,[null].concat(r)):c();if(l.length===f+1)Pp(l,e,d.concat([p]),p);else{let m,g;try{g=l.apply(e,d)}catch(_){m=_,a=_}if(Mp(g))return g.then(_=>{p(_ instanceof Le.overwriteResult?_:null)},_=>p(_));if(g instanceof Le.overwriteResult&&(r=g.args),++u>=o)return s.apply(null,[m].concat(r));c()}}}c()};Le.prototype.execPostSync=function(t,e,r){let n=this._posts.get(t)||[],s=n.length;for(let i=0;i<s;++i){let o=n[i].fn.apply(e,r||[]);o instanceof Le.overwriteResult&&(r=o.args)}return r};Le.prototype.createWrapperSync=function(t,e){let r=this;return function(){r.execPreSync(t,this,arguments);let s=e.apply(this,arguments);return r.execPostSync(t,this,[s])[0]}};function Vw(t,e,r,n,s,i,o){return i.useErrorHandlers?t.execPost(r,n,s,{error:e},function(u){return typeof o=="function"&&o(u)}):typeof o=="function"&&o(e)}Le.prototype.wrap=function(t,e,r,n,s){let i=n.length>0?n[n.length-1]:null,o=Array.from(n);typeof i=="function"&&o.pop();let u=this;s=s||{};let a=s.checkForPromise;this.execPre(t,r,n,function(c){if(c&&!(c instanceof Le.skipWrappedFunction)){let d=s.numCallbackParams||0,p=s.contextParameter?[r]:[];for(let m=p.length;m<d;++m)p.push(null);return Vw(u,c,t,r,p,s,i)}let l=e.length,f;if(c instanceof Le.skipWrappedFunction)return f=c.args[0],h(null,...c.args);try{f=e.apply(r,o.concat(h))}catch(d){return h(d)}if(a){if(Mp(f))return f.then(d=>h(null,d),d=>h(d));if(l<o.length+1)return h(null,f)}function h(){let d=Array.from(arguments);if(d.shift(),s.nullResultByDefault&&d.length===0&&d.push(null),arguments[0])return Vw(u,arguments[0],t,r,d,s,i);u.execPost(t,r,d,function(){i!==null&&(arguments[0]?i(arguments[0]):i.apply(r,arguments))})}})};Le.prototype.filter=function(t){let e=this.clone(),r=Array.from(e._pres.keys());for(let s of r){let i=this._pres.get(s).map(o=>Object.assign({},o,{name:s})).filter(t);if(i.length===0){e._pres.delete(s);continue}i.numAsync=i.filter(o=>o.isAsync).length,e._pres.set(s,i)}let n=Array.from(e._posts.keys());for(let s of n){let i=this._posts.get(s).map(o=>Object.assign({},o,{name:s})).filter(t);if(i.length===0){e._posts.delete(s);continue}e._posts.set(s,i)}return e};Le.prototype.hasHooks=function(t){return this._pres.has(t)||this._posts.has(t)};Le.prototype.createWrapper=function(t,e,r,n){let s=this;return this.hasHooks(t)?function(){let i=r||this;s.wrap(t,e,i,Array.from(arguments),n)}:function(){tl(()=>e.apply(this,arguments))}};Le.prototype.pre=function(t,e,r,n,s){let i={};typeof e=="object"&&e!==null?(i=e,e=i.isAsync):typeof arguments[1]!="boolean"&&(r=e,e=!1);let o=this._pres.get(t)||[];if(this._pres.set(t,o),e&&(o.numAsync=o.numAsync||0,++o.numAsync),typeof r!="function")throw new Error('pre() requires a function, got "'+typeof r+'"');return s?o.unshift(Object.assign({},i,{fn:r,isAsync:e})):o.push(Object.assign({},i,{fn:r,isAsync:e})),this};Le.prototype.post=function(t,e,r,n){let s=this._posts.get(t)||[];if(typeof e=="function"&&(n=!!r,r=e,e={}),typeof r!="function")throw new Error('post() requires a function, got "'+typeof r+'"');return n?s.unshift(Object.assign({},e,{fn:r})):s.push(Object.assign({},e,{fn:r})),this._posts.set(t,s),this};Le.prototype.clone=function(){let t=new Le;for(let e of this._pres.keys()){let r=this._pres.get(e).slice();r.numAsync=this._pres.get(e).numAsync,t._pres.set(e,r)}for(let e of this._posts.keys())t._posts.set(e,this._posts.get(e).slice());return t};Le.prototype.merge=function(t,e){e=arguments.length===1?!0:e;let r=e?this.clone():this;for(let n of t._pres.keys()){let s=r._pres.get(n)||[],i=t._pres.get(n).filter(u=>s.map(a=>a.fn).indexOf(u.fn)===-1),o=s.concat(i);o.numAsync=s.numAsync||0,o.numAsync+=i.filter(u=>u.isAsync).length,r._pres.set(n,o)}for(let n of t._posts.keys()){let s=r._posts.get(n)||[],i=t._posts.get(n).filter(o=>s.indexOf(o)===-1);r._posts.set(n,s.concat(i))}return r};function Pp(t,e,r,n){let s;try{s=t.apply(e,r)}catch(i){return n(i)}Mp(s)&&s.then(()=>n(),i=>n(i))}function Mp(t){return typeof t=="object"&&t!==null&&typeof t.then=="function"}function el(t){let e=!1,r=this;return function(){if(!e)return e=!0,tl(()=>t.apply(r,arguments))}}var tl=typeof process=="object"&&process!==null&&process.nextTick||function(e){setTimeout(e,0)};function Ww(t,e){return t.errorHandler?!0:t.fn.length===e+2}zw.exports=Le});var Kw=y((Hw,Gw)=>{"use strict";var br=Gw.exports=Hw={};br.DocumentNotFoundError=null;br.general={};br.general.default="Validator failed for path `{PATH}` with value `{VALUE}`";br.general.required="Path `{PATH}` is required.";br.Number={};br.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).";br.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).";br.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";br.Date={};br.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).";br.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).";br.String={};br.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";br.String.match="Path `{PATH}` is invalid ({VALUE}).";br.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).";br.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."});var Ip=y((A1e,Qw)=>{"use strict";var Yw=Ke(),OQ=require("util"),Fp=class extends Yw{constructor(e,r,n,s){let i,o=Yw.messages;o.DocumentNotFoundError!=null?i=typeof o.DocumentNotFoundError=="function"?o.DocumentNotFoundError(e,r):o.DocumentNotFoundError:i='No document found for query "'+OQ.inspect(e)+'" on model "'+r+'"',super(i),this.result=s,this.numAffected=n,this.filter=e,this.query=e}};Object.defineProperty(Fp.prototype,"name",{value:"DocumentNotFoundError"});Qw.exports=Fp});var $r=y((O1e,Zw)=>{"use strict";var CQ=st(),SQ=require("util"),$p=class extends CQ{constructor(e,r,n,s,i){if(arguments.length>0){let o=Jw(r),u=Xw(i),a=TE(null,e,r,n,u,o,s);super(a),this.init(e,r,n,s,i)}else super(TE())}toJSON(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}init(e,r,n,s,i){this.stringValue=PE(r),this.messageFormat=Xw(i),this.kind=e,this.value=r,this.path=n,this.reason=s,this.valueType=Jw(r)}copy(e){this.messageFormat=e.messageFormat,this.stringValue=e.stringValue,this.kind=e.kind,this.value=e.value,this.path=e.path,this.reason=e.reason,this.message=e.message,this.valueType=e.valueType}setModel(e){this.model=e,this.message=TE(e,this.kind,this.value,this.path,this.messageFormat,this.valueType)}};Object.defineProperty($p.prototype,"name",{value:"CastError"});function PE(t){let e=SQ.inspect(t);return e=e.replace(/^'|'$/g,'"'),e.startsWith('"')||(e='"'+e+'"'),e}function Jw(t){if(t==null)return""+t;let e=typeof t;return e!=="object"||typeof t.constructor!="function"?e:t.constructor.name}function Xw(t){let e=t&&t._castErrorMessage||null;if(typeof e=="string"||typeof e=="function")return e}function TE(t,e,r,n,s,i,o){if(typeof s=="string"){let u=PE(r),a=s.replace("{KIND}",e).replace("{VALUE}",u).replace("{PATH}",n);return t!=null&&(a=a.replace("{MODEL}",t.modelName)),a}else{if(typeof s=="function")return s(r,n,t,e);{let u=PE(r),a=i?" (type "+i+")":"",c="Cast to "+e+" failed for value "+u+a+' at path "'+n+'"';return t!=null&&(c+=' for model "'+t.modelName+'"'),o!=null&&typeof o.constructor=="function"&&o.constructor.name!=="AssertionError"&&o.constructor.name!=="Error"&&(c+=' because of "'+o.constructor.name+'"'),c}}}Zw.exports=$p});var ME=y((C1e,eb)=>{"use strict";eb.exports=function(e){let r=Object.keys(e.errors||{}),n=r.length,s=[],i;for(let o=0;o<n;++o)i=r[o],e!==e.errors[i]&&s.push(i+": "+e.errors[i].message);return s.join(", ")}});var lu=y((S1e,nb)=>{"use strict";var wQ=st(),bQ=Gr(),tb=require("util"),rb=ME(),cu=class t extends wQ{constructor(e){let r;bQ(e)==="model"?r=e.constructor.modelName+" validation failed":r="Validation failed",super(r),this.errors={},this._message=r,e&&(e.$errors=this.errors)}toString(){return this.name+": "+rb(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(e,r){if(r instanceof t){let{errors:n}=r;for(let s of Object.keys(n))this.addError(`${e}.${s}`,n[s]);return}this.errors[e]=r,this.message=this._message+": "+rb(this)}};tb.inspect.custom&&(cu.prototype[tb.inspect.custom]=cu.prototype.inspect);Object.defineProperty(cu.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(cu.prototype,"name",{value:"ValidationError"});nb.exports=cu});var FE=y((w1e,ob)=>{"use strict";var sb=Ke(),Za=class extends sb{constructor(e,r){let n=e.message;n||(n=sb.messages.general.default);let s=ib(n,e,r);super(s),e=Object.assign({},e,{message:s}),this.properties=e,this.kind=e.type,this.path=e.path,this.value=e.value,this.reason=e.reason}toString(){return this.message}toJSON(){return Object.assign({name:this.name,message:this.message},this)}};Object.defineProperty(Za.prototype,"name",{value:"ValidatorError"});Object.defineProperty(Za.prototype,"properties",{enumerable:!1,writable:!0,value:null});Za.prototype.formatMessage=ib;function ib(t,e,r){if(typeof t=="function")return t(e,r);let n=Object.keys(e);for(let s of n)s!=="message"&&(t=t.replace("{"+s.toUpperCase()+"}",e[s]));return t}ob.exports=Za});var IE=y((b1e,ub)=>{"use strict";var DQ=Ke(),Np=class extends DQ{constructor(e,r,n){let s=n.join(", ");super('No matching document found for id "'+e._id+'" version '+r+' modifiedPaths "'+s+'"'),this.version=r,this.modifiedPaths=n}};Object.defineProperty(Np.prototype,"name",{value:"VersionError"});ub.exports=Np});var $E=y((D1e,ab)=>{"use strict";var BQ=Ke(),Rp=class extends BQ{constructor(e){let r="Can't save() the same doc multiple times in parallel. Document: ";super(r+e._id)}};Object.defineProperty(Rp.prototype,"name",{value:"ParallelSaveError"});ab.exports=Rp});var NE=y((B1e,cb)=>{"use strict";var TQ=Ke(),xp=class extends TQ{constructor(e){super("Cannot overwrite `"+e+"` model once compiled.")}};Object.defineProperty(xp.prototype,"name",{value:"OverwriteModelError"});cb.exports=xp});var fb=y((T1e,lb)=>{"use strict";var PQ=Ke(),vp=class extends PQ{constructor(e){let r=`Schema hasn't been registered for model "`+e+`".
Use mongoose.model(name, schema)`;super(r)}};Object.defineProperty(vp.prototype,"name",{value:"MissingSchemaError"});lb.exports=vp});var db=y((P1e,hb)=>{"use strict";var MQ=Gr();hb.exports=function(e){if(MQ(e)!=="TopologyDescription")return!1;let r=Array.from(e.servers.values());return r.length>0&&r.every(n=>n.type==="Unknown")}});var mb=y((M1e,pb)=>{"use strict";var FQ=Gr();pb.exports=function(e){if(FQ(e)!=="TopologyDescription"||e.servers.size===0)return!1;for(let r of e.servers.values())if(r.host.endsWith(".mongodb.net")===!1||r.port!==27017)return!1;return!0}});var gb=y((F1e,yb)=>{"use strict";var IQ=Gr(),$Q="Client network socket disconnected before secure TLS connection was established";yb.exports=function(e){if(IQ(e)!=="TopologyDescription")return!1;let r=Array.from(e.servers.values());return r.length>0&&r.every(n=>n.error&&n.error.message.indexOf($Q)!==-1)}});var RE=y((I1e,Eb)=>{"use strict";var NQ=st(),RQ=db(),xQ=mb(),vQ=gb();var kQ="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/",qQ="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html",kp=class extends NQ{assimilateError(e){let r=e.reason;xQ(r)&&RQ(r)&&e.message.indexOf("bad auth")===-1&&e.message.indexOf("Authentication failed")===-1?this.message=kQ:vQ(r)?this.message=qQ:this.message=e.message;for(let s in e)s!=="name"&&(this[s]=e[s]);return this}};Object.defineProperty(kp.prototype,"name",{value:"MongooseServerSelectionError"});Eb.exports=kp});var xE=y(($1e,_b)=>{"use strict";var LQ=Ke(),qp=class extends LQ{constructor(e){let r="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+e.join(`
  `)+`
Use Model.updateOne() to update these arrays instead.`;super(r)}};Object.defineProperty(qp.prototype,"name",{value:"DivergentArrayError"});_b.exports=qp});var yo=y((N1e,Ab)=>{"use strict";var jQ=Ke(),Lp=class extends jQ{constructor(e,r,n){r=r||"Field `"+e+"` is not in schema and strict mode is set to throw.",super(r),this.isImmutableError=!!n,this.path=e}};Object.defineProperty(Lp.prototype,"name",{value:"StrictModeError"});Ab.exports=Lp});var vE=y((R1e,Ob)=>{"use strict";var UQ=Ke(),jp=class extends UQ{constructor(e,r){r=r||"Cannot populate path `"+e+"` because it is not in your schema. Set the `strictPopulate` option to false to override.",super(r),this.path=e}};Object.defineProperty(jp.prototype,"name",{value:"StrictPopulateError"});Ob.exports=jp});var Ke=y((Cb,Sb)=>{"use strict";var Dr=st();Sb.exports=Cb=Dr;Dr.messages=Kw();Dr.Messages=Dr.messages;Dr.DocumentNotFoundError=Ip();Dr.CastError=$r();Dr.ValidationError=lu();Dr.ValidatorError=FE();Dr.VersionError=IE();Dr.ParallelSaveError=$E();Dr.OverwriteModelError=NE();Dr.MissingSchemaError=fb();Dr.MongooseServerSelectionError=RE();Dr.DivergentArrayError=xE();Dr.StrictModeError=yo();Dr.StrictPopulateError=vE()});var Ln=y((x1e,wb)=>{"use strict";wb.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})});var En=y((v1e,bb)=>{"use strict";var VQ=gt(),ar=class{constructor(e){if(e==null)return this;Object.assign(this,VQ(e))}},Yr=Ln();Object.defineProperty(ar.prototype,"type",Yr);Object.defineProperty(ar.prototype,"validate",Yr);Object.defineProperty(ar.prototype,"cast",Yr);Object.defineProperty(ar.prototype,"required",Yr);Object.defineProperty(ar.prototype,"default",Yr);Object.defineProperty(ar.prototype,"ref",Yr);Object.defineProperty(ar.prototype,"refPath",Yr);Object.defineProperty(ar.prototype,"select",Yr);Object.defineProperty(ar.prototype,"index",Yr);Object.defineProperty(ar.prototype,"unique",Yr);Object.defineProperty(ar.prototype,"immutable",Yr);Object.defineProperty(ar.prototype,"sparse",Yr);Object.defineProperty(ar.prototype,"text",Yr);Object.defineProperty(ar.prototype,"transform",Yr);bb.exports=ar});var Up=y((k1e,ec)=>{"use strict";var WQ=$r();ec.exports=function(e,r){if(ec.exports.convertToTrue.has(e))return!0;if(ec.exports.convertToFalse.has(e))return!1;if(e==null)return e;throw new WQ("boolean",e,r)};ec.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]);ec.exports.convertToFalse=new Set([!1,"false",0,"0","no"])});var Vp=y((q1e,Db)=>{"use strict";var zQ=Up();Db.exports=function(t){let e=this!=null?this.path:null;return zQ(t,e)}});var kE=y((L1e,Bb)=>{"use strict";Bb.exports=function(t){if(Array.isArray(t)){if(!t.every(e=>typeof e=="number"||typeof e=="string"))throw new Error("$type array values must be strings or numbers");return t}if(typeof t!="number"&&typeof t!="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return t}});var Pb=y((j1e,Tb)=>{"use strict";var HQ=yo();Tb.exports=function(t){t.$immutable?(t.$immutableSetter=GQ(t.path,t.options.immutable),t.set(t.$immutableSetter)):t.$immutableSetter&&(t.setters=t.setters.filter(e=>e!==t.$immutableSetter),delete t.$immutableSetter)};function GQ(t,e){return function(n,s,i,o){if(this==null||this.$__==null||this.isNew||o&&o.overwriteImmutable||!(typeof e=="function"?e.call(this,this):e))return n;let a=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(t):this.$__getValue(t);if(this.$__.strictMode==="throw"&&n!==a)throw new HQ(t,"Path `"+t+"` is immutable and strict mode is set to throw.",!0);return a}}});var Fb=y((U1e,Mb)=>{"use strict";Mb.exports=function(e){return typeof e=="function"&&e.constructor&&e.constructor.name==="AsyncFunction"}});var $b=y((V1e,Ib)=>{"use strict";Ib.exports=function(e){let r=Object.keys(e),n=!0;for(let s=0,i=r.length;s<i;++s)if(typeof e[r[s]]=="object"&&e[r[s]]!==null){n=!1;break}return n}});var Rb=y((W1e,Nb)=>{var tc=1e3,rc=tc*60,nc=rc*60,fu=nc*24,KQ=fu*7,YQ=fu*365.25;Nb.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return QQ(t);if(r==="number"&&isFinite(t))return e.long?XQ(t):JQ(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function QQ(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*YQ;case"weeks":case"week":case"w":return r*KQ;case"days":case"day":case"d":return r*fu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*nc;case"minutes":case"minute":case"mins":case"min":case"m":return r*rc;case"seconds":case"second":case"secs":case"sec":case"s":return r*tc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function JQ(t){var e=Math.abs(t);return e>=fu?Math.round(t/fu)+"d":e>=nc?Math.round(t/nc)+"h":e>=rc?Math.round(t/rc)+"m":e>=tc?Math.round(t/tc)+"s":t+"ms"}function XQ(t){var e=Math.abs(t);return e>=fu?Wp(t,e,fu,"day"):e>=nc?Wp(t,e,nc,"hour"):e>=rc?Wp(t,e,rc,"minute"):e>=tc?Wp(t,e,tc,"second"):t+" ms"}function Wp(t,e,r,n){var s=e>=r*1.5;return Math.round(t/r)+" "+n+(s?"s":"")}});var vb=y((z1e,xb)=>{"use strict";xb.exports=function(e){let r=[],n="",s="DEFAULT";for(let i=0;i<e.length;++i)s==="IN_SQUARE_BRACKETS"&&!/\d/.test(e[i])&&e[i]!=="]"&&(s="DEFAULT",n=r[r.length-1]+"["+n,r.splice(r.length-1,1)),e[i]==="["?(s!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(r.push(n),n=""),s="IN_SQUARE_BRACKETS"):e[i]==="]"?s==="IN_SQUARE_BRACKETS"?(s="IMMEDIATELY_AFTER_SQUARE_BRACKETS",r.push(n),n=""):(s="DEFAULT",n+=e[i]):e[i]==="."?(s!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(r.push(n),n=""),s="DEFAULT"):n+=e[i];return s!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&r.push(n),r}});var jb=y(wi=>{var nl=vb(),kb=["__proto__","constructor","prototype"];wi.get=function(t,e,r,n){var s;typeof r=="function"&&(r.length<2?(n=r,r=void 0):(s=r,r=void 0)),n||(n=Lb);var i=typeof t=="string"?nl(t):t;if(!Array.isArray(i))throw new TypeError("Invalid `path`. Must be either string or array");for(var o=e,u,a=0;a<i.length;++a){if(u=i[a],typeof i[a]!="string"&&typeof i[a]!="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+typeof i[a]);if(Array.isArray(o)&&!/^\d+$/.test(u)){var c=i.slice(a);return[].concat(o).map(function(f){return f?wi.get(c,f,r||s,n):n(void 0)})}if(s)o=s(o,u);else{var l=r&&o[r]?o[r]:o;o=l instanceof Map?l.get(u):l[u]}if(!o)return n(o)}return n(o)};wi.has=function(t,e){var r=typeof t=="string"?nl(t):t;if(!Array.isArray(r))throw new TypeError("Invalid `path`. Must be either string or array");for(var n=r.length,s=e,i=0;i<n;++i){if(typeof r[i]!="string"&&typeof r[i]!="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+typeof r[i]);if(s==null||typeof s!="object"||!(r[i]in s))return!1;s=s[r[i]]}return!0};wi.unset=function(t,e){var r=typeof t=="string"?nl(t):t;if(!Array.isArray(r))throw new TypeError("Invalid `path`. Must be either string or array");for(var n=r.length,s=e,i=0;i<n;++i){if(s==null||typeof s!="object"||!(r[i]in s))return!1;if(typeof r[i]!="string"&&typeof r[i]!="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+typeof r[i]);if(kb.indexOf(r[i])!==-1)return!1;if(i===n-1)return delete s[r[i]],!0;s=s instanceof Map?s.get(r[i]):s[r[i]]}return!0};wi.set=function(t,e,r,n,s,i){var o;typeof n=="function"&&(n.length<2?(s=n,n=void 0):(o=n,n=void 0)),s||(s=Lb);var u=typeof t=="string"?nl(t):t;if(!Array.isArray(u))throw new TypeError("Invalid `path`. Must be either string or array");if(r!=null){for(var a=0;a<u.length;++a){if(typeof u[a]!="string"&&typeof u[a]!="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+typeof u[a]);if(kb.indexOf(u[a])!==-1)return}for(var c=i||/\$/.test(t)&&i!==!1,l=r,f,a=0,h=u.length-1;a<h;++a){if(f=u[a],f=="$"){if(a==h-1)break;continue}if(Array.isArray(l)&&!/^\d+$/.test(f)){var d=u.slice(a);if(!c&&Array.isArray(e))for(var p=0;p<l.length&&p<e.length;++p)wi.set(d,e[p],l[p],n||o,s,c);else for(var p=0;p<l.length;++p)wi.set(d,e,l[p],n||o,s,c);return}if(o)l=o(l,f);else{var m=n&&l[n]?l[n]:l;l=m instanceof Map?m.get(f):m[f]}if(!l)return}if(f=u[h],n&&l[n]&&(l=l[n]),Array.isArray(l)&&!/^\d+$/.test(f))if(!c&&Array.isArray(e))qb(l,e,f,o,n,s);else for(var p=0;p<l.length;++p){var g=l[p];g&&(o?o(g,f,s(e)):(g[n]&&(g=g[n]),g[f]=s(e)))}else o?o(l,f,s(e)):l instanceof Map?l.set(f,s(e)):l[f]=s(e)}};wi.stringToParts=nl;function qb(t,e,r,n,s,i){for(var o,u=0;u<t.length&&u<e.length;++u)o=t[u],Array.isArray(o)&&Array.isArray(e[u])?qb(o,e[u],r,n,s,i):o&&(n?n(o,r,i(e[u])):(o[s]&&(o=o[s]),o[r]=i(e[u])))}function Lb(t){return t}});var gs=y((Ub,Vb)=>{"use strict";Vb.exports=Ub=jb()});var zb=y((G1e,Wb)=>{"use strict";var ZQ=gt(),qE=class{constructor(e){if(this._docs={},this._childDocs=[],e!=null&&(e=ZQ(e),Object.assign(this,e),typeof e.subPopulate=="object"&&(this.populate=e.subPopulate),e.perDocumentLimit!=null&&e.limit!=null))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+e.path+"`.")}};Wb.exports=qE});var Gb=y(Hb=>{"use strict";Hb.isMongooseDocumentArray=function(t){return Array.isArray(t)&&t.isMongooseDocumentArray}});var zp=y((Y1e,Kb)=>{"use strict";var eJ=on(),sc=Symbol("mongoose:emitted");Kb.exports=function(e,r,n,s){if(typeof e=="function")try{return r(function(i){if(i!=null){n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!i[sc]&&(i[sc]=!0,n.emit("error",i));try{e(i)}catch(o){return eJ(()=>{throw o})}return}e.apply(this,arguments)})}catch(i){return n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!i[sc]&&(i[sc]=!0,n.emit("error",i)),e(i)}return s=s||global.Promise,new s((i,o)=>{r(function(u,a){if(u!=null)return n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!u[sc]&&(u[sc]=!0,n.emit("error",u)),o(u);if(arguments.length>2)return i(Array.prototype.slice.call(arguments,1));i(a)})})}});var Hp=y((Q1e,Yb)=>{"use strict";Yb.exports=function(e,r,n){let s=Object.keys(r.tree),i={};for(let o of s)n&&(e.paths[o]||e.nested[o]||e.singleNestedPaths[o])||(i[o]=r.tree[o]);e.options._isMerging=!0,e.add(i,null),delete e.options._isMerging,e.callQueue=e.callQueue.concat(r.callQueue),e.method(r.methods),e.static(r.statics);for(let[o,u]of Object.entries(r._userProvidedOptions))o in e._userProvidedOptions||e.set(o,u);for(let o in r.query)e.query[o]=r.query[o];for(let o in r.virtuals)e.virtuals[o]=r.virtuals[o].clone();e._indexes=e._indexes.concat(r._indexes||[]),e.s.hooks.merge(r.s.hooks,!1)}});var Xb=y((Qb,Jb)=>{"use strict";var J1e=ie(),Es=Jb.exports=Qb=function(){};Es.ctor=function(){let t=[...arguments],e=function(){Es.apply(this,arguments),this.paths={},this.states={}};return e.prototype=new Es,e.prototype.stateNames=t,t.forEach(function(r){e.prototype[r]=function(n){this._changeState(n,r)}}),e};Es.prototype._changeState=function(e,r){let n=this.states[this.paths[e]];n&&delete n[e],this.paths[e]=r,this.states[r]=this.states[r]||{},this.states[r][e]=!0};Es.prototype.clear=function(e){if(this.states[e]==null)return;let r=Object.keys(this.states[e]),n=r.length,s;for(;n--;)s=r[n],delete this.states[e][s],delete this.paths[s]};Es.prototype.clearPath=function(e){let r=this.paths[e];r&&(delete this.paths[e],delete this.states[r][e])};Es.prototype.getStatePaths=function(e){return this.states[e]!=null?this.states[e]:{}};Es.prototype.some=function(){let e=this,r=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(r,function(n){return e.states[n]==null?!1:Object.keys(e.states[n]).length})};Es.prototype._iter=function(e){return function(){let r=[...arguments],n=r.pop();r.length||(r=this.stateNames);let s=this;return r.reduce(function(o,u){return s.states[u]==null?o:o.concat(Object.keys(s.states[u]))},[])[e](function(o,u,a){return n(o,u,a)})}};Es.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)};Es.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)}});var tD=y((Zb,eD)=>{"use strict";var tJ=Xb(),rJ=tJ.ctor("require","modify","init","default","ignore");eD.exports=Zb=Et;function Et(){this.activePaths=new rJ}Et.prototype.strictMode=!0;Et.prototype.fullPath=void 0;Et.prototype.selected=void 0;Et.prototype.shardval=void 0;Et.prototype.saveError=void 0;Et.prototype.validationError=void 0;Et.prototype.adhocPaths=void 0;Et.prototype.removing=void 0;Et.prototype.inserting=void 0;Et.prototype.saving=void 0;Et.prototype.version=void 0;Et.prototype._id=void 0;Et.prototype.ownerDocument=void 0;Et.prototype.populate=void 0;Et.prototype.populated=void 0;Et.prototype.primitiveAtomics=void 0;Et.prototype.wasPopulated=!1;Et.prototype.scope=void 0;Et.prototype.session=null;Et.prototype.pathsToScopes=null;Et.prototype.cachedRequired=null});var hu=y(LE=>{"use strict";LE.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed");LE.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")});var du=y((Z1e,rD)=>{"use strict";var Gp=Ht(),nJ=hu(),sJ=mo(),iJ=ie();function _s(t,e){if(e&&e.default){let r=e.default;Array.isArray(r)&&r.length===0?e.default=Array:!e.shared&&sJ(r)&&Object.keys(r).length===0&&(e.default=function(){return{}})}Gp.call(this,t,e,"Mixed"),this[nJ.schemaMixedSymbol]=!0}_s.schemaName="Mixed";_s.defaultOptions={};_s.prototype=Object.create(Gp.prototype);_s.prototype.constructor=_s;_s.get=Gp.get;_s.set=Gp.set;_s.setters=[];_s.prototype.cast=function(t){return t instanceof Error?iJ.errorToPOJO(t):t};_s.prototype.castForQuery=function(t,e){return e};rD.exports=_s});var jE=y((ele,nD)=>{"use strict";var oJ=Ke(),Kp=class extends oJ{constructor(e,r){let n=Array.isArray(r)?"array":"primitive value";super("Tried to set nested object field `"+e+`\` to ${n} \``+r+"`"),this.path=e}};Object.defineProperty(Kp.prototype,"name",{value:"ObjectExpectedError"});nD.exports=Kp});var UE=y((tle,sD)=>{"use strict";var uJ=Ke(),Yp=class extends uJ{constructor(e,r,n){super('Parameter "'+r+'" to '+n+'() must be an object, got "'+e.toString()+'" (type '+typeof e+")")}};Object.defineProperty(Yp.prototype,"name",{value:"ObjectParameterError"});sD.exports=Yp});var oD=y((rle,iD)=>{"use strict";var aJ=st(),Qp=class extends aJ{constructor(e){let r="Can't validate() the same doc multiple times in parallel. Document: ";super(r+e._id)}};Object.defineProperty(Qp.prototype,"name",{value:"ParallelValidateError"});iD.exports=Qp});var VE=y((nle,uD)=>{"use strict";uD.exports=function(e){let r={},n=Object.keys(e);for(let s of n){if(s.indexOf(".")===-1){r[s]=1;continue}let i=s.split("."),o=i[0];for(let u=0;u<i.length;++u)r[o]=1,u+1<i.length&&(o=o+"."+i[u+1])}return r}});var Jp=y((sle,aD)=>{"use strict";aD.exports=function(e,r,n,s,i,o){let u=Object.keys(e.$__schema.paths),a=u.length;for(let c=0;c<a;++c){let l,f="",h=u[c];if(h==="_id"&&e.$__.skipId)continue;let d=e.$__schema.paths[h],p=d.splitPath(),m=p.length,g=!1,_=e._doc;for(let E=0;E<m&&_!=null;++E){let A=p[E];if(f+=(f.length?".":"")+A,n===!0){if(f in r)break}else if(n===!1&&r&&!g){let C=d.$isSingleNested||d.$isMongooseDocumentArray;if(f in r||E===m-1&&C&&s!=null&&s[f])g=!0;else if(s!=null&&!s[f])break}if(E===m-1){if(_[A]!==void 0)break;if(i!=null){if(typeof d.defaultValue=="function"){if(!d.defaultValue.$runBeforeSetters&&i||d.defaultValue.$runBeforeSetters&&!i)break}else if(!i)continue}if(o&&o[f])break;if(r&&n!==null){if(n===!0){if(h in r)continue;try{l=d.getDefault(e,!1)}catch(C){e.invalidate(h,C);break}typeof l<"u"&&(_[A]=l,WE(e,h))}else if(g){try{l=d.getDefault(e,!1)}catch(C){e.invalidate(h,C);break}typeof l<"u"&&(_[A]=l,WE(e,h))}}else{try{l=d.getDefault(e,!1)}catch(C){e.invalidate(h,C);break}typeof l<"u"&&(_[A]=l,WE(e,h))}}else _=_[A]}}};function WE(t,e){t.$__.activePaths.default(e),t.$isSubdocument&&t.$isSingleNested&&t.$parent()!=null&&t.$parent().$__.activePaths.default(t.$__pathRelativeToParent(e))}});var zE=y((ile,cD)=>{"use strict";cD.exports=function(e,r,n){n=n||{};let s=n.skipDocArrays,i=0;if(!e)return i;for(let o of Object.keys(e.$__.activePaths.getStatePaths("modify"))){if(s){let u=e.$__schema.path(o);if(u&&u.$isMongooseDocumentArray)continue}if(o.startsWith(r+".")&&(e.$__.activePaths.clearPath(o),++i,e.$isSubdocument)){let u=e.ownerDocument(),a=e.$__fullPath(o);u.$__.activePaths.clearPath(a)}}return i}});var Zp=y(HE=>{"use strict";var cJ=gt(),lJ=re().documentSchemaSymbol,fJ=Gs().internalToObjectOptions,hJ=ie(),ic,dJ=re().getSymbol,Xp=re().scopeSymbol,lD=hJ.isPOJO;HE.compile=fD;HE.defineKey=hD;var pJ=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),mJ=Object.freeze({noDottedPath:!0});function fD(t,e,r,n){ic=ic||Qr();let s=n.typeKey;for(let i of Object.keys(t)){let o=t[i],a=lD(o)&&Object.keys(o).length>0&&(!o[s]||s==="type"&&lD(o.type)&&o.type.type)?o:null;hD({prop:i,subprops:a,prototype:e,prefix:r,options:n})}}function hD({prop:t,subprops:e,prototype:r,prefix:n,options:s}){ic=ic||Qr();let i=(n?n+".":"")+t;n=n||"";let o=n?Object.freeze({}):mJ;e?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:function(){let u=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[i]){let a=Object.create(ic.prototype,yJ(this));n||(a.$__[Xp]=this),a.$__.nestedPath=i,Object.defineProperty(a,"schema",{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(a,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(a,lJ,{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(a,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return cJ(u.get(i,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(a,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return u.get(i,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(a,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return u.get(i,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(a,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(a,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(i,null,pJ)||{}).length===0}}),Object.defineProperty(a,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),fD(e,a,i,s),this.$__.getters[i]=a}return this.$__.getters[i]},set:function(u){u!=null&&u.$__isNested?u=u.$__get():u instanceof ic&&!u.$__isNested&&(u=u.$toObject(fJ)),(this.$__[Xp]||this).$set(i,u)}}):Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:function(){return this[dJ].call(this.$__[Xp]||this,i,null,o)},set:function(u){this.$set.call(this.$__[Xp]||this,i,u)}})}function yJ(t){let e={};return Object.getOwnPropertyNames(t).forEach(function(r){["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(r)!==-1&&(e[r]=Object.getOwnPropertyDescriptor(t,r),e[r].enumerable=!1)}),e}});var oc=y(GE=>{"use strict";var gJ=wn().Binary,dD=Kr(),pD=X1(),EJ=Ke(),_J=require("util");GE.flatten=mD;GE.modifiedPaths=yD;function mD(t,e,r,n){let s;t&&pD(t)&&!Buffer.isBuffer(t)?s=Object.keys(t.toObject({transform:!1,virtuals:!1})||{}):s=Object.keys(t||{});let i=s.length,o={};e=e?e+".":"";for(let u=0;u<i;++u){let a=s[u],c=t[a];o[e+a]=c;let l=n&&n.path&&n.path(e+a),f=n&&n.nested&&n.nested[e+a];if(!(l&&l.instance==="Mixed")){if(gD(c)){if(r&&r.skipArrays&&Array.isArray(c))continue;let h=mD(c,e+a,r,n);for(let d in h)o[d]=h[d];Array.isArray(c)&&(o[e+a]=c)}if(f){let h=Object.keys(n.paths);for(let d of h)d.startsWith(e+a+".")&&!o.hasOwnProperty(d)&&(o[d]=void 0)}}}return o}function yD(t,e,r,n=null){if(t==null||typeof t!="object")return;if(n==null&&(n={raw:{update:t,path:e},trace:new WeakSet}),n.trace.has(t))throw new EJ(`a circular reference in the update value, updateValue:
${_J.inspect(n.raw.update,{showHidden:!1,depth:1})}
updatePath: '${n.raw.path}'`);n.trace.add(t);let s=Object.keys(t||{}),i=s.length;r=r||{},e=e?e+".":"";for(let o=0;o<i;++o){let u=s[o],a=t[u],c=e+u;r[c]=!0,!Buffer.isBuffer(a)&&pD(a)&&(a=a.toObject({transform:!1,virtuals:!1})),gD(a)&&yD(a,e+u,r,n)}return n.trace.delete(t),r}function gD(t){return t&&typeof t=="object"&&!(t instanceof Date)&&!dD(t,"ObjectId")&&(!Array.isArray(t)||t.length!==0)&&!(t instanceof Buffer)&&!dD(t,"Decimal128")&&!(t instanceof gJ)}});var at=y((ale,ED)=>{"use strict";ED.exports=function(e,r,n){let s,i=!1;if(typeof r=="string"){if(r.indexOf(".")===-1){let a=KE(e,r);return a??n}s=r.split(".")}else if(i=!0,s=r,s.length===1){let a=KE(e,s[0]);return a??n}let o=r,u=e;for(let a of s){if(u==null)return n;if(!i&&u[o]!=null)return u[o];u=KE(u,a),i||(o=o.substr(a.length+1))}return u??n};function KE(t,e){return t==null?t:t instanceof Map?t.get(e):t[e]}});var YE=y((cle,AD)=>{"use strict";var _D=Kr();AD.exports=function(e,r){return typeof e=="string"&&typeof r=="string"||typeof e=="number"&&typeof r=="number"?e===r:_D(e,"ObjectId")&&_D(r,"ObjectId")?e.toString()===r.toString():!1}});var e0=y((lle,OD)=>{"use strict";var AJ=YE();OD.exports=function(e,r){if(e==null||e.discriminators==null)return null;for(let n of Object.keys(e.discriminators)){let s=e.discriminators[n];if(s.discriminatorMapping!=null&&AJ(s.discriminatorMapping.value,r))return s}return null}});var SD=y((fle,CD)=>{"use strict";var OJ=at(),CJ=e0();CD.exports=function t(e,r,n){n=n||{};let s=n.typeOnly,i=Array.isArray(r)?r:r.indexOf(".")===-1?[r]:r.split("."),o=null,u="adhocOrUndefined",a=CJ(e.schema,e.get(e.schema.options.discriminatorKey))||e.schema;for(let c=0;c<i.length;++c){let l=i.slice(0,c+1).join(".");if(o=a.path(l),o==null){u="adhocOrUndefined";continue}if(o.instance==="Mixed")return s?"real":o;if(u=a.pathType(l),(o.$isSingleNested||o.$isMongooseDocumentArrayElement)&&o.schema.discriminators!=null){let f=o.schema.discriminators,h=e.get(l+"."+OJ(o,"schema.options.discriminatorKey"));if(h==null||f[h]==null)continue;let d=i.slice(c+1).join(".");return t(e.get(l),d,n)}}return s?u:o}});var bD=y((hle,wD)=>{"use strict";var SJ=at();wD.exports=function(e,r,n){let s=n!=null?Object.keys(SJ(e.tree,n,{})):Object.keys(e.tree),i=new Set(Object.keys(r)),o;if(i.size>1){o=new Set;for(let u of s)i.has(u)&&o.add(u);for(let u of i)o.has(u)||o.add(u);o=Array.from(o)}else o=Array.from(i);return o}});var BD=y((dle,DD)=>{"use strict";DD.exports=function(e,r){if(r.length===1)return;let n=r[0],s;for(let i=0;i<r.length-1;++i){let o=e.path(n);o&&o.schema?(s=o.schema.options.strict,e=o.schema,n=o.$isMongooseDocumentArray&&!isNaN(r[i+1])?"":r[i+1]):n+=n.length?"."+r[i+1]:r[i+1]}return s}});var t0=y((ple,TD)=>{"use strict";var wJ=ie(),bJ=new Set(["__index","__parentArray","_doc"]);TD.exports=function(e,r){if(wJ.isPOJO(e)&&e.$__!=null&&e._doc!=null){if(r){let n={};for(let s of Object.keys(e))typeof s!="symbol"&&s[0]!=="$"&&(bJ.has(s)||(n[s]=e[s]));return{...e._doc,...n}}return e._doc}return e}});var uc=y((mle,PD)=>{"use strict";PD.exports=function(e){return e==null?!0:typeof e=="object"?!("$meta"in e)&&!("$slice"in e):!0}});var ac=y((yle,MD)=>{"use strict";var DJ=uc();MD.exports=function t(e){if(e==null)return null;let r=Object.keys(e),n=r.length,s=null;if(n===1&&r[0]==="_id")s=!e._id;else for(;n--;){let i=r[n];if(i!=="_id"&&DJ(e[i])){s=e[i]!=null&&typeof e[i]=="object"?t(e[i]):!e[i];break}}return s}});var QE=y((gle,FD)=>{"use strict";var BJ=ie();FD.exports=function(e,r){if(e._id==null||r==null||r.length===0)return;let n=String(e._id);for(let s of r){if(s.isVirtual)continue;let o=s.path.split(".");for(let u=0;u<o.length-1;++u){let a=o.slice(0,u+1).join("."),c=o.slice(u+1).join("."),l=e.get(a);if(l!=null&&BJ.isMongooseDocumentArray(l)){for(let f=0;f<l.length;++f)l[f]&&l[f].populated(c,s._docs[n]==null?void 0:s._docs[n][f],s);break}}}}});var $D=y((Ele,ID)=>{"use strict";ID.exports=function(e,r,n,s,i){let o=Object.keys(e).reduce((a,c)=>a||c.startsWith(r+"."),!1),u=r+"."+n.options.discriminatorKey;!o&&i.length===1&&i[0]===u&&s.splice(s.indexOf(u),1)}});var As=y((_le,ND)=>{"use strict";var TJ=YE();ND.exports=function(e,r){if(e==null)return null;for(let n of Object.keys(e)){let s=e[n];if(s.schema&&s.schema.discriminatorMapping&&TJ(s.schema.discriminatorMapping.value,r))return s}return null}});var r0=y((Ale,RD)=>{"use strict";RD.exports=function(e,r){let n=r.split("."),s="",i,o,u;for(let a=0;a<n.length;++a)if(s+=s.length?".":""+n[a],e[s]){for(o=Object.keys(e),u=o.length,i=0;i<u;++i)o[a].indexOf(s+".")===0&&o[a].indexOf(r);return!0}return!1}});var cc=y(go=>{"use strict";var PJ=$D(),xD=at(),MJ=As(),FJ=uc(),IJ=gt(),$J=r0();go.preparePopulationOptions=function(e,r){let n=e.options.populate,s=Object.keys(n).reduce((i,o)=>i.concat([n[o]]),[]);return r.lean!=null&&s.filter(i=>(i&&i.options&&i.options.lean)==null).forEach(vD(r.lean)),s.forEach(i=>{i._localModel=e.model}),s};go.preparePopulationOptionsMQ=function(e,r){let n=e._mongooseOptions.populate,s=Object.keys(n).reduce((u,a)=>u.concat([n[a]]),[]);r.lean!=null&&s.filter(u=>(u&&u.options&&u.options.lean)==null).forEach(vD(r.lean));let i=e&&e.options&&e.options.session||null;i!=null&&s.forEach(u=>{if(u.options==null){u.options={session:i};return}"session"in u.options||(u.options.session=i)});let o=e._fieldsForExec();return s.forEach(u=>{u._queryProjection=o}),s.forEach(u=>{u._localModel=e.model}),s};go.createModel=function(e,r,n,s,i){e.hooks.execPreSync("createModel",r);let o=e.schema?e.schema.discriminatorMapping:null,u=o&&o.isRoot?o.key:null,a=r[u];if(u&&a&&e.discriminators){let l=e.discriminators[a]||MJ(e.discriminators,a);if(l){let f=IJ(s);return go.applyPaths(f,l.schema),new l(void 0,f,!0)}}let c={skipId:!0,isNew:!1,willInit:!0};return i!=null&&"defaults"in i&&(c.defaults=i.defaults),new e(void 0,n,c)};go.createModelAndInit=function(e,r,n,s,i,o,u){let a=o?{populated:o}:void 0,c=go.createModel(e,r,n,s,i);try{c.$init(r,a,u)}catch(l){u(l,c)}};go.applyPaths=function(e,r){let n,s,i=new Set;if(e){s=Object.keys(e);let f=[];for(let h=0;h<s.length;++h){let d=s[h];s[h][0]==="-"&&(delete e[d],d==="-_id"?e._id=0:f.push(d.slice(1)))}s=Object.keys(e);for(let h=0;h<s.length;++h){if(s[h][0]==="+")continue;let d=e[s[h]];if(FJ(d)&&!(s[h]==="_id"&&s.length>1)){n=!d;break}}for(let h of f){let d=r.path(h);!d||!d.selected||n!==!1?(e[h]=0,n=!0):d&&d.selected&&n===!1&&i.add(h)}}let o=[],u=[],a=[];switch(c(r),n){case!0:for(let f of u)e[f]=0;break;case!1:r&&r.paths._id&&r.paths._id.options&&r.paths._id.options.select===!1&&(e._id=0);for(let f of o)i.has(f)||$J(e,f)||(e[f]=e[f]||1);break;case void 0:if(e==null)break;for(let f of Object.keys(e||{}))f.startsWith("+")&&delete e[f];for(let f of u)e[f]==null&&(e[f]=0);break}function c(f,h){if(h||(h=""),a.indexOf(f)!==-1)return[];a.push(f);let d=[];return f.eachPath(function(p,m){if(h&&(p=h+"."+p),m.$isSchemaMap||p.endsWith(".$*")){let _="+"+p,E=e&&_ in e;m.options&&m.options.select===!1&&!E&&u.push(p);return}let g=l(p,m);if(g==null&&!Array.isArray(m)&&m.$isMongooseArray&&!m.$isMongooseDocumentArray&&(g=l(p,m.caster)),g!=null&&d.push(g),m.schema){let _=c(m.schema,p);n===!1&&PJ(e,p,m.schema,o,_)}}),a.pop(),d}function l(f,h){if(e==null||typeof h.selected!="boolean"||h.selected===!1&&e[f])return;if(!n&&h.selected&&f===r.options.discriminatorKey&&e[f]!=null&&!e[f]){delete e[f];return}if(n===!1&&h.selected&&e[f]!=null&&!e[f]){delete e[f];return}let d="+"+f;if(e&&d in e){delete e[d],n===!1&&s.length>1&&!~s.indexOf(f)&&(e[f]=1);return}let m=f.split("."),g="";for(let _=0;_<m.length;++_)if(g+=g.length?"."+m[_]:m[_],u.indexOf(g)!==-1)return;if(!n&&(h&&h.options&&h.options.$skipDiscriminatorCheck)){let _="";for(let E=0;E<m.length;++E){_+=(_.length===0?"":".")+m[E];let A=xD(e,_,!1)||xD(e,_+".$",!1);if(A&&typeof A!="object")return}}return(h.selected?o:u).push(f),f}};function vD(t){return function(e){e.options||(e.options={}),t!=null&&Array.isArray(t.virtuals)&&(t=Object.assign({},t),t.virtuals=t.virtuals.filter(r=>typeof r=="string"&&r.startsWith(e.path+".")).map(r=>r.slice(e.path.length+1))),e.options.lean=t}}});var qD=y((Cle,kD)=>{"use strict";function NJ(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}kD.exports=NJ});var n0=y((Sle,LD)=>{"use strict";var RJ=/\./g;LD.exports=function(e){if(e.indexOf(".")===-1)return[e];let r=e.split(RJ),n=r.length,s=new Array(n),i="";for(let o=0;o<n;++o)i+=i.length!==0?"."+r[o]:r[o],s[o]=i;return s}});var UD=y((wle,jD)=>{"use strict";jD.exports=function(e,r,n){let s=r[0],i=n,o=e;for(let u=0;u<r.length-1;++u){let a=i.path(s);if(a&&a.schema){let c=o.get(s);if(i=a.schema,s=r[u+1],Array.isArray(c)&&!isNaN(s)&&(c=c[s],s=""),c==null)break;o=c}else s+=s.length?"."+r[u+1]:r[u+1]}return o}});var s0=y((ble,WD)=>{"use strict";var Eo=Qr(),xJ=on(),vJ=Gs().internalToObjectOptions,VD=require("util"),kJ=ie();WD.exports=Je;function Je(t,e,r,n,s){if(typeof n=="object"&&n!=null&&s==null&&(s=n,n=void 0),r!=null){let i={isNew:r.isNew};"defaults"in r.$__&&(i.defaults=r.$__.defaults),s=Object.assign(i,s)}s!=null&&s.path!=null&&(this.$basePath=s.path),Eo.call(this,t,e,n,s),delete this.$__.priorDoc}Je.prototype=Object.create(Eo.prototype);Object.defineProperty(Je.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0});Object.defineProperty(Je.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0});Je.prototype.toBSON=function(){return this.toObject(vJ)};Je.prototype.save=async function(e){return e=e||{},e.suppressWarning||kJ.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),new Promise((r,n)=>{this.$__save(s=>{if(s!=null)return n(s);r(this)})})};Je.prototype.$__fullPath=function(t){return this.$__.fullPath||this.ownerDocument(),t?this.$__.fullPath+"."+t:this.$__.fullPath};Je.prototype.$__pathRelativeToParent=function(t){return t==null?this.$basePath:[this.$basePath,t].join(".")};Je.prototype.$__save=function(t){return xJ(()=>t(null,this))};Je.prototype.$isValid=function(t){let e=this.$parent(),r=this.$__pathRelativeToParent(t);return e!=null&&r!=null?e.$isValid(r):Eo.prototype.$isValid.call(this,t)};Je.prototype.markModified=function(t){Eo.prototype.markModified.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);if(e==null||r==null)return;let n=this.$__pathRelativeToParent().replace(/\.$/,"");e.isDirectModified(n)||this.isNew||this.$__parent.markModified(r,this)};Je.prototype.isModified=function(t,e){let r=this.$parent();return r!=null?(Array.isArray(t)||typeof t=="string"?(t=Array.isArray(t)?t:t.split(" "),t=t.map(n=>this.$__pathRelativeToParent(n)).filter(n=>n!=null)):t||(t=this.$__pathRelativeToParent()),r.$isModified(t,e)):Eo.prototype.isModified.call(this,t,e)};Je.prototype.$markValid=function(t){Eo.prototype.$markValid.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);e!=null&&r!=null&&e.$markValid(r)};Je.prototype.invalidate=function(t,e,r){Eo.prototype.invalidate.call(this,t,e,r);let n=this.$parent(),s=this.$__pathRelativeToParent(t);if(n!=null&&s!=null)n.invalidate(s,e,r);else if(e.kind==="cast"||e.name==="CastError"||s==null)throw e;return this.ownerDocument().$__.validationError};Je.prototype.$ignore=function(t){Eo.prototype.$ignore.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);e!=null&&r!=null&&e.$ignore(r)};Je.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;let t=this,e=[],r=new Set([t]);for(;typeof t.$__pathRelativeToParent=="function";){e.unshift(t.$__pathRelativeToParent(void 0,!0));let n=t.$parent();if(n==null)break;if(t=n,r.has(t))throw new Error("Infinite subdocument loop: subdoc with _id "+t._id+" is a parent of itself");r.add(t)}return this.$__.fullPath=e.join("."),this.$__.ownerDocument=t,this.$__.ownerDocument};Je.prototype.$__fullPathWithIndexes=function(){let t=this,e=[],r=new Set([t]);for(;typeof t.$__pathRelativeToParent=="function";){e.unshift(t.$__pathRelativeToParent(void 0,!1));let n=t.$parent();if(n==null)break;if(t=n,r.has(t))throw new Error("Infinite subdocument loop: subdoc with _id "+t._id+" is a parent of itself");r.add(t)}return e.join(".")};Je.prototype.parent=function(){return this.$__parent};Je.prototype.$parent=Je.prototype.parent;Je.prototype.$__deleteOne=function(t){if(t!=null)return t(null,this)};Je.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)};Je.prototype.deleteOne=function(t,e){return typeof t=="function"&&(e=t,t=null),qJ(this),(!t||!t.noop)&&this.$__removeFromParent(),this.$__deleteOne(e)};Je.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')};Je.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})};VD.inspect.custom&&(Je.prototype[VD.inspect.custom]=Je.prototype.inspect);function qJ(t){let e=t.ownerDocument();function r(){e.$removeListener("save",r),e.$removeListener("deleteOne",r),t.emit("deleteOne",t),t.constructor.emit("deleteOne",t),e=t=null}e.$on("save",r),e.$on("deleteOne",r)}});var lc=y((Dle,GD)=>{"use strict";var zD=require("events").EventEmitter,HD=s0(),LJ=ie(),sl=re().documentArrayParent;function Jr(t,e,r,n,s){LJ.isMongooseDocumentArray(e)?(this.__parentArray=e,this[sl]=e.$parent()):(this.__parentArray=void 0,this[sl]=void 0),this.$setIndex(s),this.$__parent=this[sl];let i;typeof r=="object"&&r!=null?(i={isNew:!0,...r},r=void 0):i={isNew:!0},HD.call(this,t,n,this[sl],r,i)}Jr.prototype=Object.create(HD.prototype);Jr.prototype.constructor=Jr;Object.defineProperty(Jr.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1});Object.defineProperty(Jr.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0});for(let t in zD.prototype)Jr[t]=zD.prototype[t];Jr.prototype.$setIndex=function(t){if(this.__index=t,this.$__!=null&&this.$__.validationError!=null){let e=Object.keys(this.$__.validationError.errors);for(let r of e)this.invalidate(r,this.$__.validationError.errors[r])}};Jr.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')};Jr.prototype.$__removeFromParent=function(){let t=this._doc._id;if(!t)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:t})};Jr.prototype.$__fullPath=function(t,e){return this.__index==null?null:(this.$__.fullPath||this.ownerDocument(),e?t?this.$__.fullPath+"."+t:this.$__.fullPath:t?this.$__.fullPath+"."+this.__index+"."+t:this.$__.fullPath+"."+this.__index)};Jr.prototype.$__pathRelativeToParent=function(t,e){return this.__index==null?null:e?t==null?this.__parentArray.$path():this.__parentArray.$path()+"."+t:t==null?this.__parentArray.$path()+"."+this.__index:this.__parentArray.$path()+"."+this.__index+"."+t};Jr.prototype.$parent=function(){return this[sl]};Jr.prototype.parentArray=function(){return this.__parentArray};GD.exports=Jr});var u0=y((Ble,ZD)=>{"use strict";var e4=Qr(),JE=lc(),XE=st(),KD=zE(),jJ=gt(),YD=Gs().internalToObjectOptions,QD=gs(),Xr=ie(),ZE=Kr(),bi=re().arrayAtomicsSymbol,Os=re().arrayParentSymbol,_o=re().arrayPathSymbol,_n=re().arraySchemaSymbol,JD=re().populateModelSymbol,UJ=Symbol("mongoose#Array#sliced"),VJ=Array.prototype.push;var o0={$__getAtomics(){let t=[],e=Object.keys(this[bi]||{}),r=e.length,n=Object.assign({},YD,{_isNested:!0});if(r===0)return t[0]=["$set",this.toObject(n)],t;for(;r--;){let s=e[r],i=this[bi][s];Xr.isMongooseObject(i)?i=i.toObject(n):Array.isArray(i)?i=this.toObject.call(i,n):i!=null&&Array.isArray(i.$each)?i.$each=this.toObject.call(i.$each,n):i!=null&&typeof i.valueOf=="function"&&(i=i.valueOf()),s==="$addToSet"&&(i={$each:i}),t.push([s,i])}return t},$atomics(){return this[bi]},$parent(){return this[Os]},$path(){return this[_o]},$shift(){this._registerAtomic("$pop",-1),this._markModified();let t=this.__array;if(!t._shifted)return t._shifted=!0,[].shift.call(t)},$pop(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},$schema(){return this[_n]},_cast(t){let e=!1,r,n=this[Os];if(n&&(e=n.$populated(this[_o],!0)),e&&t!==null&&t!==void 0){if(r=e.options[JD],r==null)throw new XE("No populated model found for path `"+this[_o]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");return(Buffer.isBuffer(t)||ZE(t,"ObjectId")||!Xr.isObject(t))&&(t={_id:t}),t.schema&&t.schema.discriminatorMapping&&t.schema.discriminatorMapping.key!==void 0||(t=new r(t)),this[_n].caster.applySetters(t,n,!0)}return this[_n].caster.applySetters(t,n,!1)},_mapCast(t,e){return this._cast(t,this.length+e)},_markModified(t){let e=this[Os],r;if(e){if(r=this[_o],arguments.length&&(r=r+"."+t),r!=null&&r.endsWith(".$"))return this;e.markModified(r,arguments.length!==0?t:e)}return this},_registerAtomic(t,e){if(this[UJ])return;if(t==="$set")return this[bi]={$set:e},KD(this[Os],this[_o]),this._markModified(),this;let r=this[bi];if(t==="$pop"&&!("$pop"in r)){let s=this;this[Os].once("save",function(){s._popped=s._shifted=null})}if(r.$set||Object.keys(r).length&&!(t in r))return this[bi]={$set:this},this;let n;if(t==="$pullAll"||t==="$addToSet")r[t]||(r[t]=[]),r[t]=r[t].concat(e);else if(t==="$pullDocs"){let s=r.$pull||(r.$pull={});e[0]instanceof JE?(n=s.$or||(s.$or=[]),Array.prototype.push.apply(n,e.map(i=>i.toObject({transform:(o,u)=>(i==null||i.$__==null||Object.keys(i.$__.activePaths.getStatePaths("default")).forEach(a=>{QD.unset(a,u),XD(u,a)}),u),virtuals:!1})))):(n=s._id||(s._id={$in:[]}),n.$in=n.$in.concat(e))}else t==="$push"?(r.$push=r.$push||{$each:[]},e!=null&&Xr.hasUserDefinedProperty(e,"$each")?r.$push=e:r.$push.$each=r.$push.$each.concat(e)):r[t]=e;return this},addToSet(){i0(this,arguments);let t=[].map.call(arguments,this._mapCast,this);t=this[_n].applySetters(t,this[Os]);let e=[],r="";t[0]instanceof JE?r="doc":t[0]instanceof Date?r="date":ZE(t[0],"ObjectId")&&(r="ObjectId");let n=Xr.isMongooseArray(t)?t.__array:this,s=Xr.isMongooseArray(this)?this.__array:this;return n.forEach(function(i){let o,u=+i;switch(r){case"doc":o=this.some(function(a){return a.equals(i)});break;case"date":o=this.some(function(a){return+a===u});break;case"ObjectId":o=this.find(a=>a.toString()===i.toString());break;default:o=~this.indexOf(i);break}o||(this._markModified(),s.push(i),this._registerAtomic("$addToSet",i),[].push.call(e,i))},this),e},hasAtomics(){return Xr.isPOJO(this[bi])?Object.keys(this[bi]).length:0},includes(t,e){return this.indexOf(t,e)!==-1},indexOf(t,e){ZE(t,"ObjectId")&&(t=t.toString()),e=e??0;let r=this.length;for(let n=e;n<r;++n)if(t==this[n])return n;return-1},inspect(){return JSON.stringify(this)},nonAtomicPush(){let t=[].map.call(arguments,this._mapCast,this);this._markModified();let e=[].push.apply(this,t);return this._registerAtomic("$set",this),e},pop(){this._markModified();let t=[].pop.call(this);return this._registerAtomic("$set",this),t},pull(){let t=[].map.call(arguments,(s,i)=>this._cast(s,i,{defaults:!1}),this),e=this[Os].get(this[_o]),r=e.length,n;for(this._markModified();r--;)n=e[r],n instanceof e4?t.some(function(i){return n.equals(i)})&&[].splice.call(e,r,1):~e.indexOf.call(t,n)&&[].splice.call(e,r,1);return t[0]instanceof JE?this._registerAtomic("$pullDocs",t.map(function(s){let i=s.$__getValue("_id");return i===void 0||s.$isDefault("_id")?s:i})):this._registerAtomic("$pullAll",t),KD(this[Os],this[_o])>0&&this._registerAtomic("$set",this),this},push(){let t=arguments,e=t,r=t[0]!=null&&Xr.hasUserDefinedProperty(t[0],"$each"),n=Xr.isMongooseArray(this)?this.__array:this;if(r&&(e=t[0],t=t[0].$each),this[_n]==null)return VJ.apply(this,t);i0(this,t);let s=this[Os];t=[].map.call(t,this._mapCast,this),t=this[_n].applySetters(t,s,void 0,void 0,{skipDocumentArrayCast:!0});let i,o=this[bi];if(this._markModified(),r){if(e.$each=t,(o.$push&&o.$push.$each&&o.$push.$each.length||0)!==0&&o.$push.$position!=e.$position)throw new XE("Cannot call `Array#push()` multiple times with different `$position`");e.$position!=null?([].splice.apply(n,[e.$position,0].concat(t)),i=this.length):i=[].push.apply(n,t)}else{if((o.$push&&o.$push.$each&&o.$push.$each.length||0)!==0&&o.$push.$position!=null)throw new XE("Cannot call `Array#push()` multiple times with different `$position`");e=t,i=[].push.apply(n,t)}return this._registerAtomic("$push",e),i},remove(){return this.pull.apply(this,arguments)},set(t,e,r){let n=this.__array;if(r)return n[t]=e,this;let s=o0._cast.call(this,e,t);return o0._markModified.call(this,t),n[t]=s,this},shift(){let t=Xr.isMongooseArray(this)?this.__array:this;this._markModified();let e=[].shift.call(t);return this._registerAtomic("$set",this),e},sort(){let t=Xr.isMongooseArray(this)?this.__array:this,e=[].sort.apply(t,arguments);return this._registerAtomic("$set",this),e},splice(){let t,e=Xr.isMongooseArray(this)?this.__array:this;if(this._markModified(),i0(this,Array.prototype.slice.call(arguments,2)),arguments.length){let r;if(this[_n]==null)r=arguments;else{r=[];for(let n=0;n<arguments.length;++n)r[n]=n<2?arguments[n]:this._cast(arguments[n],arguments[0]+(n-2))}t=[].splice.apply(e,r),this._registerAtomic("$set",this)}return t},toBSON(){return this.toObject(YD)},toObject(t){let e=Xr.isMongooseArray(this)?this.__array:this;return t&&t.depopulate?(t=jJ(t),t._isNested=!0,[].concat(e).map(function(r){return r instanceof e4?r.toObject(t):r})):[].concat(e)},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift(){i0(this,arguments);let t;this[_n]==null?t=arguments:(t=[].map.call(arguments,this._cast,this),t=this[_n].applySetters(t,this[Os]));let e=Xr.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(e,t),this._registerAtomic("$set",this),this.length}};function WJ(t,e){if(!e)return!1;for(let r of t){if(r==null)return!1;let n=r.constructor;if(!(r instanceof e4)||n.modelName!==e&&n.baseModelName!==e)return!1}return!0}function XD(t,e,r){if(typeof e=="string"){if(e.indexOf(".")===-1)return;e=QD.stringToParts(e)}r=r||0,!(r>=e.length)&&(t==null||typeof t!="object"||(XD(t[e[0]],e,r+1),t[e[0]]!=null&&typeof t[e[0]]=="object"&&Object.keys(t[e[0]]).length===0&&delete t[e[0]]))}function i0(t,e){let r=t==null?null:t[_n]&&t[_n].caster&&t[_n].caster.options&&t[_n].caster.options.ref||null;t.length===0&&e.length!==0&&WJ(e,r)&&t[Os].$populated(t[_o],[],{[JD]:e[0].constructor})}var zJ=["filter","flat","flatMap","map","slice"];for(let t of zJ)Array.prototype[t]!=null&&(o0[t]=function(){let e=Xr.isMongooseArray(this)?this.__array:this,r=[].concat(e);return r[t].apply(r,arguments)});ZD.exports=o0});var r4=y((sB,iB)=>{"use strict";var HJ=Qr(),t4=u0(),a0=re().arrayAtomicsSymbol,GJ=re().arrayAtomicsBackupSymbol,eB=re().arrayParentSymbol,KJ=re().arrayPathSymbol,tB=re().arraySchemaSymbol,rB=Array.prototype.push,nB=/^\d+$/;function YJ(t,e,r,n){let s;if(Array.isArray(t)){let u=t.length;if(u===0)s=new Array;else if(u===1)s=new Array(1),s[0]=t[0];else if(u<1e4)s=new Array,rB.apply(s,t);else{s=new Array;for(let a=0;a<u;++a)rB.call(s,t[a])}}else s=[];let i={[a0]:{},[GJ]:void 0,[KJ]:e,[tB]:n,[eB]:void 0,isMongooseArray:!0,isMongooseArrayProxy:!0,__array:s};t&&t[a0]!=null&&(i[a0]=t[a0]),r!=null&&r instanceof HJ&&(i[eB]=r,i[tB]=n||r.schema.path(e));let o=new Proxy(s,{get:function(u,a){return i.hasOwnProperty(a)?i[a]:t4.hasOwnProperty(a)?t4[a]:typeof a=="string"&&nB.test(a)&&n?.$embeddedSchemaType!=null?n.$embeddedSchemaType.applyGetters(s[a],r):s[a]},set:function(u,a,c){return typeof a=="string"&&nB.test(a)?t4.set.call(o,a,c,!1):i.hasOwnProperty(a)?i[a]=c:s[a]=c,!0}});return o}iB.exports=sB=YJ});var s4=y((Tle,uB)=>{"use strict";var oB=Kr(),n4=Si();uB.exports=function(e){if(e==null||oB(e,"ObjectId"))return e;if(e._id){if(oB(e._id,"ObjectId"))return e._id;if(e._id.toString instanceof Function)return new n4(e._id.toString())}return e.toString instanceof Function?new n4(e.toString()):new n4(e)}});var fB=y((Ple,lB)=>{"use strict";var c0=u0(),QJ=Qr(),JJ=s4(),aB=As(),XJ=Gs().internalToObjectOptions,l0=ie(),i4=Kr(),h0=re().arrayParentSymbol,u4=re().arrayPathSymbol,o4=re().arraySchemaSymbol,cB=re().documentArrayParent,a4={toBSON(){return this.toObject(XJ)},getArrayParent(){return this[h0]},_cast(t,e,r){if(this[o4]==null)return t;let n=this[o4].casterConstructor;if((n.$isMongooseDocumentArray?l0.isMongooseDocumentArray(t):t instanceof n)||t&&t.constructor&&t.constructor.baseCasterConstructor===n)return t[cB]&&t.__parentArray||(t[cB]=this[h0],t.__parentArray=this),t.$setIndex(e),t;if(t==null)return null;if((Buffer.isBuffer(t)||i4(t,"ObjectId")||!l0.isObject(t))&&(t={_id:t}),t&&n.discriminators&&n.schema&&n.schema.options&&n.schema.options.discriminatorKey)if(typeof t[n.schema.options.discriminatorKey]=="string"&&n.discriminators[t[n.schema.options.discriminatorKey]])n=n.discriminators[t[n.schema.options.discriminatorKey]];else{let o=aB(n.discriminators,t[n.schema.options.discriminatorKey]);o&&(n=o)}if(n.$isMongooseDocumentArray)return n.cast(t,this,void 0,void 0,e);let i=new n(t,this,r,void 0,e);return i.isNew=!0,i},id(t){let e,r,n;try{e=JJ(t).toString()}catch{e=null}for(let s of this)if(s&&(n=s.get("_id"),!(n===null||typeof n>"u"))){if(n instanceof QJ){if(r||(r=String(t)),r==n._id)return s}else if(!i4(t,"ObjectId")&&!i4(n,"ObjectId")){if(t==n||l0.deepEqual(t,n))return s}else if(e==n)return s}return null},toObject(t){return[].concat(this.map(function(e){return e==null?null:typeof e.toObject!="function"?e:e.toObject(t)}))},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},push(){let t=c0.push.apply(this,arguments);return f0(this),t},pull(){let t=c0.pull.apply(this,arguments);return f0(this),t},shift(){let t=c0.shift.apply(this,arguments);return f0(this),t},splice(){let t=c0.splice.apply(this,arguments);return f0(this),t},inspect(){return this.toObject()},create(t){let e=this[o4].casterConstructor;if(t&&e.discriminators&&e.schema&&e.schema.options&&e.schema.options.discriminatorKey)if(typeof t[e.schema.options.discriminatorKey]=="string"&&e.discriminators[t[e.schema.options.discriminatorKey]])e=e.discriminators[t[e.schema.options.discriminatorKey]];else{let r=aB(e.discriminators,t[e.schema.options.discriminatorKey]);r&&(e=r)}return new e(t,this)},notify(t){let e=this;return function r(n,s){s=s||e;let i=s.length;for(;i--;)if(s[i]!=null){switch(t){case"save":n=e[i];break;default:break}l0.isMongooseArray(s[i])?r(n,s[i]):s[i]&&s[i].emit(t,n)}}},set(t,e,r){let n=this.__array;if(r)return n[t]=e,this;let s=a4._cast.call(this,e,t);return a4._markModified.call(this,t),n[t]=s,this},_markModified(t,e){let r=this[h0],n;if(r){if(n=this[u4],arguments.length)if(e!=null){let s=t.__index;n=n+"."+s+"."+e}else n=n+"."+t;if(n!=null&&n.endsWith(".$"))return this;r.markModified(n,arguments.length!==0?t:r)}return this}};lB.exports=a4;function f0(t){let e=t[h0];if(!e||e.$__.populated==null)return;let r=Object.keys(e.$__.populated).filter(n=>n.startsWith(t[u4]+"."));for(let n of r){let s=n.slice((t[u4]+".").length);Array.isArray(e.$__.populated[n].value)&&(e.$__.populated[n].value=t.map(i=>i.$populated(s)))}}});var mu=y((Mle,dB)=>{"use strict";var hB=u0(),c4=fB(),ZJ=Qr(),l4=re().arrayAtomicsSymbol,eX=re().arrayAtomicsBackupSymbol,f4=re().arrayParentSymbol,h4=re().arrayPathSymbol,pu=re().arraySchemaSymbol,tX=Array.prototype.push,rX=/^\d+$/;function nX(t,e,r){let n=[],s={[l4]:{},[eX]:void 0,[h4]:e,[pu]:void 0,[f4]:void 0};if(Array.isArray(t)&&(t[h4]===e&&t[f4]===r&&(s[l4]=Object.assign({},t[l4])),t.forEach(o=>{tX.call(n,o)})),s[h4]=e,s.__array=n,r&&r instanceof ZJ)for(s[f4]=r,s[pu]=r.$__schema.path(e);s[pu]!=null&&s[pu].$isMongooseArray&&!s[pu].$isMongooseDocumentArray;)s[pu]=s[pu].casterConstructor;let i=new Proxy(n,{get:function(o,u){return u==="isMongooseArray"||u==="isMongooseArrayProxy"||u==="isMongooseDocumentArray"||u==="isMongooseDocumentArrayProxy"?!0:s.hasOwnProperty(u)?s[u]:c4.hasOwnProperty(u)?c4[u]:hB.hasOwnProperty(u)?hB[u]:n[u]},set:function(o,u,a){return typeof u=="string"&&rX.test(u)?c4.set.call(i,u,a,!1):s.hasOwnProperty(u)?s[u]=a:n[u]=a,!0}});return i}dB.exports=nX});var Qr=y((IB,$B)=>{"use strict";var m4=require("events").EventEmitter,sX=tD(),Zr=Ke(),pB=du(),iX=jE(),oX=UE(),mB=oD(),uX=hc(),y4=yo(),m0=lu(),OB=FE(),CB=VE(),g4=Jp(),d4=zE(),Cs=gt(),aX=Zp().compile,cX=Zp().defineKey,lX=oc().flatten,fX=at(),p4=SD(),yB=bD(),hX=BD(),dX=t0(),gB=on(),SB=uc(),pX=ac(),E4=require("util").inspect,wB=Gs().internalToObjectOptions,mX=QE(),yX=gs(),gX=cc(),Ee=ie(),EX=qD(),d0=Ee.deepEqual,_X=Ee.isMongooseObject,fc=re().arrayAtomicsBackupSymbol,jn=re().arrayAtomicsSymbol,AX=re().documentArrayParent,OX=re().documentIsModified,bB=re().documentModifiedPaths,_4=re().documentSchemaSymbol,CX=re().getSymbol,EB=re().populateModelSymbol,SX=re().scopeSymbol,wX=hu().schemaMixedSymbol,DB=n0(),bX=UD(),p0,_B,yu,DX=Ee.specialProperties;function x(t,e,r,n){if(typeof r=="object"&&r!=null&&(n=r,r=n.skipId),n=Object.assign({},n),this.$__schema==null){let c=Ee.isObject(e)&&!e.instanceOfSchema?new uX(e):e;this.$__setSchema(c),e=r,r=n,n=arguments[4]||{}}if(this.$__=new sX,n.isNew!=null&&n.isNew!==!0&&(this.$isNew=n.isNew),n.priorDoc!=null&&(this.$__.priorDoc=n.priorDoc),r&&(this.$__.skipId=r),t!=null&&typeof t!="object")throw new oX(t,"obj","Document");let s=!0;n.defaults!==void 0&&(this.$__.defaults=n.defaults,s=n.defaults);let i=this.$__schema;typeof e=="boolean"||e==="throw"?(e!==!0&&(this.$__.strictMode=e),e=void 0):i.options.strict!==!0&&(this.$__.strictMode=i.options.strict);let o=i.requiredPaths(!0);for(let c of o)this.$__.activePaths.require(c);let u=null;Ee.isPOJO(e)&&Object.keys(e).length>0&&(u=pX(e),this.$__.selected=e,this.$__.exclude=u);let a=u===!1&&e?CB(e):null;if(this._doc==null&&(this.$__buildDoc(t,e,r,u,a,!1),s&&g4(this,e,u,a,!0,null)),t&&(this.$__original_set?this.$__original_set(t,void 0,!0,n):this.$set(t,void 0,!0,n),t instanceof x&&(this.$isNew=t.$isNew)),n.willInit&&s?n.skipDefaults&&(this.$__.skipDefaults=n.skipDefaults):s&&g4(this,e,u,a,!1,n.skipDefaults),!this.$__.strictMode&&t){let c=this;Object.keys(this._doc).forEach(function(f){!(f in i.tree)&&!(f in i.methods)&&!(f in i.virtuals)&&!f.startsWith("$")&&cX({prop:f,subprops:null,prototype:c})})}NX(this)}x.prototype.$isMongooseDocumentPrototype=!0;Object.defineProperty(x.prototype,"isNew",{get:function(){return this.$isNew},set:function(t){this.$isNew=t}});Object.defineProperty(x.prototype,"errors",{get:function(){return this.$errors},set:function(t){this.$errors=t}});x.prototype.$isNew=!0;Ee.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(t){x.prototype[t]=function(){if(!this.$__.emitter){if(t==="emit")return;this.$__.emitter=new m4,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[t].apply(this.$__.emitter,arguments)},x.prototype[`$${t}`]=x.prototype[t]});x.prototype.constructor=x;for(let t in m4.prototype)x[t]=m4.prototype[t];x.prototype.$__schema;x.prototype.schema;Object.defineProperty(x.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){return this.$__.locals==null&&(this.$__.locals={}),this.$__.locals},set:function(t){this.$__.locals=t}});x.prototype.isNew;Object.defineProperty(x.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0});x.prototype.id;x.prototype.$errors;Object.defineProperty(x.prototype,"$op",{get:function(){return this.$__.op||null},set:function(t){this.$__.op=t}});function BX(t,e,r){if(t==null)return;let n=Object.keys(r.$__schema.paths),s=n.length,i=e.indexOf(".")===-1?[e]:e.split(".");for(let o=0;o<s;++o){let u="",a=n[o];if(!a.startsWith(e+"."))continue;let c=r.$__schema.paths[a],l=c.splitPath().slice(i.length),f=l.length;if(c.defaultValue===void 0)continue;let h=t;for(let d=0;d<f&&h!=null;++d){let p=l[d];if(d===f-1){if(h[p]!==void 0)break;try{let m=c.getDefault(r,!1);m!==void 0&&(h[p]=m)}catch(m){r.invalidate(e+"."+u,m);break}break}u+=(u.length?".":"")+p,h[p]=h[p]||{},h=h[p]}}}x.prototype.$__buildDoc=function(t,e,r,n,s){let i={},o=Object.keys(this.$__schema.paths).filter(c=>!c.includes("$*")),u=o.length,a=0;for(;a<u;++a){let c=o[a];if(c==="_id"&&(r||t&&"_id"in t))continue;let l=this.$__schema.paths[c].splitPath(),f=l.length,h=f-1,d="",p=i,m=!1;for(let g=0;g<f;++g){let _=l[g];if(d.length?d+="."+_:d=_,n===!0){if(d in e)break}else if(n===!1&&e&&!m){if(d in e)m=!0;else if(!s[d])break}g<h&&(p=p[_]||(p[_]={}))}}this._doc=i};x.prototype.toBSON=function(){return this.toObject(wB)};x.prototype.init=function(t,e,r){return typeof e=="function"&&(r=e,e=null),this.$__init(t,e),r&&r(null,this),this};x.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)};x.prototype.$__init=function(t,e){if(this.$isNew=!1,e=e||{},t._id!=null&&e.populated&&e.populated.length){let n=String(t._id);for(let s of e.populated)if(s.isVirtual?this.$populated(s.path,Ee.getValue(s.path,t),s):this.$populated(s.path,s._docs[n],s),s._childDocs!=null){for(let i of s._childDocs)i==null||i.$__==null||(i.$__.parent=this);s._childDocs=[]}}BB(this,t,this._doc,e),mX(this,e.populated),this.$emit("init",this),this.constructor.emit("init",this);let r=this.$__.exclude===!1&&this.$__.selected?CB(this.$__.selected):null;return g4(this,this.$__.selected,this.$__.exclude,r,!1,this.$__.skipDefaults),this};function BB(t,e,r,n,s){s=s||"",e.$__!=null&&(e=e._doc);let i=Object.keys(e),o=i.length,u,a,c,l=0,f=t.$__.strictMode,h=t.$__schema;for(;l<o;)d(l++);function d(p){if(c=i[p],!(c==="__proto__"||c==="constructor")&&(a=s+c,u=h.path(a),!(h.$isRootDiscriminator&&!t.$__isSelected(a))))if(!u&&Ee.isPOJO(e[c]))r[c]||(r[c]={},!f&&!(c in h.tree)&&!(c in h.methods)&&!(c in h.virtuals)&&(t[c]=r[c])),BB(t,e[c],r[c],n,a+".");else if(!u)r[c]=e[c],!f&&!s&&(t[c]=e[c]);else{if(r.hasOwnProperty(c)&&e[c]!==void 0&&delete r[c],e[c]===null)r[c]=u._castNullish(null);else if(e[c]!==void 0){let m=e[c].$__==null?null:e[c].$__.wasPopulated;if(u&&!m)try{n&&n.setters?r[c]=u.applySetters(e[c],t,!1):r[c]=u.cast(e[c],t,!0)}catch(g){t.invalidate(g.path,new OB({path:g.path,message:g.message,type:"cast",value:g.value,reason:g}))}else r[c]=e[c]}t.$isModified(a)||t.$__.activePaths.init(a)}}}x.prototype.updateOne=function(e,r,n){let s=this.constructor.updateOne({_id:this._id},e,r),i=this;return s.pre(function(u){i.constructor._middleware.execPre("updateOne",i,[i],u)}),s.post(function(u){i.constructor._middleware.execPost("updateOne",i,[i],{},u)}),this.$session()!=null&&("session"in s.options||(s.options.session=this.$session())),n!=null?s.exec(n):s};x.prototype.replaceOne=function(){let e=[...arguments];return e.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,e)};x.prototype.$session=function(e){if(arguments.length===0)return this.$__.session!=null&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(e!=null&&e.hasEnded)throw new Zr("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(!(e==null&&this.$__.session==null)){if(this.$__.session=e,!this.$isSubdocument){let r=this.$getAllSubdocs();for(let n of r)n.$session(e)}return e}};x.prototype.$timestamps=function(e){if(arguments.length===0)return this.$__.timestamps!=null?this.$__.timestamps:this.$__schema?this.$__schema.options.timestamps:void 0;let r=this.$timestamps();return e!==r&&(this.$__.timestamps=e),this};x.prototype.overwrite=function(e){let r=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(e))));for(let n of r)n!=="_id"&&(this.$__schema.options.versionKey&&n===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&n===this.$__schema.options.discriminatorKey||this.$set(n,e[n]));return this};x.prototype.$set=function(e,r,n,s){Ee.isPOJO(n)&&(s=n,n=void 0);let i=s&&s.merge,o=n&&n!==!0,u=n===!0,a,c,l=0,f,h,d,p=s&&"strict"in s,m=p?s.strict:this.$__.strictMode;if(o&&(a=this.$__.adhocPaths||(this.$__.adhocPaths={}),a[e]=this.$__schema.interpretAsType(e,n,this.$__schema.options)),e==null)[e,r]=[r,e];else if(typeof e!="string"){e instanceof x&&(e.$__isNested?e=e.toObject():e=e._doc),e==null&&([e,r]=[r,e]),d=r?r+".":"",c=yB(this.$__schema,e);let P=c.length,V=s&&s._skipMinimizeTopLevel||!1;if(P===0&&V)return delete s._skipMinimizeTopLevel,r&&this.$set(r,{}),this;s=Object.assign({},s,{_skipMinimizeTopLevel:!1});for(let D=0;D<P;++D){h=c[D];let j=d?d+h:h;f=this.$__schema.pathType(j);let U=e[h];if(n===!0&&!d&&U!=null&&f==="nested"&&this._doc[h]!=null&&delete this._doc[h],Ee.isNonBuiltinObject(U)&&f==="nested"){this.$set(j,U,u,Object.assign({},s,{_skipMarkModified:!0})),BX(this.$get(j),j,this);continue}else if(m){if(u&&U===void 0&&this.$get(j)!==void 0)continue;if(f==="adhocOrUndefined"&&(f=p4(this,j,{typeOnly:!0})),f==="real"||f==="virtual")this.$set(j,U,u,s);else if(f==="nested"&&U instanceof x)this.$set(j,U.toObject({transform:!1}),u,s);else if(m==="throw")throw f==="nested"?new iX(h,U):new y4(h)}else U!==void 0&&this.$set(j,U,u,s)}let W={},$=Object.keys(this.$__schema.tree);for(let D=0,j=$.length;D<j;++D)(h=$[D])&&this._doc.hasOwnProperty(h)&&(W[h]=void 0);return this._doc=Object.assign(W,this._doc),this}let g=this.$__schema.pathType(e),_=null;if(g==="adhocOrUndefined"&&(_=e.indexOf(".")===-1?[e]:e.split("."),g=p4(this,_,{typeOnly:!0})),g==="adhocOrUndefined"&&!p){_==null&&(_=e.indexOf(".")===-1?[e]:e.split("."));let P=hX(this.$__schema,_);P!==void 0&&(m=P)}r=dX(r);let E=(()=>{if(this.$__.priorDoc!=null)return this.$__.priorDoc.$__getValue(e);if(!u)return this.$__getValue(e)})();if(g==="nested"&&r){if(typeof r=="object"&&r!=null){if(r.$__!=null&&(r=r.toObject(wB)),r==null)return this.invalidate(e,new Zr.CastError("Object",r,e)),this;let P=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(e);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(e)){let W=this.$__getValue(e);this.$__.savedState[e]=W;let $=Object.keys(W||{});for(let D of $)this.$__.savedState[e+"."+D]=W[D]}if(!i)this.$__setValue(e,null),d4(this,e);else return this.$set(r,e,u);let V=yB(this.$__schema,r,e);this.$__setValue(e,{});for(let W of V)this.$set(e+"."+W,r[W],u,s);return E!=null&&Ee.deepEqual(P?this.$__.savedState[e]:E,r)?this.unmarkModified(e):this.markModified(e),this}return this.invalidate(e,new Zr.CastError("Object",r,e)),this}let A;if(_==null&&(_=e.indexOf(".")===-1?[e]:e.split(".")),typeof this.$__schema.aliases[_[0]]=="string"&&(_[0]=this.$__schema.aliases[_[0]]),g==="adhocOrUndefined"&&m){let P;for(l=0;l<_.length;++l){let V=_.slice(0,l+1).join(".");if(l+1<_.length&&this.$__schema.pathType(V)==="virtual")return yX.set(e,r,this),this;if(A=this.$__schema.path(V),A!=null){if(A instanceof pB){P=!0;break}else if(A.$isSchemaMap&&A.$__schemaType instanceof pB&&l<_.length-1){P=!0,A=A.$__schemaType;break}}}if(A==null&&(A=p4(this,e)),!P&&!A){if(m==="throw")throw new y4(e);return this}}else{if(g==="virtual")return A=this.$__schema.virtualpath(e),A.applySetters(r,this),this;A=this.$__path(e)}let C=this._doc,T="";for(l=0;l<_.length-1;++l)C=C[_[l]],T+=(T.length!==0?".":"")+_[l],C||(this.$set(T,{}),this.$__isSelected(T)||this.unmarkModified(T),C=this.$__getValue(T));let L;if(_.length<=1)L=e;else{let P=_.length;for(l=0;l<P;++l){let V=_.slice(0,l+1).join(".");if(this.$get(V,null,{getters:!1})===null){L=V;break}}L||(L=e)}if(!A)return this.$__set(L,e,s,u,_,A,r,E),g==="nested"&&r==null&&d4(this,e),this;if((A.$isSingleNested||A.$isMongooseArray)&&IX(this,e),r!=null&&i&&A.$isSingleNested){r instanceof x&&(r=r.toObject({virtuals:!1,transform:!1}));let P=Object.keys(r);for(let V of P)this.$set(e+"."+V,r[V],u,s);return this}let F=!0;try{let P=(()=>{if(A.options==null||!(r instanceof x))return!1;let D=r.constructor,j=A.options.ref;if(j!=null&&(j===D.modelName||j===D.baseModelName))return!0;let U=A.options.refPath;if(U==null)return!1;let ke=r.get(U);return ke===D.modelName||ke===D.baseModelName})(),V=!1;if(P&&r instanceof x&&(!r.$__.wasPopulated||Ee.deepEqual(r.$__.wasPopulated.value,r._id))){let D=A&&A.$isSingleNested?A.cast(r,this):r._id;this.$populated(e,D,{[EB]:r.constructor}),r.$__.wasPopulated={value:D},V=!0}let W,$=this.$__schema.options.typeKey;if(A.options&&Array.isArray(A.options[$])&&A.options[$].length&&A.options[$][0].ref&&TX(r,A.options[$][0].ref)){W={[EB]:r[0].constructor},this.$populated(e,r.map(function(D){return D._id}),W);for(let D of r)D.$__.wasPopulated={value:D._id};V=!0}if(!P||!A.$isSingleNested||!r.$__){let D=this;this.$__schema.singleNestedPaths[e]!=null&&_.length>1&&(D=bX(this,_,this.schema)),s!=null&&s.overwriteImmutable?r=A.applySetters(r,D,!1,E,{overwriteImmutable:!0}):r=A.applySetters(r,D,!1,E)}if(Array.isArray(r)&&!Array.isArray(A)&&A.$isMongooseDocumentArray&&r.length!==0&&r[0]!=null&&r[0].$__!=null&&r[0].$__.populated!=null){let D=Object.keys(r[0].$__.populated);for(let j of D)this.$populated(e+"."+j,r.map(U=>U.$populated(j)),r[0].$__.populated[j].options);V=!0}if(!V&&this.$__.populated){if(Array.isArray(r)&&this.$__.populated[e])for(let D=0;D<r.length;++D)r[D]instanceof x&&r.set(D,r[D]._id,!0);delete this.$__.populated[e]}r!=null&&A.$isSingleNested&&$X(r,A,E),this.$markValid(e)}catch(P){P instanceof Zr.StrictModeError&&P.isImmutableError?this.invalidate(e,P):P instanceof Zr.CastError?(this.invalidate(P.path,P),P.$originalErrorPath&&this.invalidate(e,new Zr.CastError(A.instance,r,e,P.$originalErrorPath))):this.invalidate(e,new Zr.CastError(A.instance,r,e,P)),F=!1}if(F){let P=null,V=null;if(!u){let W=this.$isSubdocument?this.ownerDocument():this;P=W.$__.savedState,V=this.$isSubdocument?this.$__.fullPath+"."+e:e,W.$__saveInitialState(V)}this.$__set(L,e,s,u,_,A,r,E),P!=null&&P.hasOwnProperty(V)&&Ee.deepEqual(r,P[V])&&this.unmarkModified(e)}return A.$isSingleNested&&(this.isDirectModified(e)||r==null)&&d4(this,e),this};function TX(t,e){if(!Array.isArray(t)||t.length===0)return!1;for(let r of t)if(!(r instanceof x)||r.constructor.modelName==null||r.constructor.modelName!=e&&r.constructor.baseModelName!=e)return!1;return!0}x.prototype.set=x.prototype.$set;x.prototype.$__shouldModify=function(t,e,r,n,s,i,o,u){return r&&r._skipMarkModified?!1:this.$isNew||e in this.$__.activePaths.getStatePaths("modify")||o===void 0&&!this.$__isSelected(e)?!0:o===void 0&&e in this.$__.activePaths.getStatePaths("default")||this.$populated(e)&&o instanceof x&&d0(o._id,u)?!1:!!(!d0(o,u!==void 0?u:Ee.getValue(e,this))||!n&&o!==null&&o!==void 0&&e in this.$__.activePaths.getStatePaths("default")&&d0(o,i.getDefault(this,n)))};x.prototype.$__set=function(t,e,r,n,s,i,o,u){yu=yu||lc(),this.$__shouldModify(t,e,r,n,s,i,o,u)?(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[e]&&(delete this.$__.primitiveAtomics[e],Object.keys(this.$__.primitiveAtomics).length===0&&delete this.$__.primitiveAtomics),this.markModified(t),_B||(_B=r4()),o&&Ee.isMongooseArray(o)&&(o._registerAtomic("$set",o),Ee.isMongooseDocumentArray(o)&&o.forEach(function(d){d&&d.__parentArray&&(d.__parentArray=o)}))):Array.isArray(o)&&Array.isArray(u)&&Ee.isMongooseArray(o)&&Ee.isMongooseArray(u)&&(o[jn]=u[jn],o[fc]=u[fc],Ee.isMongooseDocumentArray(o)&&o.forEach(d=>{d!=null&&(d.$isNew=!1)}));let c=this._doc,l=0,f=s.length,h="";for(;l<f;l++){let p=l+1===f;if(h+=h?"."+s[l]:s[l],DX.has(s[l]))return;if(p)c instanceof Map?c.set(s[l],o):c.$isSingleNested?(s[l]in c||(c[s[l]]=o),c._doc[s[l]]=o):c[s[l]]=o;else{let m=c instanceof Map,g=m?c.get(s[l]):c[s[l]];Ee.isPOJO(g)||g&&g instanceof yu||g&&!Array.isArray(g)&&g.$isSingleNested||g&&Array.isArray(g)||g==null&&(g={},m?c.set(s[l],g):c[s[l]]=g),c=g}}};x.prototype.$__getValue=function(t){return Ee.getValue(t,this._doc)};x.prototype.$inc=function(e,r){if(r==null&&(r=1),Array.isArray(e))return e.forEach(a=>this.$inc(a,r)),this;let n=this.$__path(e);if(n==null){if(this.$__.strictMode==="throw")throw new y4(e);if(this.$__.strictMode===!0)return this}else if(n.instance!=="Number")return this.invalidate(e,new Zr.CastError(n.instance,r,e)),this;let s=this.$__getValue(e)||0,i=!1,o=null,u=r;try{r=n.cast(r),o=n.applySetters(s+r,this),u=o-s,i=!0}catch(a){this.invalidate(e,new Zr.CastError("number",r,e,a))}return i&&(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[e]==null?this.$__.primitiveAtomics[e]={$inc:u}:this.$__.primitiveAtomics[e].$inc+=u,this.markModified(e),this.$__setValue(e,o)),this};x.prototype.$__setValue=function(t,e){return Ee.setValue(t,e,this._doc),this};x.prototype.get=function(t,e,r){let n;r==null&&(r={}),e&&(n=this.$__schema.interpretAsType(t,e,this.$__schema.options));let s=r.noDottedPath,i=s?this.$__schema.paths[t]:this.$__path(t);if(i==null&&(i=this.$__schema.virtualpath(t),i!=null))return i.applyGetters(void 0,this);if(s){let c=this._doc[t];return n&&(c=n.cast(c)),i!=null&&r.getters!==!1?i.applyGetters(c,this):c}if(i!=null&&i.instance==="Mixed"){let c=this.$__schema.virtualpath(t);c!=null&&(i=c)}let o=t.indexOf(".")!==-1,u=this._doc,a=o?t.split("."):[t];typeof this.$__schema.aliases[a[0]]=="string"&&(a[0]=this.$__schema.aliases[a[0]]);for(let c=0,l=a.length;c<l;c++)u&&u._doc&&(u=u._doc),u==null?u=void 0:u instanceof Map?u=u.get(a[c],{getters:!1}):c===l-1?u=Ee.getValue(a[c],u):u=u[a[c]];if(n&&(u=n.cast(u)),i!=null&&r.getters!==!1)u=i.applyGetters(u,this);else if(this.$__schema.nested[t]&&r.virtuals)return FB(this,Cs(u)||{},{path:t});return u};x.prototype[CX]=x.prototype.get;x.prototype.$get=x.prototype.get;x.prototype.$__path=function(t){let e=this.$__.adhocPaths,r=e&&e.hasOwnProperty(t)?e[t]:null;return r||this.$__schema.path(t)};x.prototype.markModified=function(t,e){this.$__saveInitialState(t),this.$__.activePaths.modify(t),e!=null&&!this.$isSubdocument&&(this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[t]=e)};x.prototype.$__saveInitialState=function(e){let r=this.$__.savedState,n=e;if(r!=null){let s=n.indexOf("."),i=s===-1?n:n.slice(0,s);r.hasOwnProperty(i)||(r[i]=Cs(this.$__getValue(i)))}};x.prototype.unmarkModified=function(t){this.$__.activePaths.init(t),this.$__.pathsToScopes!=null&&delete this.$__.pathsToScopes[t]};x.prototype.$ignore=function(t){this.$__.activePaths.ignore(t)};x.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))};x.prototype.$isEmpty=function(t){let e={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){let r=this.$get(t);return r==null?!0:typeof r!="object"?!1:Ee.isPOJO(r)?TB(r):Object.keys(r.toObject(e)).length===0}return Object.keys(this.toObject(e)).length===0};function TB(t){if(t==null)return!0;if(typeof t!="object"||Array.isArray(t))return!1;for(let e of Object.keys(t))if(!TB(t[e]))return!1;return!0}x.prototype.modifiedPaths=function(t){t=t||{};let e=Object.keys(this.$__.activePaths.getStatePaths("modify")),r=new Set,n=0,s=0,i=e.length;for(n=0;n<i;++n){let o=e[n],u=DB(o),a=u.length;for(s=0;s<a;++s)r.add(u[s]);if(!t.includeChildren)continue;let c=0,l=this.$get(o);if(typeof l=="object"&&l!==null){l._doc&&(l=l._doc);let f=l.length;if(Array.isArray(l))for(c=0;c<f;++c){let h=o+"."+c;if(!r.has(h)&&(r.add(h),l[c]!=null&&l[c].$__)){let d=l[c].modifiedPaths(),p=0,m=d.length;for(p=0;p<m;++p)r.add(h+"."+d[p])}}else{let h=Object.keys(l),d=0,p=h.length;for(d=0;d<p;++d)r.add(o+"."+h[d])}}}return Array.from(r)};x.prototype[bB]=x.prototype.modifiedPaths;x.prototype.isModified=function(t,e){if(t){let r=this.$__.activePaths.states.modify;if(r==null)return!1;typeof t=="string"&&(t=t.indexOf(" ")===-1?[t]:t.split(" "));for(let o of t)if(r[o]!=null)return!0;let n=e||this[bB](),s=t.some(function(o){return!!~n.indexOf(o)}),i=Object.keys(r);return s||t.some(function(o){return i.some(function(u){return u===o||o.startsWith(u+".")})})}return this.$__.activePaths.some("modify")};x.prototype.$isModified=x.prototype.isModified;x.prototype[OX]=x.prototype.isModified;x.prototype.$isDefault=function(t){if(t==null)return this.$__.activePaths.some("default");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("default").hasOwnProperty(r))};x.prototype.$isDeleted=function(t){return arguments.length===0?!!this.$__.isDeleted:(this.$__.isDeleted=!!t,this)};x.prototype.isDirectModified=function(t){if(t==null)return this.$__.activePaths.some("modify");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("modify").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("modify").hasOwnProperty(r))};x.prototype.isInit=function(t){if(t==null)return this.$__.activePaths.some("init");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("init").hasOwnProperty(r))};x.prototype.isSelected=function(e){if(this.$__.selected==null)return!0;if(!e)return!1;if(e==="_id")return this.$__.selected._id!==0;if(e.indexOf(" ")!==-1&&(e=e.split(" ")),Array.isArray(e))return e.some(i=>this.$__isSelected(i));let r=Object.keys(this.$__.selected),n=null;if(r.length===1&&r[0]==="_id")return this.$__.selected._id===0;for(let i of r)if(i!=="_id"&&SB(this.$__.selected[i])){n=!!this.$__.selected[i];break}if(n===null)return!0;if(e in this.$__.selected)return n;let s=e+".";for(let i of r)if(i!=="_id"){if(i.startsWith(s))return n||i!==s;if(s.startsWith(i+"."))return n}return!n};x.prototype.$__isSelected=x.prototype.isSelected;x.prototype.isDirectSelected=function(e){if(this.$__.selected==null)return!0;if(e==="_id")return this.$__.selected._id!==0;if(e.indexOf(" ")!==-1&&(e=e.split(" ")),Array.isArray(e))return e.some(s=>this.isDirectSelected(s));let r=Object.keys(this.$__.selected),n=null;if(r.length===1&&r[0]==="_id")return this.$__.selected._id===0;for(let s of r)if(s!=="_id"&&SB(this.$__.selected[s])){n=!!this.$__.selected[s];break}return n===null?!0:this.$__.selected.hasOwnProperty(e)?n:!n};x.prototype.validate=async function(e,r){if(typeof e=="function"||typeof r=="function"||typeof arguments[2]=="function")throw new Zr("Document.prototype.validate() no longer accepts a callback");let n;if(this.$op="validate",this.$isSubdocument!=null||(this.$__.validating?n=new mB(this,{parentStack:r&&r.parentStack,conflictStack:this.$__.validating.stack}):this.$__.validating=new mB(this,{parentStack:r&&r.parentStack})),arguments.length===1&&typeof arguments[0]=="object"&&!Array.isArray(arguments[0])&&(r=arguments[0],e=null),r&&typeof r.pathsToSkip=="string"){let s=r.pathsToSkip.indexOf(" ")===-1;r.pathsToSkip=s?[r.pathsToSkip]:r.pathsToSkip.split(" ")}if(n!=null)throw n;return new Promise((s,i)=>{this.$__validate(e,r,o=>{if(this.$op=null,this.$__.validating=null,o!=null)return i(o);s()})})};x.prototype.$validate=x.prototype.validate;function PX(t){let e=Object.keys(t.$__.activePaths.getStatePaths("require")),r=0,n=e.length;for(r=0;r<n;++r){let s=e[r],i=t.$__schema.path(s);if(i!=null&&typeof i.originalRequiredValue=="function"){t.$__.cachedRequired=t.$__.cachedRequired||{};try{t.$__.cachedRequired[s]=i.originalRequiredValue.call(t,t)}catch(o){t.invalidate(s,o)}}}}function PB(t,e,r){let n={};PX(t);let s=new Set(Object.keys(t.$__.activePaths.getStatePaths("require")).filter(function(l){return!t.$__isSelected(l)&&!t.$isModified(l)?!1:t.$__.cachedRequired!=null&&l in t.$__.cachedRequired?t.$__.cachedRequired[l]:!0}));Object.keys(t.$__.activePaths.getStatePaths("init")).forEach(i),Object.keys(t.$__.activePaths.getStatePaths("modify")).forEach(i),Object.keys(t.$__.activePaths.getStatePaths("default")).forEach(i);function i(l){s.add(l)}let o=t.$getAllSubdocs(),u=t.modifiedPaths();for(let l of o)if(l.$basePath){let f=l.$isSingleNested?l.$__pathRelativeToParent():l.$__fullPathWithIndexes();for(let h of l.modifiedPaths())s.delete(f+"."+h);t.$isModified(f,u)&&!t.isDirectModified(f)&&!t.$isDefault(f)&&(s.add(f),t.$__.pathsToScopes==null&&(t.$__.pathsToScopes={}),t.$__.pathsToScopes[f]=l.$isDocumentArrayElement?l.__parentArray:l.$parent(),n[f]={skipSchemaValidators:!0},l.$isDocumentArrayElement&&l.__index!=null&&(n[f].index=l.__index))}for(let l of s){let f=t.$__schema.path(l);if(f){if(f.$isMongooseDocumentArray)for(let h of s)(h==null||h.startsWith(f.path+"."))&&s.delete(h);(!f.caster&&f.validators.length===0&&!f.$parentSchemaDocArray||f.$isMongooseArray&&!f.$isMongooseDocumentArray&&!f.$embeddedSchemaType.$isMongooseArray&&f.validators.length===0&&f.$embeddedSchemaType.validators.length===0)&&s.delete(l)}}for(let l of s)if(t.$__schema.singleNestedPaths.hasOwnProperty(l)){s.delete(l);continue}Array.isArray(e)?s=MX(s,e):Array.isArray(r)&&(s=FX(s,r));for(let l of s){let f=t.$__schema.path(l);if(!f||!f.$isMongooseArray||!Array.isArray(f)&&f.$isMongooseDocumentArray&&!(f&&f.schemaOptions&&f.schemaOptions.required)||f.$isMongooseArray&&!f.$isMongooseDocumentArray&&!f.$embeddedSchemaType.$isMongooseArray&&f.$embeddedSchemaType.validators.length===0)continue;let h=t.$__getValue(l);a(h,s,l)}function a(l,f,h){if(l!=null){let d=l.length;for(let p=0;p<d;++p)Array.isArray(l[p])?a(l[p],f,h+"."+p):f.add(h+"."+p)}}let c={skipArrays:!0};for(let l of s)if(t.$__schema.nested[l]){let f=t.$__getValue(l);_X(f)&&(f=f.toObject({transform:!1}));let h=lX(f,l,c,t.$__schema);Object.keys(h).forEach(i)}for(let l of s){let f=t.$__schema.path(l);if(!f||(f.$parentSchemaDocArray&&typeof f.$parentSchemaDocArray.path=="string"&&s.add(f.$parentSchemaDocArray.path),!f.$isSchemaMap))continue;let h=t.$__getValue(l);if(h!=null)for(let d of h.keys())s.add(l+"."+d)}return s=Array.from(s),[s,n]}x.prototype.$__validate=function(t,e,r){typeof t=="function"?(r=t,e=null,t=null):typeof e=="function"&&(r=e,e=null);let n=e&&typeof e=="object"&&"validateModifiedOnly"in e,s=e&&e.pathsToSkip||null,i;n?i=!!e.validateModifiedOnly:i=this.$__schema.options.validateModifiedOnly;let o=this,u=()=>{let m=this.$__.validationError;if(this.$__.validationError=null,this.$__.validating=null,i&&m!=null){let g=Object.keys(m.errors);for(let _ of g)this.$isModified(_)||delete m.errors[_];Object.keys(m.errors).length===0&&(m=void 0)}if(this.$__.cachedRequired={},this.$emit("validate",o),this.constructor.emit("validate",o),m){for(let g in m.errors)!this[AX]&&m.errors[g]instanceof Zr.CastError&&this.invalidate(g,m.errors[g]);return m}},a=PB(this,t,s),c=i?a[0].filter(m=>this.$isModified(m)):a[0],l=a[1];if(typeof t=="string"&&(t=t.split(" ")),c.length===0)return gB(function(){let m=u();if(m)return o.$__schema.s.hooks.execPost("validate:error",o,[o],{error:m},function(g){r(g)});r(null,o)});let f={},h=0;for(let m of c)d(m);function d(m){m==null||f[m]||(f[m]=!0,h++,gB(function(){let g=o.$__schema.path(m);if(!g)return--h||p();if(!o.$isValid(m)){--h||p();return}if(g[wX]!=null&&m!==g.path)return--h||p();let _=o.$__getValue(m),E;(E=o.$populated(m))?_=E:_!=null&&_.$__!=null&&_.$__.wasPopulated&&(_=_._id);let A=o.$__.pathsToScopes!=null&&m in o.$__.pathsToScopes?o.$__.pathsToScopes[m]:o,C={...l[m],path:m,validateModifiedOnly:i};g.doValidate(_,function(T){if(T){if((g.$isSingleNested||g.$isArraySubdocument||g.$isMongooseDocumentArray)&&T instanceof m0)return--h||p();o.invalidate(m,T,void 0,!0)}--h||p()},A,C)}))}function p(){let m=u();if(m)return o.$__schema.s.hooks.execPost("validate:error",o,[o],{error:m},function(g){r(g)});r(null,o)}};function MX(t,e){let r=new Set(e),n=new Map([]);for(let i of e){if(i.indexOf(".")===-1)continue;let o=i.split("."),u=o[0];for(let a=1;a<o.length;++a)n.set(u,i),u=u+"."+o[a]}let s=new Set;for(let i of t)r.has(i)?s.add(i):n.has(i)&&s.add(n.get(i));return s}function FX(t,e){return e=new Set(e),t=Array.from(t).filter(r=>!e.has(r)),new Set(t)}x.prototype.validateSync=function(t,e){let r=this;arguments.length===1&&typeof arguments[0]=="object"&&!Array.isArray(arguments[0])&&(e=arguments[0],t=null);let n=e&&typeof e=="object"&&"validateModifiedOnly"in e,s;n?s=!!e.validateModifiedOnly:s=this.$__schema.options.validateModifiedOnly;let i=e&&e.pathsToSkip;typeof t=="string"?t=t.indexOf(" ")===-1?[t]:t.split(" "):typeof i=="string"&&i.indexOf(" ")!==-1&&(i=i.split(" "));let o=PB(this,t,i),u=s?o[0].filter(f=>this.$isModified(f)):o[0],a=o[1],c={};for(let f=0,h=u.length;f<h;++f){let d=u[f];if(c[d])continue;c[d]=!0;let p=r.$__schema.path(d);if(!p||!r.$isValid(d))continue;let m=r.$__getValue(d),g=p.doValidateSync(m,r,{skipSchemaValidators:a[d],path:d,validateModifiedOnly:s});if(g){if((p.$isSingleNested||p.$isArraySubdocument||p.$isMongooseDocumentArray)&&g instanceof m0)continue;r.invalidate(d,g,void 0,!0)}}let l=r.$__.validationError;if(r.$__.validationError=void 0,r.$emit("validate",r),r.constructor.emit("validate",r),l)for(let f in l.errors)l.errors[f]instanceof Zr.CastError&&r.invalidate(f,l.errors[f]);return l};x.prototype.invalidate=function(t,e,r,n){if(this.$__.validationError||(this.$__.validationError=new m0(this)),!this.$__.validationError.errors[t])return(!e||typeof e=="string")&&(e=new OB({path:t,message:e,type:n||"user defined",value:r})),this.$__.validationError===e?this.$__.validationError:(this.$__.validationError.addError(t,e),this.$__.validationError)};x.prototype.$markValid=function(t){!this.$__.validationError||!this.$__.validationError.errors[t]||(delete this.$__.validationError.errors[t],Object.keys(this.$__.validationError.errors).length===0&&(this.$__.validationError=null))};function IX(t,e){if(!t.$__.validationError)return;let r=Object.keys(t.$__.validationError.errors);for(let n of r)n.startsWith(e+".")&&delete t.$__.validationError.errors[n];Object.keys(t.$__.validationError.errors).length===0&&(t.$__.validationError=null)}function $X(t,e,r){let n=e.schema;if(n!=null)for(let s of Object.keys(n.paths)){let i=n.paths[s];if(i.$immutableSetter==null)continue;let o=r?.$__getValue(s);i.$immutableSetter.call(t,o)}}x.prototype.$isValid=function(t){return this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0?!0:t==null?!1:(t.indexOf(" ")!==-1&&(t=t.split(" ")),Array.isArray(t)?t.some(e=>this.$__.validationError.errors[e]==null):this.$__.validationError.errors[t]==null)};x.prototype.$__reset=function(){let e=this,r=this.$parent()===this?this.$getAllSubdocs():[],n=new Set;for(let i of r){let o=i.$__fullPathWithIndexes();if(i.$__reset(),this.isModified(o)||s(o))if(i.$isDocumentArrayElement)n.add(i.parentArray());else{let u=i.$parent();u===this?this.$__.activePaths.clearPath(i.$basePath):u!=null&&u.$isSubdocument&&u.$__reset()}}for(let i of n)this.$__.activePaths.clearPath(i.$path()),i[fc]=i[jn],i[jn]={};function s(i){i=i.indexOf(".")===-1?[i]:i.split(".");let o="";for(let u=0;u<i.length;++u)if(o+=(o.length?".":"")+i[u],e.$__.activePaths[o]==="init")return!0;return!1}return this.$__dirty().forEach(function(i){let o=i.value;o&&o[jn]&&(o[fc]=o[jn],o[jn]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,e=this,this.$__schema.requiredPaths().forEach(function(i){e.$__.activePaths.require(i)}),this};x.prototype.$__undoReset=function(){if(!(this.$__.backup==null||this.$__.backup.activePaths==null)){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;for(let e of this.$__dirty()){let r=e.value;r&&r[jn]&&r[fc]&&(r[jn]=r[fc])}for(let e of this.$getAllSubdocs())e.$__undoReset()}};x.prototype.$__dirty=function(){let t=this,e=this.$__.activePaths.map("modify",function(s){return{path:s,value:t.$__getValue(s),schema:t.$__path(s)}});e=e.concat(this.$__.activePaths.map("default",function(s){if(!(s==="_id"||t.$__getValue(s)==null))return{path:s,value:t.$__getValue(s),schema:t.$__path(s)}}));let r=new Map(e.filter(s=>s!=null).map(s=>[s.path,s.value])),n=[];return e.forEach(function(s){if(!s)return;let i=null,o=DB(s.path);for(let u=0;u<o.length-1;u++)if(r.has(o[u])){i=r.get(o[u]);break}i==null?n.push(s):i!=null&&i[jn]!=null&&i.hasAtomics()&&(i[jn]={},i[jn].$set=i)}),n};x.prototype.$__setSchema=function(t){aX(t.tree,this,void 0,t.options);for(let e of Object.keys(t.virtuals))t.virtuals[e]._applyDefaultGetters();t.path("schema")==null&&(this.schema=t),this.$__schema=t,this[_4]=t};x.prototype.$__getArrayPathsToValidate=function(){return p0||(p0=mu()),this.$__.activePaths.map("init","modify",function(t){return this.$__getValue(t)}.bind(this)).filter(function(t){return t&&Array.isArray(t)&&Ee.isMongooseDocumentArray(t)&&t.length}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t})};x.prototype.$getAllSubdocs=function(){p0||(p0=mu()),yu=yu||lc();function t(r,n,s){let i=r,o=!1;if(s&&(r instanceof x&&r[_4].paths[s]?i=r._doc[s]:r instanceof x&&r[_4].nested[s]?(i=r._doc[s],o=!0):i=r[s]),i instanceof yu)n.push(i);else if(i instanceof Map)n=Array.from(i.keys()).reduce(function(u,a){return t(i.get(a),u,null)},n);else if(i&&!Array.isArray(i)&&i.$isSingleNested)n=Object.keys(i._doc).reduce(function(u,a){return t(i,u,a)},n),n.push(i);else if(i&&Ee.isMongooseDocumentArray(i))i.forEach(function(a){!a||!a._doc||(n=Object.keys(a._doc).reduce(function(c,l){return t(a._doc,c,l)},n),a instanceof yu&&n.push(a))});else if(o&&i!=null)for(let u of Object.keys(i))t(i,n,u);return n}let e=[];for(let r of Object.keys(this._doc))t(this,e,r);return e};function NX(t){let e=t.$__schema&&t.$__schema.callQueue;if(e.length)for(let r of e)r[0]!=="pre"&&r[0]!=="post"&&r[0]!=="on"&&t[r[0]].apply(t,r[1])}x.prototype.$__handleReject=function(e){this.$listeners("error").length?this.$emit("error",e):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",e)};x.prototype.$toObject=function(t,e){let r={transform:!0,flattenDecimals:!0},n=e?"toJSON":"toObject",s=this.constructor&&this.constructor.base&&this.constructor.base.options&&fX(this.constructor.base.options,n)||{},i=this.$__schema&&this.$__schema.options||{};r=Ee.options(r,Cs(s)),r=Ee.options(r,Cs(i[n]||{})),t=Ee.isPOJO(t)?{...t}:{},t._calledWithOptions=t._calledWithOptions||{...t};let o;t._calledWithOptions.minimize!=null?o=t.minimize:r.minimize!=null?o=r.minimize:o=i.minimize;let u;t._calledWithOptions.flattenMaps!=null?u=t.flattenMaps:r.flattenMaps!=null?u=r.flattenMaps:u=i.flattenMaps;let a;t._calledWithOptions.flattenObjectIds!=null?a=t.flattenObjectIds:r.flattenObjectIds!=null?a=r.flattenObjectIds:a=i.flattenObjectIds;let c=Object.assign({},t,{_isNested:!0,json:e,minimize:o,flattenMaps:u,flattenObjectIds:a,_seen:t&&t._seen||new Map});if(Ee.hasUserDefinedProperty(t,"getters")&&(c.getters=t.getters),Ee.hasUserDefinedProperty(t,"virtuals")&&(c.virtuals=t.virtuals),(t.depopulate||t._parentOptions&&t._parentOptions.depopulate||!1)&&t._isNested&&this.$__.wasPopulated)return Cs(this.$__.wasPopulated.value||this._id,c);t=Ee.options(r,t),t._isNested=!0,t.json=e,t.minimize=o,c._parentOptions=t,c._skipSingleNestedGetters=!1;let f=Object.assign({},c);f._skipSingleNestedGetters=!0;let h=t.transform,d=Cs(this._doc,c)||{};t.getters&&(RX(this,d,f),t.minimize&&(d=MB(d)||{})),(t.virtuals||t.getters&&t.virtuals!==!1)&&FB(this,d,f,t),t.versionKey===!1&&this.$__schema.options.versionKey&&delete d[this.$__schema.options.versionKey];let p=t.transform;if(p&&xX(this,d),t.useProjection&&vX(this,d),p===!0||i.toObject&&p){let m=t.json?i.toJSON:i.toObject;m&&(p=typeof t.transform=="function"?t.transform:m.transform)}else t.transform=h;if(typeof p=="function"){let m=p(this,d,t);typeof m<"u"&&(d=m)}return d};x.prototype.toObject=function(t){return this.$toObject(t)};function MB(t){let e=Object.keys(t),r=e.length,n,s,i;for(;r--;){if(s=e[r],i=t[s],Ee.isPOJO(i)&&(t[s]=MB(i)),t[s]===void 0){delete t[s];continue}n=!0}return n?t:void 0}function FB(t,e,r,n){let s=t.$__schema,i=Object.keys(s.virtuals),o=i.length,u=o,a,c,l=t._doc,f,h=typeof(n&&n.aliases)=="boolean"?n.aliases:!0,d=null;if(Array.isArray(r.virtuals))d=new Set(r.virtuals);else if(r.virtuals&&r.virtuals.pathsToSkip){d=new Set(i);for(let p=0;p<r.virtuals.pathsToSkip.length;p++)d.has(r.virtuals.pathsToSkip[p])&&d.delete(r.virtuals.pathsToSkip[p])}if(!l)return e;for(r=r||{},o=0;o<u;++o){if(a=i[o],d!=null&&!d.has(a)||!h&&s.aliases.hasOwnProperty(a))continue;if(c=a,r.path!=null){if(!a.startsWith(r.path+"."))continue;c=a.substring(r.path.length+1)}let p=c.split(".");if(f=Cs(t.get(a),r),f===void 0)continue;let m=p.length;l=e;for(let g=0;g<m-1;++g)l[p[g]]=l[p[g]]||{},l=l[p[g]];l[p[m-1]]=f}return e}function RX(t,e,r){let n=t.$__schema,s=Object.keys(n.paths),i=s.length,o,u=t._doc,a;if(!u)return e;for(;i--;){o=s[i];let c=o.split("."),l=c.length,f=l-1,h=e,d;if(u=t._doc,!!t.$__isSelected(o))for(let p=0;p<l;++p){if(d=c[p],a=u[d],p===f){let m=t.$get(o);if(h[d]=Cs(m,r),Array.isArray(h[d])&&n.paths[o].$embeddedSchemaType)for(let g=0;g<h[d].length;++g)h[d][g]=n.paths[o].$embeddedSchemaType.applyGetters(h[d][g],t)}else if(a==null){d in u&&(h[d]=a);break}else h=h[d]||(h[d]={});u=a}}return e}function xX(t,e){let r=t.$__schema,n=Object.keys(r.paths||{});if(!t._doc)return e;for(let i of n){let o=r.paths[i];if(typeof o.options.transform=="function"){let u=t.$get(i);if(u===void 0)continue;let a=o.options.transform.call(t,u);AB(i,a),Ee.setValue(i,a,e)}else if(o.$embeddedSchemaType!=null&&typeof o.$embeddedSchemaType.options.transform=="function"){let u=t.$get(i);if(u===void 0)continue;let a=[].concat(u),c=o.$embeddedSchemaType.options.transform;for(let l=0;l<a.length;++l){let f=c.call(t,a[l]);a[l]=f,AB(i,f)}e[i]=a}}return e}function AB(t,e){if(EX(e))throw new Error("`transform` function must be synchronous, but the transform on path `"+t+"` returned a promise.")}function vX(t,e){let r=t.$__schema,n=Object.keys(r.paths||{});if(!t._doc)return e;let i=t.$__.selected;if(i===void 0&&(i={},gX.applyPaths(i,r)),i==null||Object.keys(i).length===0)return e;for(let o of n)i[o]!=null&&!i[o]&&delete e[o];return e}x.prototype.toJSON=function(t){return this.$toObject(t,!0)};x.prototype.ownerDocument=function(){return this};x.prototype.parent=function(){return this.$isSubdocument||this.$__.wasPopulated?this.$__.parent:this};x.prototype.$parent=x.prototype.parent;x.prototype.inspect=function(t){let e=Ee.isPOJO(t),r;e&&(r=t,r.minimize=!1);let n=this.toObject(r);return n??"MongooseDocument { "+n+" }"};E4.custom&&(x.prototype[E4.custom]=x.prototype.inspect);x.prototype.toString=function(){let t=this.inspect();return typeof t=="string"?t:E4(t)};x.prototype.equals=function(t){if(!t)return!1;let e=this.$__getValue("_id"),r=t.$__!=null?t.$__getValue("_id"):t;return!e&&!r?d0(this,t):e&&e.equals?e.equals(r):e===r};x.prototype.populate=async function(){let e={},r=[...arguments];if(typeof r[r.length-1]=="function")throw new Zr("Document.prototype.populate() no longer accepts a callback");if(r.length!==0){let i=Ee.populate.apply(null,r);for(let o of i)e[o.path]=o}let n=Ee.object.vals(e),s=this.constructor;if(this.$__isNested){s=this.$__[SX].constructor;let i=this.$__.nestedPath;n.forEach(function(o){o.path=i+"."+o.path})}if(this.$session()!=null){let i=this.$session();n.forEach(o=>{if(o.options==null){o.options={session:i};return}"session"in o.options||(o.options.session=i)})}return n.forEach(i=>{i._localModel=s}),s.populate(this,n)};x.prototype.$getPopulatedDocs=function(){let e=[];this.$__.populated!=null&&(e=e.concat(Object.keys(this.$__.populated)));let r=[];for(let n of e){let s=this.$get(n);Array.isArray(s)?r=r.concat(s):s instanceof x&&r.push(s)}return r};x.prototype.populated=function(t,e,r){if(e==null||e===!0){if(!this.$__.populated||typeof t!="string")return;let s=t.endsWith(".$*")?t.replace(/\.\$\*$/,""):t,i=this.$__.populated[s];return i?e===!0?i:i.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[t]={value:e,options:r};let n=t.split(".");for(let s=0;s<n.length-1;++s){let i=n.slice(0,s+1).join("."),o=this.$get(i);if(o!=null&&o.$__!=null&&this.$populated(i)){let u=n.slice(s+1).join(".");o.$populated(u,e,r);break}}return e};x.prototype.$populated=x.prototype.populated;x.prototype.$assertPopulated=function(e,r){if(Array.isArray(e))return e.forEach(n=>this.$assertPopulated(n,r)),this;if(arguments.length>1&&this.$set(r),!this.$populated(e))throw new Zr(`Expected path "${e}" to be populated`);return this};x.prototype.depopulate=function(t){typeof t=="string"&&(t=t.indexOf(" ")===-1?[t]:t.split(" "));let e,r=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],n=this.$__&&this.$__.populated||{};if(arguments.length===0){for(let i of r)delete this.$$populatedVirtuals[i],delete this._doc[i],delete n[i];let s=Object.keys(n);for(let i of s)e=this.$populated(i),e&&(delete n[i],Ee.setValue(i,e,this._doc));return this}for(let s of t)e=this.$populated(s),delete n[s],r.indexOf(s)!==-1?(delete this.$$populatedVirtuals[s],delete this._doc[s]):e&&Ee.setValue(s,e,this._doc);return this};x.prototype.$__fullPath=function(t){return t||""};x.prototype.getChanges=function(){let t=this.$__delta();return t?t[1]:{}};x.prototype.$clone=function(){let t=this.constructor,e=new t;if(e.$isNew=this.$isNew,this._doc&&(e._doc=Cs(this._doc)),this.$__){let r=this.$__.constructor,n=new r;for(let s of Object.getOwnPropertyNames(this.$__))s!=="activePaths"&&(n[s]=Cs(this.$__[s]));Object.assign(n.activePaths,Cs({...this.$__.activePaths})),e.$__=n}return e};x.ValidationError=m0;$B.exports=IB=x});var ie=y(Z=>{"use strict";var kX=wn().UUID,qX=Rb(),RB=gs(),LX=Si(),xB=zb(),O4=gt(),jX=on(),UX=mo(),vB=Bp(),kB=Gb(),Ao=Kr(),VX=yE(),il=X1(),WX=zp(),zX=Hp(),ol=Qa(),{trustedSymbol:dc}=Ja(),A4;Z.specialProperties=ol;Z.isMongooseArray=vB.isMongooseArray;Z.isMongooseDocumentArray=kB.isMongooseDocumentArray;Z.registerMongooseArray=vB.registerMongooseArray;Z.registerMongooseDocumentArray=kB.registerMongooseDocumentArray;var C4=/\s/,S4=/\s+/;Z.toCollectionName=function(t,e){return t==="system.profile"||t==="system.indexes"?t:typeof e=="function"?e(t):t};Z.deepEqual=function t(e,r){if(e===r)return!0;if(typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date&&r instanceof Date)return e.getTime()===r.getTime();if(Ao(e,"ObjectId")&&Ao(r,"ObjectId")||Ao(e,"Decimal128")&&Ao(r,"Decimal128"))return e.toString()===r.toString();if(e instanceof RegExp&&r instanceof RegExp)return e.source===r.source&&e.ignoreCase===r.ignoreCase&&e.multiline===r.multiline&&e.global===r.global&&e.dotAll===r.dotAll&&e.unicode===r.unicode&&e.sticky===r.sticky&&e.hasIndices===r.hasIndices;if(e==null||r==null||e.prototype!==r.prototype)return!1;if(e instanceof Map||r instanceof Map)return!(e instanceof Map)||!(r instanceof Map)?!1:t(Array.from(e.keys()),Array.from(r.keys()))&&t(Array.from(e.values()),Array.from(r.values()));if(e instanceof Number&&r instanceof Number)return e.valueOf()===r.valueOf();if(Buffer.isBuffer(e))return Z.buffer.areEqual(e,r);if(Array.isArray(e)||Array.isArray(r)){if(!Array.isArray(e)||!Array.isArray(r))return!1;let o=e.length;if(o!==r.length)return!1;for(let u=0;u<o;++u)if(!t(e[u],r[u]))return!1;return!0}e.$__!=null?e=e._doc:il(e)&&(e=e.toObject()),r.$__!=null?r=r._doc:il(r)&&(r=r.toObject());let n=Object.keys(e),s=Object.keys(r),i=n.length;if(i!==s.length)return!1;for(let o=i-1;o>=0;o--)if(n[o]!==s[o])return!1;for(let o of n)if(!t(e[o],r[o]))return!1;return!0};Z.last=function(t){if(t.length>0)return t[t.length-1]};Z.promiseOrCallback=WX;Z.cloneArrays=function(e){return Array.isArray(e)?e.map(r=>Z.cloneArrays(r)):e};Z.omit=function(e,r){if(r==null)return Object.assign({},e);Array.isArray(r)||(r=[r]);let n=Object.assign({},e);for(let s of r)delete n[s];return n};Z.options=function(t,e){let r=Object.keys(t),n=r.length,s;for(e=e||{};n--;)s=r[n],s in e||(e[s]=t[s]);return e};Z.merge=function t(e,r,n,s){n=n||{};let i=Object.keys(r),o=0,u=i.length,a;r[dc]&&(e[dc]=r[dc]),s=s||"";let c=n.omitNested||{};for(;o<u;)if(a=i[o++],!(n.omit&&n.omit[a])&&!c[s]&&!ol.has(a))if(e[a]==null)e[a]=r[a];else if(Z.isObject(r[a])){if(Z.isObject(e[a])||(e[a]={}),r[a]!=null){if(n.isDiscriminatorSchemaMerge&&r[a].$isSingleNested&&e[a].$isMongooseDocumentArray||r[a].$isMongooseDocumentArray&&e[a].$isSingleNested)continue;if(r[a].instanceOfSchema){e[a].instanceOfSchema?zX(e[a],r[a].clone(),n.isDiscriminatorSchemaMerge):e[a]=r[a].clone();continue}else if(Ao(r[a],"ObjectId")){e[a]=new LX(r[a]);continue}}t(e[a],r[a],n,s?s+"."+a:a)}else n.overwrite&&(e[a]=r[a])};Z.toObject=function t(e){A4||(A4=Qr());let r;if(e==null)return e;if(e instanceof A4)return e.toObject();if(Array.isArray(e)){r=[];for(let n of e)r.push(t(n));return r}if(Z.isPOJO(e)){r={},e[dc]&&(r[dc]=e[dc]);for(let n of Object.keys(e))ol.has(n)||(r[n]=t(e[n]));return r}return e};Z.isObject=UX;Z.isPOJO=gE();Z.isNonBuiltinObject=function(e){return typeof e=="object"&&!Z.isNativeObject(e)&&!Z.isMongooseType(e)&&!(e instanceof kX)&&e!=null};Z.isNativeObject=function(t){return Array.isArray(t)||t instanceof Date||t instanceof Boolean||t instanceof Number||t instanceof String};Z.isEmptyObject=function(t){return t!=null&&typeof t=="object"&&Object.keys(t).length===0};Z.hasKey=function(e,r){let n=Object.keys(e);for(let s of n)if(s===r||Z.isPOJO(e[s])&&Z.hasKey(e[s],r))return!0;return!1};Z.tick=function(e){if(typeof e=="function")return function(){try{e.apply(this,arguments)}catch(r){jX(function(){throw r})}}};Z.isMongooseType=function(t){return Ao(t,"ObjectId")||Ao(t,"Decimal128")||t instanceof Buffer};Z.isMongooseObject=il;Z.expires=function(e){e&&e.constructor.name==="Object"&&"expires"in e&&(e.expireAfterSeconds=typeof e.expires!="string"?e.expires:Math.round(qX(e.expires)/1e3),delete e.expires)};Z.populate=function(e,r,n,s,i,o,u,a){let c=null;if(arguments.length===1){if(e instanceof xB)return e._docs=[],e._childDocs=[],[e];if(Array.isArray(e))return l(e).map(h=>Z.populate(h)[0]);Z.isObject(e)?c=Object.assign({},e):c={path:e}}else typeof n=="object"?c={path:e,select:r,match:n,options:s}:c={path:e,select:r,model:n,match:s,options:i,populate:o,justOne:u,count:a};if(typeof c.path!="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+typeof e+"`");return HX(c);function l(f){let h=[];return f.forEach(function(d){C4.test(d.path)?d.path.split(S4).forEach(function(m){let g=Object.assign({},d);g.path=m,h.push(g)}):h.push(d)}),h}};function HX(t){if(Array.isArray(t.populate)){let n=[];t.populate.forEach(function(s){if(C4.test(s.path)){let i=Object.assign({},s);i.path.split(S4).forEach(function(u){i.path=u,n.push(Z.populate(i)[0])})}else n.push(Z.populate(s)[0])}),t.populate=Z.populate(n)}else t.populate!=null&&typeof t.populate=="object"&&(t.populate=Z.populate(t.populate));let e=[],r=C4.test(t.path)?t.path.split(S4):[t.path];t.options!=null&&(t.options=O4(t.options));for(let n of r)e.push(new xB(Object.assign({},t,{path:n})));return e}Z.getValue=function(t,e,r){return RB.get(t,e,KX,r)};var GX=Object.freeze({getters:!1});function KX(t,e){let r=t?._doc||t;return r!=null&&r.isMongooseArrayProxy&&(r=r.__array),r instanceof Map?r.get(e,GX):r[e]}Z.setValue=function(t,e,r,n,s){RB.set(t,e,r,"_doc",n,s)};Z.object={};Z.object.vals=function(e){let r=Object.keys(e),n=r.length,s=[];for(;n--;)s.push(e[r[n]]);return s};Z.object.shallowCopy=Z.options;var YX=Object.prototype.hasOwnProperty;Z.object.hasOwnProperty=function(t,e){return YX.call(t,e)};Z.isNullOrUndefined=function(t){return t==null};Z.array={};Z.array.flatten=function t(e,r,n){return n||(n=[]),e.forEach(function(s){Array.isArray(s)?t(s,r,n):(!r||r(s))&&n.push(s)}),n};var QX=Object.prototype.hasOwnProperty;Z.hasUserDefinedProperty=function(t,e){if(t==null)return!1;if(Array.isArray(e)){for(let r of e)if(Z.hasUserDefinedProperty(t,r))return!0;return!1}if(QX.call(t,e))return!0;if(typeof t=="object"&&e in t){let r=t[e];return r!==Object.prototype[e]&&r!==Array.prototype[e]}return!1};var NB=Math.pow(2,32)-1;Z.isArrayIndex=function(t){return typeof t=="number"?t>=0&&t<=NB:typeof t=="string"&&/^\d+$/.test(t)?(t=+t,t>=0&&t<=NB):!1};Z.array.unique=function(t){let e=new Set,r=new Set,n=[];for(let s of t)if(typeof s=="number"||typeof s=="string"||s==null){if(e.has(s))continue;n.push(s),e.add(s)}else if(Ao(s,"ObjectId")){if(r.has(s.toString()))continue;n.push(s),r.add(s.toString())}else n.push(s);return n};Z.buffer={};Z.buffer.areEqual=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;++r)if(t[r]!==e[r])return!1;return!0};Z.getFunctionName=VX;Z.decorate=function(t,e){for(let r in e)ol.has(r)||(t[r]=e[r])};Z.mergeClone=function(t,e){il(e)&&(e=e.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));let r=Object.keys(e),n=r.length,s=0,i;for(;s<n;)if(i=r[s++],!ol.has(i))if(typeof t[i]>"u")t[i]=O4(e[i],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{let o=e[i];if(o!=null&&o.valueOf&&!(o instanceof Date)&&(o=o.valueOf()),Z.isObject(o)){let u=o;il(o)&&!o.isMongooseBuffer&&(u=u.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),o.isMongooseBuffer&&(u=Buffer.from(u)),Z.mergeClone(t[i],u)}else t[i]=O4(o,{flattenDecimals:!1})}};Z.each=function(t,e){for(let r of t)e(r)};Z.getOption=function(t){let e=Array.prototype.slice.call(arguments,1);for(let r of e)if(r!=null&&r[t]!=null)return r[t];return null};Z.noop=function(){};Z.errorToPOJO=function(e){if(!(e instanceof Error))throw new Error("`error` must be `instanceof Error`.");let n={};for(let s of Object.getOwnPropertyNames(e))n[s]=e[s];return n};Z.warn=function(e){return process.emitWarning(e,{code:"MONGOOSE"})};Z.injectTimestampsOption=function(e,r){r!=null&&(e.timestamps=r)}});var Ht=y((g0,HB)=>{"use strict";var ul=Ke(),VB=En(),JX=Vp(),XX=kE(),y0=gt(),w4=Pb(),ZX=Fb(),b4=$b(),qB=on(),eZ=re().schemaTypeSymbol,gu=ie(),WB=re().validatorErrorSymbol,tZ=re().documentIsModified,rZ=re().populateModelSymbol,zB=ul.CastError,D4=ul.ValidatorError,nZ={_skipMarkModified:!0};function Ae(t,e,r){this[eZ]=!0,this.path=t,this.instance=r,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),e=e||{};let n=this.constructor.defaultOptions||{},s=Object.keys(n);for(let u of s)n.hasOwnProperty(u)&&!Object.prototype.hasOwnProperty.call(e,u)&&(e[u]=n[u]);e.select==null&&delete e.select;let i=this.OptionsConstructor||VB;this.options=new i(e),this._index=null,gu.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,w4(this));let o=Object.keys(this.options);for(let u of o){if(u==="cast"){Array.isArray(this.options[u])?this.castFunction.apply(this,this.options[u]):this.castFunction(this.options[u]);continue}if(gu.hasUserDefinedProperty(this.options,u)&&typeof this[u]=="function"){if(u==="index"&&this._index){if(e.index===!1){let l=this._index;if(typeof l=="object"&&l!=null){if(l.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(l.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}let a=e[u];if(u==="default"){this.default(a);continue}let c=Array.isArray(a)?a:[a];this[u].apply(this,c)}}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}Ae.prototype.OptionsConstructor=VB;Ae.prototype.path;Ae.prototype.validators;Ae.prototype.isRequired;Ae.prototype.splitPath=function(){if(this._presplitPath!=null)return this._presplitPath;if(this.path!=null)return this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath};Ae.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=r=>r),this._cast=e,this._cast)};Ae.prototype.castFunction=function(e,r){return arguments.length===0?this._castFunction:(e===!1&&(e=this.constructor._defaultCaster||(n=>n)),typeof e=="string"?(this._castErrorMessage=e,this._castFunction):(e!=null&&(this._castFunction=e),r!=null&&(this._castErrorMessage=r),this._castFunction))};Ae.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")};Ae.set=function(e,r){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[e]=r};Ae.get=function(t){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(t)};Ae.prototype.default=function(t){if(arguments.length===1){if(t===void 0){this.defaultValue=void 0;return}if(t!=null&&t.instanceOfSchema)throw new ul("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=t,this.defaultValue}else arguments.length>1&&(this.defaultValue=[...arguments]);return this.defaultValue};Ae.prototype.index=function(t){return this._index=t,gu.expires(this._index),this};Ae.prototype.unique=function(t){if(this._index===!1){if(!t)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index==null||this._index===!0?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.unique=t,this)};Ae.prototype.text=function(t){if(this._index===!1){if(!t)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index===null||this._index===void 0||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.text=t,this)};Ae.prototype.sparse=function(t){if(this._index===!1){if(!t)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index==null||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.sparse=t,this)};Ae.prototype.immutable=function(t){return this.$immutable=t,w4(this),this};Ae.prototype.transform=function(t){return this.options.transform=t,this};Ae.prototype.set=function(t){if(typeof t!="function")throw new TypeError("A setter must be a function.");return this.setters.push(t),this};Ae.prototype.get=function(t){if(typeof t!="function")throw new TypeError("A getter must be a function.");return this.getters.push(t),this};Ae.prototype.validate=function(t,e,r){if(typeof t=="function"||t&&gu.getFunctionName(t.constructor)==="RegExp"){let o;return typeof e=="function"?(o={validator:t,message:e},o.type=r||"user defined"):e instanceof Object&&!r?(o=b4(e)?Object.assign({},e):y0(e),o.message||(o.message=o.msg),o.validator=t,o.type=o.type||"user defined"):(e==null&&(e=ul.messages.general.default),r||(r="user defined"),o={message:e,type:r,validator:t}),this.validators.push(o),this}let n,s,i;for(n=0,s=arguments.length;n<s;n++){if(i=arguments[n],!gu.isPOJO(i)){let o="Invalid validator. Received ("+typeof i+") "+i+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(o)}this.validate(i.validator,i)}return this};Ae.prototype.required=function(t,e){let r={};if(arguments.length>0&&t==null)return this.validators=this.validators.filter(function(i){return i.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(typeof t=="object"&&(r=t,e=r.message||e,t=t.isRequired),t===!1)return this.validators=this.validators.filter(function(i){return i.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;let n=this;this.isRequired=!0,this.requiredValidator=function(i){let o=this&&this.$__&&this.$__.cachedRequired;if(o!=null&&!this.$__isSelected(n.path)&&!this[tZ](n.path))return!0;if(o!=null&&n.path in o){let u=o[n.path]?n.checkRequired(i,this):!0;return delete o[n.path],u}else if(typeof t=="function")return t.apply(this)?n.checkRequired(i,this):!0;return n.checkRequired(i,this)},this.originalRequiredValue=t,typeof t=="string"&&(e=t,t=void 0);let s=e||ul.messages.general.required;return this.validators.unshift(Object.assign({},r,{validator:this.requiredValidator,message:s,type:"required"})),this};Ae.prototype.ref=function(t){return this.options.ref=t,this};Ae.prototype.getDefault=function(t,e,r){let n;if(typeof this.defaultValue=="function"?this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid"?n=this.defaultValue.call(t):n=this.defaultValue.call(t,t):n=this.defaultValue,n!=null){if(typeof n=="object"&&(!this.options||!this.options.shared)&&(n=y0(n)),r&&r.skipCast)return this._applySetters(n,t);let s=this.applySetters(n,t,e,void 0,nZ);return s&&!Array.isArray(s)&&s.$isSingleNested&&(s.$__parent=t),s}return n};Ae.prototype._applySetters=function(t,e,r,n,s){let i=t;if(r)return i;let o=this.setters;for(let u=o.length-1;u>=0;u--)i=o[u].call(e,i,n,this,s);return i};Ae.prototype._castNullish=function(e){return e};Ae.prototype.applySetters=function(t,e,r,n,s){let i=this._applySetters(t,e,r,n,s);return i==null?this._castNullish(i):(i=this.cast(i,e,r,n,s),i)};Ae.prototype.applyGetters=function(t,e){let r=t,n=this.getters,s=n.length;if(s===0)return r;for(let i=0;i<s;++i)r=n[i].call(e,r,this);return r};Ae.prototype.select=function(e){return this.selected=!!e,this};Ae.prototype.doValidate=function(t,e,r,n){let s=!1,i=this.path,o=this.validators.filter(c=>typeof c=="object"&&c!==null),u=o.length;if(!u)return e(null);for(let c=0,l=o.length;c<l&&!s;++c){let f=o[c],h=f.validator,d,p=b4(f)?Object.assign({},f):y0(f);if(p.path=n&&n.path?n.path:i,p.value=t,h instanceof RegExp){a(h.test(t),p,r);continue}if(typeof h=="function"){if(t===void 0&&h!==this.requiredValidator){a(!0,p,r);continue}try{p.propsParameter?d=h.call(r,t,p):d=h.call(r,t)}catch(m){d=!1,p.reason=m,m.message&&(p.message=m.message)}d!=null&&typeof d.then=="function"?d.then(function(m){a(m,p,r)},function(m){p.reason=m,p.message=m.message,d=!1,a(d,p,r)}):a(d,p,r)}}function a(c,l,f){if(!s)if(c===void 0||c)--u<=0&&qB(function(){e(null)});else{let h=l.ErrorConstructor||D4;s=new h(l,f),s[WB]=!0,qB(function(){e(s)})}}};function LB(t,e){if(t!==void 0&&!t){let r=e.ErrorConstructor||D4,n=new r(e);return n[WB]=!0,n}}Ae.prototype.doValidateSync=function(t,e,r){let n=this.path;if(!this.validators.length)return null;let i=this.validators;if(t===void 0)if(this.validators.length!==0&&this.validators[0].type==="required")i=[this.validators[0]];else return null;let o=null,u=0,a=i.length;for(u=0;u<a;++u){let c=i[u];if(c===null||typeof c!="object")continue;let l=c.validator,f=b4(c)?Object.assign({},c):y0(c);f.path=r&&r.path?r.path:n,f.value=t;let h=!1;if(!ZX(l)){if(l instanceof RegExp){o=LB(l.test(t),f);continue}if(typeof l=="function"){try{f.propsParameter?h=l.call(e,t,f):h=l.call(e,t)}catch(d){h=!1,f.reason=d}if(!(h!=null&&typeof h.then=="function")&&(o=LB(h,f),o))break}}}return o};Ae._isRef=function(t,e,r,n){let s=n&&t.options&&(t.options.ref||t.options.refPath);if(!s&&r&&r.$__!=null){let i=r.$__fullPath(t.path,!0),o=r.ownerDocument();s=i!=null&&o.$populated(i)||r.$populated(t.path)}return s?e==null||!Buffer.isBuffer(e)&&e._bsontype!=="Binary"&&gu.isObject(e)?!0:n:!1};Ae.prototype._castRef=function(e,r,n){if(e==null)return e;if(e.$__!=null)return e.$__.wasPopulated=e.$__.wasPopulated||!0,e;if(Buffer.isBuffer(e)||!gu.isObject(e)){if(n)return e;throw new zB(this.instance,e,this.path,null,this)}let s=r.$__fullPath(this.path,!0),o=r.ownerDocument().$populated(s,!0),u=e;return(!r.$__.populated||!r.$__.populated[s]||!r.$__.populated[s].options||!r.$__.populated[s].options.options||!r.$__.populated[s].options.options.lean)&&(u=new o.options[rZ](e),u.$__.wasPopulated=!0),u};function jB(t,e){return this.castForQuery(null,t,e)}function sZ(t,e){let r=this;return Array.isArray(t)?t.map(function(n){return r.castForQuery(null,n,e)}):[this.castForQuery(null,t,e)]}function UB(t,e){let r=this;return Array.isArray(t)?t.map(function(n){return Array.isArray(n)&&n.length===0?n:r.castForQuery(null,n,e)}):[this.castForQuery(null,t,e)]}Ae.prototype.$conditionalHandlers={$all:sZ,$eq:jB,$in:UB,$ne:jB,$nin:UB,$exists:JX,$type:XX};Ae.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t);return n.call(this,e,r)}return this.applySetters(e,r)};Ae.checkRequired=function(t){return arguments.length!==0&&(this._checkRequired=t),this._checkRequired};Ae.prototype.checkRequired=function(t){return t!=null};Ae.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,t,this.instance);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),this.defaultValue!==void 0&&(e.defaultValue=this.defaultValue),this.$immutable!==void 0&&this.options.immutable===void 0&&(e.$immutable=this.$immutable,w4(e)),this._index!==void 0&&(e._index=this._index),this.selected!==void 0&&(e.selected=this.selected),this.isRequired!==void 0&&(e.isRequired=this.isRequired),this.originalRequiredValue!==void 0&&(e.originalRequiredValue=this.originalRequiredValue),e.getters=this.getters.slice(),e.setters=this.setters.slice(),e};HB.exports=g0=Ae;g0.CastError=zB;g0.ValidatorError=D4});var KB=y((Ile,GB)=>{"use strict";var Ss=Ln(),en=class{constructor(e){Object.assign(this,e),e!=null&&e.options!=null&&(this.options=Object.assign({},e.options))}};Object.defineProperty(en.prototype,"ref",Ss);Object.defineProperty(en.prototype,"refPath",Ss);Object.defineProperty(en.prototype,"localField",Ss);Object.defineProperty(en.prototype,"foreignField",Ss);Object.defineProperty(en.prototype,"justOne",Ss);Object.defineProperty(en.prototype,"count",Ss);Object.defineProperty(en.prototype,"match",Ss);Object.defineProperty(en.prototype,"options",Ss);Object.defineProperty(en.prototype,"skip",Ss);Object.defineProperty(en.prototype,"limit",Ss);Object.defineProperty(en.prototype,"perDocumentLimit",Ss);GB.exports=en});var B4=y(($le,YB)=>{"use strict";var iZ=ie();function Oo(t,e){this.path=e,this.getters=[],this.setters=[],this.options=Object.assign({},t)}Oo.prototype._applyDefaultGetters=function(){if(this.getters.length>0||this.setters.length>0)return;let e="$"+this.path;this.getters.push(function(){return this.$locals[e]}),this.setters.push(function(r){this.$locals[e]=r})};Oo.prototype.clone=function(){let t=new Oo(this.options,this.path);return t.getters=[].concat(this.getters),t.setters=[].concat(this.setters),t};Oo.prototype.get=function(t){return this.getters.push(t),this};Oo.prototype.set=function(t){return this.setters.push(t),this};Oo.prototype.applyGetters=function(t,e){iZ.hasUserDefinedProperty(this.options,["ref","refPath"])&&e.$$populatedVirtuals&&e.$$populatedVirtuals.hasOwnProperty(this.path)&&(t=e.$$populatedVirtuals[this.path]);let r=t;for(let n of this.getters)r=n.call(e,r,this,e);return r};Oo.prototype.applySetters=function(t,e){let r=t;for(let n of this.setters)r=n.call(e,r,this,e);return r};YB.exports=Oo});var T4=y((Nle,QB)=>{"use strict";QB.exports=function(e){let r={_id:{auto:!0}};r._id[e.options.typeKey]="ObjectId",e.add(r)}});var P4=y((Rle,JB)=>{"use strict";JB.exports=function(e,r){let n=e.discriminatorMapping&&e.discriminatorMapping.value;if(n&&!("sparse"in r)){let s=e.options.discriminatorKey;r.partialFilterExpression=r.partialFilterExpression||{},r.partialFilterExpression[s]=n}return r}});var ZB=y((xle,XB)=>{"use strict";var M4=at(),oZ=mo(),uZ=P4();XB.exports=function(e){let r=[],n=new WeakMap,s=e.constructor.indexTypes,i=new Map;return o(e),r;function o(a,c,l){if(n.has(a))return;n.set(a,!0),c=c||"";let f=Object.keys(a.paths);for(let h of f){let d=a.paths[h];if(l!=null&&l.paths[h])continue;if(d.$isMongooseDocumentArray||d.$isSingleNested){if(M4(d,"options.excludeIndexes")!==!0&&M4(d,"schemaOptions.excludeIndexes")!==!0&&M4(d,"schema.options.excludeIndexes")!==!0&&o(d.schema,c+h+"."),d.schema.discriminators!=null){let m=d.schema.discriminators,g=Object.keys(m);for(let _ of g)o(m[_],c+h+".",d.schema)}if(d.$isMongooseDocumentArray)continue}let p=d._index||d.caster&&d.caster._index;if(p!==!1&&p!==null&&p!==void 0){let m={},g=oZ(p),_=g?p:{},E=typeof p=="string"?p:g?p.type:!1;if(E&&s.indexOf(E)!==-1)m[c+h]=E;else if(_.text)m[c+h]="text",delete _.text;else{let C=!1;p==="descending"||p==="desc"?C=!0:p==="ascending"||p==="asc"?C=!1:C=Number(p)===-1,m[c+h]=C?-1:1}delete _.type,"background"in _||(_.background=!0),a.options.autoIndex!=null&&(_._autoIndex=a.options.autoIndex);let A=_&&_.name;typeof A=="string"?i.has(A)?Object.assign(i.get(A),m):(r.push([m,_]),i.set(A,m)):(r.push([m,_]),i.set(A,m))}}n.delete(a),c?u(a,c):(a._indexes.forEach(function(h){let d=h[1];"background"in d||(d.background=!0),uZ(a,d)}),r=r.concat(a._indexes))}function u(a,c){let l=a._indexes,f=l.length;for(let h=0;h<f;++h){let d=l[h][0],p=l[h][1],m=Object.keys(d),g=m.length,_={};for(let A=0;A<g;++A){let C=m[A];_[c+C]=d[C]}let E=Object.assign({},p);if(p!=null&&p.partialFilterExpression!=null){E.partialFilterExpression={};let A=p.partialFilterExpression;for(let C of Object.keys(A))E.partialFilterExpression[c+C]=A[C]}r.push([_,E])}}}});var F4=y((vle,eT)=>{"use strict";eT.exports=function(e){switch(e){case"p":e="primary";break;case"pp":e="primaryPreferred";break;case"s":e="secondary";break;case"sp":e="secondaryPreferred";break;case"n":e="nearest";break}return e}});var rT=y((kle,tT)=>{"use strict";tT.exports=function(e){return!(!e.paths.id&&e.paths._id&&e.options.id)||e.aliases&&e.aliases.id||(e.virtual("id").get(aZ),e.virtual("id").set(cZ)),e};function aZ(){return this._id!=null?String(this._id):null}function cZ(t){return this._id=t,t}});var al=y((qle,nT)=>{"use strict";nT.exports=function(e){return e.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}});var I4=y((Lle,sT)=>{"use strict";sT.exports=lZ;function lZ(t,e){return t==null?null:typeof t=="boolean"?e:typeof t[e]=="boolean"?t[e]?e:null:e in t?t[e]:e}});var N4=y((jle,iT)=>{"use strict";var fZ=al(),Di=I4();iT.exports=Eu;function Eu(t,e,r){if(e==null)return;if(Object.keys(e).some(u=>u[0]==="$")){if(e.$push&&o(e.$push),e.$addToSet&&o(e.$addToSet),e.$set!=null){let u=Object.keys(e.$set);for(let a of u)$4(r,a,e.$set,t)}if(e.$setOnInsert!=null){let u=Object.keys(e.$setOnInsert);for(let a of u)$4(r,a,e.$setOnInsert,t)}}let i=Object.keys(e).filter(u=>u[0]!=="$");for(let u of i)$4(r,u,e,t);function o(u){for(let a of Object.keys(u)){let c=r.path(a.replace(/\.\$\./i,".").replace(/.\$$/,""));if(u[a]&&c&&c.$isMongooseDocumentArray&&c.schema.options.timestamps){let l=c.schema.options.timestamps,f=Di(l,"createdAt"),h=Di(l,"updatedAt");u[a].$each?u[a].$each.forEach(function(d){h!=null&&(d[h]=t),f!=null&&(d[f]=t),Eu(t,d,c.schema)}):(h!=null&&(u[a][h]=t),f!=null&&(u[a][f]=t),Eu(t,u[a],c.schema))}}}}function hZ(t,e,r){let n=e.schema.options.timestamps,s=t.length;if(!n){for(let u=0;u<s;++u)Eu(r,t[u],e.schema);return}let i=Di(n,"createdAt"),o=Di(n,"updatedAt");for(let u=0;u<s;++u)o!=null&&(t[u][o]=r),i!=null&&(t[u][i]=r),Eu(r,t[u],e.schema)}function dZ(t,e,r){let n=e.schema.options.timestamps;if(!n){Eu(r,t,e.schema);return}let s=Di(n,"createdAt"),i=Di(n,"updatedAt");i!=null&&(t[i]=r),s!=null&&(t[s]=r),Eu(r,t,e.schema)}function $4(t,e,r,n){let s=fZ(e),i=t.path(s);if(!i)return;let o=[],u=s.split(".");for(let a=u.length-1;a>0;--a){let c=t.path(u.slice(0,a).join("."));c!=null&&(c.$isMongooseDocumentArray||c.$isSingleNested)&&o.push({parentPath:e.split(".").slice(0,a).join("."),parentSchemaType:c})}if(Array.isArray(r[e])&&i.$isMongooseDocumentArray)hZ(r[e],i,n);else if(r[e]&&i.$isSingleNested)dZ(r[e],i,n);else if(o.length>0)for(let a of o){let c=a.parentPath,l=a.parentSchemaType,f=l.schema.options.timestamps,h=Di(f,"updatedAt");if(!(!f||h==null)){if(l.$isSingleNested)r[c+"."+h]=n;else if(l.$isMongooseDocumentArray){let d=e.substring(c.length+1);if(/^\d+$/.test(d)){r[c+"."+d][h]=n;continue}let p=d.indexOf(".");d=p!==-1?d.substring(0,p):d,r[c+"."+d+"."+h]=n}}}else if(i.schema!=null&&i.schema!=t&&r[e]){let a=i.schema.options.timestamps,c=Di(a,"createdAt"),l=Di(a,"updatedAt");if(!a)return;l!=null&&(r[e][l]=n),c!=null&&(r[e][c]=n)}}});var R4=y((Ule,uT)=>{"use strict";var oT=at();uT.exports=pZ;function pZ(t,e,r,n,s){let i=n,o=i,u=oT(s,"overwrite",!1),a=oT(s,"timestamps",!0);if(!a||i==null)return n;let c=a!=null&&a.createdAt===!1,l=a!=null&&a.updatedAt===!1;if(u)return n&&n.$set&&(n=n.$set,i.$set={},o=i.$set),!l&&r&&!n[r]&&(o[r]=t),!c&&e&&!n[e]&&(o[e]=t),i;if(n=n||{},Array.isArray(i))return r==null||i.push({$set:{[r]:t}}),i;if(i.$set=i.$set||{},!l&&r&&(!n.$currentDate||!n.$currentDate[r])){let f=!1;if(r.indexOf(".")!==-1){let h=r.split(".");for(let d=1;d<h.length;++d){let p=h.slice(-d).join("."),m=h.slice(0,-d).join(".");if(n[m]!=null){n[m][p]=t,f=!0;break}else if(n.$set&&n.$set[m]){n.$set[m][p]=t,f=!0;break}}}f||(i.$set[r]=t),i.hasOwnProperty(r)&&delete i[r]}if(!c&&e){n[e]&&delete n[e],n.$set&&n.$set[e]&&delete n.$set[e];let f=!1;if(e.indexOf(".")!==-1){let h=e.split(".");for(let d=1;d<h.length;++d){let p=h.slice(-d).join("."),m=h.slice(0,-d).join(".");if(n[m]!=null){n[m][p]=t,f=!0;break}else if(n.$set&&n.$set[m]){n.$set[m][p]=t,f=!0;break}}}f||(i.$setOnInsert=i.$setOnInsert||{},i.$setOnInsert[e]=t)}return Object.keys(i.$set).length===0&&delete i.$set,i}});var cT=y((Vle,aT)=>{"use strict";aT.exports=function(e,r,n,s,i){let o=r!=null&&r.updatedAt===!1,u=r!=null&&r.createdAt===!1,a=n!=null?n():e.ownerDocument().constructor.base.now();if(!u&&(e.isNew||e.$isSubdocument)&&s&&!e.$__getValue(s)&&e.$__isSelected(s)&&e.$set(s,a,void 0,{overwriteImmutable:!0}),!o&&i&&(e.isNew||e.$isModified())){let c=a;e.isNew&&s!=null&&(c=e.$__getValue(s)),e.$set(i,c)}}});var hT=y((Wle,fT)=>{"use strict";var mZ=N4(),yZ=R4(),gZ=at(),lT=I4(),EZ=cT(),_Z=hu(),AZ=new Set(["replaceOne","findOneAndReplace"]);fT.exports=function(e,r){let n=e.childSchemas.find(s);function s(f){return!!f.schema.options.timestamps}if(!r&&!n)return;let i=lT(r,"createdAt"),o=lT(r,"updatedAt"),u=r!=null&&r.hasOwnProperty("currentTime")?r.currentTime:null,a={};if(e.$timestamps={createdAt:i,updatedAt:o},i&&!e.paths[i]){let f=e.base!=null?e.base.get("timestamps.createdAt.immutable"):null,h=f??!0;a[i]={[e.options.typeKey||"type"]:Date,immutable:h}}o&&!e.paths[o]&&(a[o]=Date),e.add(a),e.pre("save",function(h){let d=gZ(this,"$__.saveOptions.timestamps");if(d===!1)return h();EZ(this,d,u,i,o),h()}),e.methods.initializeTimestamps=function(){let f=u!=null?u():this.constructor.base.now();if(i&&!this.get(i)&&this.$set(i,f),o&&!this.get(o)&&this.$set(o,f),this.$isSubdocument)return this;let h=this.$getAllSubdocs();for(let d of h)d.initializeTimestamps&&d.initializeTimestamps();return this},l[_Z.builtInMiddleware]=!0;let c={query:!0,model:!1};e.pre("findOneAndReplace",c,l),e.pre("findOneAndUpdate",c,l),e.pre("replaceOne",c,l),e.pre("update",c,l),e.pre("updateOne",c,l),e.pre("updateMany",c,l);function l(f){let h=u!=null?u():this.model.base.now();AZ.has(this.op)&&this.getUpdate()==null&&this.setUpdate({}),yZ(h,i,o,this.getUpdate(),this._mongooseOptions,this.schema),mZ(h,this.getUpdate(),this.model.schema),f()}}});var pT=y((zle,dT)=>{"use strict";var OZ=st(),CZ=require("util");dT.exports=SZ;function SZ(t,e){if(typeof t!="string"&&typeof t!="function")throw new OZ('Invalid ref at path "'+e+'". Got '+CZ.inspect(t,{depth:0}))}});var x4=y((Hle,mT)=>{"use strict";mT.exports=Object.freeze(["count","countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete","findOneAndRemove"])});var E0=y((Gle,gT)=>{"use strict";gT.exports=yT;var wZ=x4();yT.middlewareFunctions=wZ.concat(["validate"]);function yT(t,e){let r=e.schema.s.hooks.filter(n=>{let s=bZ(n);return n.name==="validate"?!!s.query:n.name==="deleteOne"||n.name==="updateOne"?!!s.query||Object.keys(s).length===0:n.query!=null||n.document!=null?!!n.query:!0});t.prototype._queryMiddleware=r}function bZ(t){let e={};return t.hasOwnProperty("query")&&(e.query=t.query),t.hasOwnProperty("document")&&(e.document=t.document),e}});var _0=y((Kle,ET)=>{"use strict";var DZ=hu(),BZ=zp();ET.exports=cl;cl.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];var TZ=new Set(cl.middlewareFunctions.flatMap(t=>[t,`$__${t}`]));function cl(t,e,r){r=r||{};let n={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},s=r.decorateDoc?t:t.prototype;t.$appliedHooks=!0;for(let a of Object.keys(e.paths)){let c=e.paths[a],l=null;if(c.$isSingleNested)l=c.caster;else if(c.$isMongooseDocumentArray)l=c.Constructor;else continue;if(!l.$appliedHooks&&(cl(l,c.schema,r),l.discriminators!=null)){let f=Object.keys(l.discriminators);for(let h of f)cl(l.discriminators[h],l.discriminators[h].schema,r)}}let i=e.s.hooks.filter(a=>a.name==="updateOne"||a.name==="deleteOne"?!!a.document:a.name==="remove"||a.name==="init"?a.document==null||!!a.document:a.query!=null||a.document!=null?a.document!==!1:!0).filter(a=>e.methods[a.name]?!a.fn[DZ.builtInMiddleware]:!0);t._middleware=i,s.$__originalValidate=s.$__originalValidate||s.$__validate;for(let a of["save","validate","remove","deleteOne"]){let c=a==="validate"?"$__originalValidate":`$__${a}`,l=i.createWrapper(a,s[c],null,n);s[`$__${a}`]=l}s.$__init=i.createWrapperSync("init",s.$__init,null,n);let o=Object.keys(e.methods),u=Object.assign({},n,{checkForPromise:!0});for(let a of o){if(TZ.has(a)||!i.hasHooks(a))continue;let c=s[a];s[a]=function(){let l=Array.prototype.slice.call(arguments),f=l.slice(-1).pop(),h=typeof f=="function"?l.slice(0,l.length-1):l;return BZ(f,d=>this[`$__${a}`].apply(this,h.concat([d])),t.events)},s[`$__${a}`]=i.createWrapper(a,c,null,u)}}});var ll=y((Yle,OT)=>{"use strict";var v4=wn().Binary,_T=ie();function tn(t,e,r){let n=t;t==null&&(n=0);let s,i,o;Array.isArray(e)?(i=e[0],o=e[1]):s=e;let u;return typeof n=="number"||n instanceof Number?u=Buffer.alloc(n):u=Buffer.from(n,s,r),_T.decorate(u,tn.mixin),u.isMongooseBuffer=!0,u[tn.pathSymbol]=i,u[AT]=o,u._subtype=0,u}var PZ=Symbol.for("mongoose#Buffer#_path"),AT=Symbol.for("mongoose#Buffer#_parent");tn.pathSymbol=PZ;tn.mixin={_subtype:void 0,_markModified:function(){let t=this[AT];return t&&t.markModified(this[tn.pathSymbol]),this},write:function(){let t=Buffer.prototype.write.apply(this,arguments);return t>0&&this._markModified(),t},copy:function(t){let e=Buffer.prototype.copy.apply(this,arguments);return t&&t.isMongooseBuffer&&t._markModified(),e}};_T.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(t){Buffer.prototype[t]&&(tn.mixin[t]=function(){let e=Buffer.prototype[t].apply(this,arguments);return this._markModified(),e})});tn.mixin.toObject=function(t){let e=typeof t=="number"?t:this._subtype||0;return new v4(Buffer.from(this),e)};tn.mixin.$toObject=tn.mixin.toObject;tn.mixin.toBSON=function(){return new v4(this,this._subtype||0)};tn.mixin.equals=function(t){if(!Buffer.isBuffer(t)||this.length!==t.length)return!1;for(let e=0;e<this.length;++e)if(this[e]!==t[e])return!1;return!0};tn.mixin.subtype=function(t){if(typeof t!="number")throw new TypeError("Invalid subtype. Expected a number");this._subtype!==t&&this._markModified(),this._subtype=t};tn.Binary=v4;OT.exports=tn});var A0=y((Qle,DT)=>{"use strict";var MZ=du(),FZ=st(),CT=gt(),IZ=ie().deepEqual,$Z=Gr(),NZ=t0(),ST=require("util"),RZ=Qa(),k4=Kr(),wT=re().populateModelSymbol;var ws=class extends Map{constructor(e,r,n,s){$Z(e)==="Object"&&(e=Object.keys(e).reduce((i,o)=>i.concat([[o,e[o]]]),[])),super(e),this.$__parent=n!=null&&n.$__!=null?n:null,this.$__path=r,this.$__schemaType=s??new MZ(r),this.$__runDeferred()}$init(e,r){bT(e),super.set(e,r),r!=null&&r.$isSingleNested&&(r.$basePath=this.$__path+"."+e)}$__set(e,r){super.set(e,r)}get(e,r){return k4(e,"ObjectId")&&(e=e.toString()),r=r||{},r.getters===!1?super.get(e):this.$__schemaType.applyGetters(super.get(e),this.$__parent)}set(e,r){if(k4(e,"ObjectId")&&(e=e.toString()),bT(e),r=NZ(r),this.$__schemaType==null){this.$__deferred=this.$__deferred||[],this.$__deferred.push({key:e,value:r});return}let n,s=this.$__parent,i=s!=null&&s.$__&&s.$__.populated?s.$populated(u.call(this),!0)||s.$populated(this.$__path,!0):null,o=this.get(e);if(i!=null){if(this.$__schemaType.$isSingleNested)throw new FZ(`Cannot manually populate single nested subdoc underneath Map at path "${this.$__path}". Try using an array instead of a Map.`);Array.isArray(r)&&this.$__schemaType.$isMongooseArray?r=r.map(a=>(a.$__==null&&(a=new i.options[wT](a)),a.$__.wasPopulated={value:a._id},a)):(r.$__==null&&(r=new i.options[wT](r)),r.$__.wasPopulated={value:r._id})}else try{let a=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested?{path:u.call(this)}:null;r=this.$__schemaType.applySetters(r,this.$__parent,!1,this.get(e),a)}catch(a){if(this.$__parent!=null&&this.$__parent.$__!=null){this.$__parent.invalidate(u.call(this),a);return}throw a}super.set(e,r),s!=null&&s.$__!=null&&!IZ(r,o)&&s.markModified(u.call(this));function u(){return n||(n=this.$__path+"."+e,n)}}clear(){super.clear();let e=this.$__parent;e?.markModified(this.$__path)}delete(e){return k4(e,"ObjectId")&&(e=e.toString()),this.set(e,void 0),super.delete(e)}toBSON(){return new Map(this)}toObject(e){if(e&&e.flattenMaps){let r={},n=this.keys();for(let s of n)r[s]=CT(this.get(s),e);return r}return new Map(this)}$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)}toJSON(e){if(typeof(e&&e.flattenMaps)!="boolean"||e.flattenMaps){let r={},n=this.keys();for(let s of n)r[s]=CT(this.get(s),e);return r}return new Map(this)}inspect(){return new Map(this)}$__runDeferred(){if(this.$__deferred){for(let e of this.$__deferred)this.set(e.key,e.value);this.$__deferred=null}}};ST.inspect.custom&&Object.defineProperty(ws.prototype,ST.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:ws.prototype.inspect});Object.defineProperty(ws.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(ws.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(ws.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(ws.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(ws.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0});Object.defineProperty(ws.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0});function bT(t){let e=typeof t;if(e!=="string")throw new TypeError(`Mongoose maps only support string keys, got ${e}`);if(t.startsWith("$"))throw new Error(`Mongoose maps do not support keys that start with "$", got "${t}"`);if(t.includes("."))throw new Error(`Mongoose maps do not support keys that contain ".", got "${t}"`);if(RZ.has(t))throw new Error(`Mongoose maps do not support reserved key name "${t}"`)}DT.exports=ws});var TT=y((Jle,BT)=>{"use strict";BT.exports=wn().UUID});var pc=y(bs=>{"use strict";bs.Array=r4();bs.Buffer=ll();bs.Document=bs.Embedded=lc();bs.DocumentArray=mu();bs.Decimal128=Dp();bs.ObjectId=Si();bs.Map=A0();bs.Subdocument=s0();bs.UUID=TT()});var MT=y((Zle,PT)=>{"use strict";var xZ=En(),mc=class extends xZ{},q4=Ln();Object.defineProperty(mc.prototype,"enum",q4);Object.defineProperty(mc.prototype,"of",q4);Object.defineProperty(mc.prototype,"castNonArrays",q4);PT.exports=mc});var IT=y((efe,FT)=>{"use strict";FT.exports=L4;function L4(t){if(!Array.isArray(t))return{min:0,max:0,containsNonArrayItem:!0};if(t.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(t.length===1&&!Array.isArray(t[0]))return{min:1,max:1,containsNonArrayItem:!1};let e=L4(t[0]);for(let r=1;r<t.length;++r){let n=L4(t[r]);n.min<e.min&&(e.min=n.min),n.max>e.max&&(e.max=n.max),e.containsNonArrayItem=e.containsNonArrayItem||n.containsNonArrayItem}return e.min=e.min+1,e.max=e.max+1,e}});var fl=y((tfe,NT)=>{"use strict";var $T=require("assert");NT.exports=function(e){if(e==null)return e;if(e==="")return null;if((typeof e=="string"||typeof e=="boolean")&&(e=Number(e)),$T.ok(!isNaN(e)),e instanceof Number)return e.valueOf();if(typeof e=="number")return e;if(!Array.isArray(e)&&typeof e.valueOf=="function")return Number(e.valueOf());if(e.toString&&!Array.isArray(e)&&e.toString()==Number(e))return Number(e);$T.ok(!1)}});var vT=y((rfe,xT)=>{"use strict";var yc=$r(),RT=yo(),O0=fl(),vZ=new Set(["$and","$or"]),kZ=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),qZ=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),LZ=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),jZ=new Set(["$arrayElemAt","$first","$last"]),UZ=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),VZ=new Set(["$not"]);xT.exports=function(e,r,n){if(typeof e!="object"||e===null)throw new Error("`$expr` must be an object");return Un(e,r,n)};function Un(t,e,r){if(hl(t)||t===null)return t;t.$cond!=null?Array.isArray(t.$cond)?t.$cond=t.$cond.map(s=>Un(s,e,r)):(t.$cond.if=Un(t.$cond.if,e,r),t.$cond.then=Un(t.$cond.then,e,r),t.$cond.else=Un(t.$cond.else,e,r)):t.$ifNull!=null?t.$ifNull.map(s=>Un(s,e,r)):t.$switch!=null&&(t.branches.map(s=>Un(s,e,r)),t.default=Un(t.default,e,r));let n=Object.keys(t);for(let s of n)vZ.has(s)?t[s]=t[s].map(i=>Un(i,e,r)):kZ.has(s)?t[s]=GZ(t[s],e,r):qZ.has(s)?t[s]=HZ(t[s],e,r):LZ.has(s)?t[s]=j4(t[s],e,r):VZ.has(s)&&(t[s]=Un(t[s],e,r));if(t.$in&&(t.$in=zZ(t.$in,e,r)),t.$size&&(t.$size=j4(t.$size,e,r)),t.$round){let s=t.$round;if(!Array.isArray(s)||s.length<1||s.length>2)throw new yc("Array",s,"$round");t.$round=s.map(i=>j4(i,e,r))}return WZ(t),t}function WZ(t){let e=Object.keys(t);for(let r=0,n=e.length;r<n;++r)t[e[r]]===void 0&&delete t[e[r]]}function j4(t){if(!C0(t))return t;try{return O0(t)}catch{throw new yc("Number",t)}}function zZ(t,e,r){let n=t[1];if(!hl(n))return t;let s=t[0],i=e.path(n.slice(1));if(i===null){if(r===!1)return t;if(r==="throw")throw new RT("$in");return}if(!i.$isMongooseArray)throw new Error("Path must be an array for $in");return[i.$isMongooseDocumentArray?i.$embeddedSchemaType.cast(s):i.caster.cast(s),n]}function HZ(t){if(!Array.isArray(t)){if(!C0(t))return t;try{return O0(t)}catch{throw new yc("Number",t)}}return t.map(e=>{if(!C0(e))return e;try{return O0(e)}catch{throw new yc("Number",e)}})}function GZ(t,e,r){if(!Array.isArray(t)||t.length!==2)throw new Error("Comparison operator must be an array of length 2");t[0]=Un(t[0],e,r);let n=t[0];if(C0(t[1])){let s=null,i=null,o=null;if(hl(n))s=n.slice(1),i=e.path(s);else if(typeof n=="object"&&n!=null)for(let a of Object.keys(n))UZ.has(a)&&hl(n[a])?(s=n[a].slice(1)+"."+a,o=O0):jZ.has(a)&&hl(n[a])&&(s=n[a].slice(1)+"."+a,i=e.path(n[a].slice(1)),i!=null&&(i.$isMongooseDocumentArray?i=i.$embeddedSchemaType:i.$isMongooseArray&&(i=i.caster)));let u=typeof t[1]=="object"&&t[1]!=null&&t[1].$literal!=null;if(i!=null)u?t[1]={$literal:i.cast(t[1].$literal)}:t[1]=i.cast(t[1]);else if(o!=null)if(u)try{t[1]={$literal:o(t[1].$literal)}}catch{throw new yc(o.name.replace(/^cast/,""),t[1],s+".$literal")}else try{t[1]=o(t[1])}catch{throw new yc(o.name.replace(/^cast/,""),t[1],s)}else{if(s!=null&&r===!0)return;if(s!=null&&r==="throw")throw new RT(s)}}else t[1]=Un(t[1]);return t}function hl(t){return typeof t=="string"&&t[0]==="$"}function C0(t){return typeof t=="string"&&t[0]==="$"?!1:typeof t=="object"&&t!==null&&Object.keys(t).find(e=>e[0]==="$")?t.$literal!=null:!0}});var U4=y((nfe,kT)=>{"use strict";var KZ=$r();kT.exports=function(e,r){if(e==null)return e;if(e._id&&typeof e._id=="string")return e._id;if(e.toString&&e.toString!==Object.prototype.toString&&!Array.isArray(e))return e.toString();throw new KZ("string",e,r)}});var UT=y((sfe,jT)=>{"use strict";var YZ=$r(),qT=Up(),LT=U4();jT.exports=function(t,e){if(t==null||typeof t!="object")throw new YZ("$text",t,e);return t.$search!=null&&(t.$search=LT(t.$search,e+".$search")),t.$language!=null&&(t.$language=LT(t.$language,e+".$language")),t.$caseSensitive!=null&&(t.$caseSensitive=qT(t.$caseSensitive,e+".$castSensitive")),t.$diacriticSensitive!=null&&(t.$diacriticSensitive=qT(t.$diacriticSensitive,e+".$diacriticSensitive")),t}});var S0=y((ife,VT)=>{"use strict";var QZ=new Set(["$ref","$id","$db"]);VT.exports=function(e){return e[0]==="$"&&!QZ.has(e)}});var gc=y((ofe,KT)=>{"use strict";var WT=$r(),V4=yo(),JZ=dl(),XZ=vT(),ZZ=UT(),eee=at(),zT=e0(),HT=S0(),tee=require("util"),z4=mo(),W4=X1(),GT=ie(),ree=["Polygon","MultiPolygon"];KT.exports=function t(e,r,n,s){if(Array.isArray(r))throw new Error("Query filter must be an object, got an array ",tee.inspect(r));if(r==null)return r;e!=null&&e.discriminators!=null&&r[e.options.discriminatorKey]!=null&&(e=zT(e,r[e.options.discriminatorKey])||e);let i=Object.keys(r),o=i.length,u,a,c,l,f,h,d;for(n=n||{};o--;)if(f=i[o],d=r[f],f==="$or"||f==="$nor"||f==="$and"){if(!Array.isArray(d))throw new WT("Array",d,f);for(let p=0;p<d.length;++p){if(d[p]==null||typeof d[p]!="object")throw new WT("Object",d[p],f+"."+p);let m=d[p][e.options.discriminatorKey];if(m==null)d[p]=t(e,d[p],n,s);else{let g=zT(s.schema,m);d[p]=t(g||e,d[p],n,s)}}}else if(f==="$where"){if(h=typeof d,h!=="string"&&h!=="function")throw new Error("Must have a string or function for $where");h==="function"&&(r[f]=d.toString());continue}else if(f==="$expr"){d=XZ(d,e);continue}else if(f==="$elemMatch")d=t(e,d,n,s);else if(f==="$text")d=ZZ(d,f);else{if(!e)continue;if(c=e.path(f),!c){let p=f.split("."),m=p.length;for(;m--;){let g=p.slice(0,m).join("."),_=p.slice(m).join("."),E=e.path(g),A=E&&E.schema&&E.schema.options&&E.schema.options.discriminatorKey;if(E!=null&&(E.schema&&E.schema.discriminators)!=null&&A!=null&&_!==A){let C=eee(r,g+"."+A),T=E.schema.discriminators;typeof C=="string"&&T[C]!=null?c=T[C].path(_):C!=null&&Object.keys(C).length===1&&Array.isArray(C.$in)&&C.$in.length===1&&typeof C.$in[0]=="string"&&T[C.$in[0]]!=null&&(c=T[C.$in[0]].path(_))}}}if(c){if(d==null)continue;if(GT.isPOJO(d))if(a=Object.keys(d).some(HT),!a)r[f]=c.castForQuery(null,d,s);else{let p=Object.keys(d),m,g=p.length;for(;g--;)if(m=p[g],l=d[m],m==="$elemMatch")l&&c!=null&&c.schema!=null?t(c.schema,l,n,s):l&&c!=null&&c.$isMongooseArray&&(GT.isPOJO(l)&&l.$not!=null?t(e,l,n,s):d[m]=c.castForQuery(m,l,s));else if(m==="$not"){if(l&&c){if(u=Object.keys(l),u.length&&HT(u[0]))for(let _ in l)l[_]=c.castForQuery(_,l[_],s);else d[m]=c.castForQuery(m,l,s);continue}}else d[m]=c.castForQuery(m,l,s)}else if(Array.isArray(d)&&["Buffer","Array"].indexOf(c.instance)===-1){let p=[],m=d;for(let g of m)p.push(c.castForQuery(null,g,s));r[f]={$in:p}}else r[f]=c.castForQuery(null,d,s)}else{let p=f.split("."),m=p.length,g,_,E;for(;m--&&(g=p.slice(0,m).join("."),c=e.path(g),!c););if(c){if(c.caster&&c.caster.schema){E={},_=p.slice(m).join("."),E[_]=d;let T=t(c.caster.schema,E,n,s)[_];T===void 0?delete r[f]:r[f]=T}else r[f]=d;continue}if(z4(d)){let T="";if(d.$near?T="$near":d.$nearSphere?T="$nearSphere":d.$within?T="$within":d.$geoIntersects?T="$geoIntersects":d.$geoWithin&&(T="$geoWithin"),T){let L=new JZ.Number("__QueryCasting__"),F=d[T];if(d.$maxDistance!=null&&(d.$maxDistance=L.castForQuery(null,d.$maxDistance,s)),d.$minDistance!=null&&(d.$minDistance=L.castForQuery(null,d.$minDistance,s)),T==="$within"){let P=F.$center||F.$centerSphere||F.$box||F.$polygon;if(!P)throw new Error("Bad $within parameter: "+JSON.stringify(d));F=P}else if(T==="$near"&&typeof F.type=="string"&&Array.isArray(F.coordinates))F=F.coordinates;else if((T==="$near"||T==="$nearSphere"||T==="$geoIntersects")&&F.$geometry&&typeof F.$geometry.type=="string"&&Array.isArray(F.$geometry.coordinates))F.$maxDistance!=null&&(F.$maxDistance=L.castForQuery(null,F.$maxDistance,s)),F.$minDistance!=null&&(F.$minDistance=L.castForQuery(null,F.$minDistance,s)),W4(F.$geometry)&&(F.$geometry=F.$geometry.toObject({transform:!1,virtuals:!1})),F=F.$geometry.coordinates;else if(T==="$geoWithin")if(F.$geometry){W4(F.$geometry)&&(F.$geometry=F.$geometry.toObject({virtuals:!1}));let P=F.$geometry.type;if(ree.indexOf(P)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+P+'", must be "Polygon" or "MultiPolygon"');F=F.$geometry.coordinates}else F=F.$box||F.$polygon||F.$center||F.$centerSphere,W4(F)&&(F=F.toObject({virtuals:!1}));H4(F,L,s);continue}}if(e.nested[f])continue;let A="strict"in n?n.strict:e.options.strict,C=nee(n,e._userProvidedOptions,e.options,s);if(n.upsert&&A)throw A==="throw"?new V4(f):new V4(f,'Path "'+f+'" is not in schema, strict mode is `true`, and upsert is `true`.');if(C==="throw")throw new V4(f,'Path "'+f+`" is not in schema and strictQuery is 'throw'.`);C&&delete r[f]}}return r};function H4(t,e,r){if(Array.isArray(t))t.forEach(function(n,s){if(Array.isArray(n)||z4(n))return H4(n,e,r);t[s]=e.castForQuery(null,n,r)});else{let n=Object.keys(t),s=n.length;for(;s--;){let i=n[s],o=t[i];Array.isArray(o)||z4(o)?(H4(o,e,r),t[i]=o):t[i]=e.castForQuery({val:o,context:r})}}}function nee(t,e,r,n){if("strictQuery"in t)return t.strictQuery;if("strictQuery"in e)return e.strictQuery;let s=n&&n.mongooseCollection&&n.mongooseCollection.conn&&n.mongooseCollection.conn.base&&n.mongooseCollection.conn.base.options;return s&&"strictQuery"in s?s.strictQuery:r.strictQuery}});var QT=y((ufe,YT)=>{"use strict";var see=En(),_u=class extends see{},w0=Ln();Object.defineProperty(_u.prototype,"min",w0);Object.defineProperty(_u.prototype,"max",w0);Object.defineProperty(_u.prototype,"enum",w0);Object.defineProperty(_u.prototype,"populate",w0);YT.exports=_u});var b0=y((afe,XT)=>{"use strict";var iee=$r();function oee(t){let e=this;return Array.isArray(t)?t.map(function(r){return JT(e.path,r)}):Buffer.isBuffer(t)?t:JT(e.path,t)}function JT(t,e){let r=Number(e);if(isNaN(r))throw new iee("number",e,t);return r}XT.exports=oee});var G4=y((cfe,eP)=>{"use strict";var T0=Ke(),uee=QT(),Bi=Ht(),aee=fl(),D0=b0(),P0=ie(),ZT=Bi.CastError;function ct(t,e){Bi.call(this,t,e,"Number")}ct.get=Bi.get;ct.set=Bi.set;ct.setters=[];ct._cast=aee;ct.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};ct._defaultCaster=t=>{if(typeof t!="number")throw new Error;return t};ct.schemaName="Number";ct.defaultOptions={};ct.prototype=Object.create(Bi.prototype);ct.prototype.constructor=ct;ct.prototype.OptionsConstructor=uee;ct._checkRequired=t=>typeof t=="number"||t instanceof Number;ct.checkRequired=Bi.checkRequired;ct.prototype.checkRequired=function(e,r){return typeof e=="object"&&Bi._isRef(this,e,r,!0)?e!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():ct.checkRequired())(e)};ct.prototype.min=function(t,e){if(this.minValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minValidator},this)),t!=null){let r=e||T0.messages.Number.min;r=r.replace(/{MIN}/,t),this.validators.push({validator:this.minValidator=function(n){return n==null||n>=t},message:r,type:"min",min:t})}return this};ct.prototype.max=function(t,e){if(this.maxValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxValidator},this)),t!=null){let r=e||T0.messages.Number.max;r=r.replace(/{MAX}/,t),this.validators.push({validator:this.maxValidator=function(n){return n==null||n<=t},message:r,type:"max",max:t})}return this};ct.prototype.enum=function(t,e){return this.enumValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.enumValidator},this)),Array.isArray(t)||(P0.isPOJO(t)&&t.values!=null?(e=t.message,t=t.values):typeof t=="number"&&(t=Array.prototype.slice.call(arguments),e=null),P0.isPOJO(t)&&(t=Object.values(t)),e=e||T0.messages.Number.enum),e=e??T0.messages.Number.enum,this.enumValidator=r=>r==null||t.indexOf(r)!==-1,this.validators.push({validator:this.enumValidator,message:e,type:"enum",enumValues:t}),this};ct.prototype.cast=function(t,e,r){if(typeof t!="number"&&Bi._isRef(this,t,e,r)&&(t==null||P0.isNonBuiltinObject(t)))return this._castRef(t,e,r);let n=t&&typeof t._id<"u"?t._id:t,s;typeof this._castFunction=="function"?s=this._castFunction:typeof this.constructor.cast=="function"?s=this.constructor.cast():s=ct.cast();try{return s(n)}catch(i){throw new ZT("Number",n,this.path,i,this)}};function B0(t){return this.cast(t)}function cee(t){let e=this;return Array.isArray(t)?t.map(function(r){return e.cast(r)}):[this.cast(t)]}ct.prototype.$conditionalHandlers=P0.options(Bi.prototype.$conditionalHandlers,{$bitsAllClear:D0,$bitsAnyClear:D0,$bitsAllSet:D0,$bitsAnySet:D0,$gt:B0,$gte:B0,$lt:B0,$lte:B0,$mod:cee});ct.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new ZT("number",e,this.path,null,this);return n.call(this,e,r)}return e=this.applySetters(e,r),e};eP.exports=ct});var pl=y(K4=>{"use strict";var lee=G4();K4.castToNumber=tP;K4.castArraysOfNumbers=rP;function tP(t){return lee.cast()(t)}function rP(t,e){t.forEach(function(r,n){Array.isArray(r)?rP(r,e):t[n]=tP.call(e,r)})}});var J4=y(M0=>{"use strict";var nP=pl().castArraysOfNumbers,ml=pl().castToNumber;M0.cast$geoIntersects=dee;M0.cast$near=fee;M0.cast$within=hee;function fee(t){let e=F0();if(Array.isArray(t))return nP(t,this),t;if(Q4(this,t),t&&t.$geometry)return Y4(t,this);if(!Array.isArray(t))throw new TypeError("$near must be either an array or an object with a $geometry property");return e.prototype.castForQuery.call(this,null,t)}function Y4(t,e){switch(t.$geometry.type){case"Polygon":case"LineString":case"Point":nP(t.$geometry.coordinates,e);break;default:break}return Q4(e,t),t}function hee(t){if(Q4(this,t),t.$box||t.$polygon){let e=t.$box?"$box":"$polygon";t[e].forEach(r=>{if(!Array.isArray(r)){let n="Invalid $within $box argument. Expected an array, received "+r;throw new TypeError(n)}r.forEach((n,s)=>{r[s]=ml.call(this,n)})})}else if(t.$center||t.$centerSphere){let e=t.$center?"$center":"$centerSphere";t[e].forEach((r,n)=>{Array.isArray(r)?r.forEach((s,i)=>{r[i]=ml.call(this,s)}):t[e][n]=ml.call(this,r)})}else t.$geometry&&Y4(t,this);return t}function dee(t){if(t.$geometry)return Y4(t,this),t}function Q4(t,e){e.$maxDistance&&(e.$maxDistance=ml.call(t,e.$maxDistance)),e.$minDistance&&(e.$minDistance=ml.call(t,e.$minDistance))}});var F0=y((hfe,iP)=>{"use strict";var pee=Vp(),mee=kE(),yee=st(),gee=MT(),Vn=Ht(),$0=Vn.CastError,N0=du(),Eee=IT(),gl=gc(),_ee=gt(),Aee=S0(),R0=require("util"),Au=ie(),Oee=pl().castToNumber,X4=J4(),Cee=As(),yl,I0,sP=Symbol("mongoose#isNestedArray"),See=Object.freeze({});function xe(t,e,r,n){I0||(I0=pc().Embedded);let s="type";if(n&&n.typeKey&&(s=n.typeKey),this.schemaOptions=n,e){let u={};Au.isPOJO(e)&&(e[s]?(u=_ee(e),delete u[s],e=e[s]):e=N0),r!=null&&r.ref!=null&&u.ref==null&&(u.ref=r.ref),e===Object&&(e=N0);let a=typeof e=="string"?e:Au.getFunctionName(e),c=dl(),l=c.hasOwnProperty(a)?c[a]:e;if(this.casterConstructor=l,this.casterConstructor instanceof xe&&(this.casterConstructor[sP]=!0),typeof l=="function"&&!l.$isArraySubdocument&&!l.$isSchemaMap){let f=this.caster instanceof I0?null:t;this.caster=new l(f,u)}else this.caster=l,this.caster instanceof I0||(this.caster.path=t);this.$embeddedSchemaType=this.caster}this.$isMongooseArray=!0,Vn.call(this,t,r,"Array");let i,o;if(this.defaultValue!=null&&(i=this.defaultValue,o=typeof i=="function"),!("defaultValue"in this)||this.defaultValue!==void 0){let u=function(){return o?i.call(this):i!=null?[].concat(i):[]};u.$runBeforeSetters=!o,this.default(u)}}xe.schemaName="Array";xe.options={castNonArrays:!0};xe.defaultOptions={};xe.set=Vn.set;xe.setters=[];xe.get=Vn.get;xe.prototype=Object.create(Vn.prototype);xe.prototype.constructor=xe;xe.prototype.OptionsConstructor=gee;xe._checkRequired=Vn.prototype.checkRequired;xe.checkRequired=Vn.checkRequired;xe.prototype.checkRequired=function(e,r){return typeof e=="object"&&Vn._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():xe.checkRequired())(e)};xe.prototype.enum=function(){let t=this;for(;;){let r=t&&t.caster&&t.caster.instance;if(r==="Array"){t=t.caster;continue}if(r!=="String"&&r!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+r);break}let e=arguments;return!Array.isArray(arguments)&&Au.isObject(arguments)&&(e=Au.object.vals(e)),t.caster.enum.apply(t.caster,e),this};xe.prototype.applyGetters=function(t,e){return e!=null&&e.$__!=null&&e.$populated(this.path)?t:Vn.prototype.applyGetters.call(this,t,e)};xe.prototype._applySetters=function(t,e,r,n){if(this.casterConstructor.$isMongooseArray&&xe.options.castNonArrays&&!this[sP]){let s=0,i=this;for(;i!=null&&i.$isMongooseArray&&!i.$isMongooseDocumentArray;)++s,i=i.casterConstructor;if(t!=null&&t.length!==0){let o=Eee(t);if(o.min===o.max&&o.max<s&&o.containsNonArrayItem)for(let u=o.max;u<s;++u)t=[t]}}return Vn.prototype._applySetters.call(this,t,e,r,n)};xe.prototype.cast=function(t,e,r,n,s){yl||(yl=pc().Array);let i,o;if(Array.isArray(t)){if(!t.length&&e){let d=e.schema.indexedPaths(),p=this.path;for(i=0,o=d.length;i<o;++i){let g=d[i][0][p];if(g==="2dsphere"||g==="2d")return}let m=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(m!=null){for(i=0,o=d.length;i<o;++i)if(d[i][0][m]==="2dsphere")return}}s=s||See;let c=Au.isMongooseArray(t)?t.__array:t,l=s.path||this.path;if(s.arrayPathIndex!=null&&(l+="."+s.arrayPathIndex),t=yl(c,l,e,this),c=t.__array,r&&e!=null&&e.$__!=null&&e.$populated(this.path))return t;let f=this.caster,h=f.$isMongooseArray;if(f&&this.casterConstructor!==N0)try{let d=c.length;for(i=0;i<d;i++){let p={};h&&(s.arrayPath!=null||f._arrayParentPath!=null)&&(p.arrayPathIndex=i),c[i]=f.applySetters(c[i],e,r,void 0,p)}}catch(d){throw new $0("["+d.kind+"]",R0.inspect(t),this.path+"."+i,d,this)}return t}let u=this.options.castNonArrays!=null?this.options.castNonArrays:xe.options.castNonArrays;if(r||u)return e&&r&&e.markModified(this.path),this.cast([t],e,r);throw new $0("Array",R0.inspect(t),this.path,null,this)};xe.prototype._castForPopulate=function(e,r){if(yl||(yl=pc().Array),Array.isArray(e)){let n,s=e.__array?e.__array:e,i=s.length,o=this.caster;if(o&&this.casterConstructor!==N0)try{for(n=0;n<i;n++){let u={};o.$isMongooseArray&&o._arrayParentPath!=null&&(u.arrayPathIndex=n),s[n]=o.cast(s[n],r,!1,void 0,u)}}catch(u){throw new $0("["+u.kind+"]",R0.inspect(e),this.path+"."+n,u,this)}return e}throw new $0("Array",R0.inspect(e),this.path,null,this)};xe.prototype.$toObject=xe.prototype.toObject;xe.prototype.discriminator=function(...t){let e=this;for(;e.$isMongooseArray&&!e.$isMongooseDocumentArray;)if(e=e.casterConstructor,e==null||typeof e=="function")throw new yee("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return e.discriminator(...t)};xe.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,this.caster,t,this.schemaOptions);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),e};xe.prototype._castForQuery=function(t,e){let r=this.casterConstructor;if(t&&r.discriminators&&r.schema&&r.schema.options&&r.schema.options.discriminatorKey)if(typeof t[r.schema.options.discriminatorKey]=="string"&&r.discriminators[t[r.schema.options.discriminatorKey]])r=r.discriminators[t[r.schema.options.discriminatorKey]];else{let a=Cee(r.discriminators,t[r.schema.options.discriminatorKey]);a&&(r=a)}let n=this.casterConstructor.prototype,s=n&&n.castForQuery,i=n&&n.cast,o=r.castForQuery,u=this.caster;return Array.isArray(t)?(this.setters.reverse().forEach(a=>{t=a.call(this,t,this)}),t=t.map(function(a){return Au.isObject(a)&&a.$elemMatch?a:s?(a=s.call(u,null,a,e),a):i?(a=i.call(u,a),a):o?(a=o.call(u,null,a,e),a):(a!=null&&(a=new r(a)),a)})):s?t=s.call(u,null,t,e):i?t=i.call(u,t):o?t=o.call(u,null,t,e):t!=null&&(t=new r(t)),t};xe.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t+" with Array.");return n.call(this,e,r)}else return this._castForQuery(e,r)};function wee(t,e){return Array.isArray(t)||(t=[t]),t=t.map(r=>{if(!Au.isObject(r))return r;if(r.$elemMatch!=null)return{$elemMatch:gl(this.casterConstructor.schema,r.$elemMatch,null,this&&this.$$context)};let n={};return n[this.path]=r,gl(this.casterConstructor.schema,n,null,this&&this.$$context)[this.path]},this),this.castForQuery(null,t,e)}function bee(t,e){let r=Object.keys(t),n=r.length;for(let o=0;o<n;++o){let u=r[o],a=t[u];Aee(u)&&a!=null&&(t[u]=this.castForQuery(u,a,e))}let s=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,i=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};return s!=null&&t[s]!=null&&i[t[s]]!=null?gl(i[t[s]],t,null,this&&this.$$context):gl(this.casterConstructor.schema,t,null,this&&this.$$context)}var rt=xe.prototype.$conditionalHandlers={};rt.$all=wee;rt.$options=String;rt.$elemMatch=bee;rt.$geoIntersects=X4.cast$geoIntersects;rt.$or=Z4("$or");rt.$and=Z4("$and");rt.$nor=Z4("$nor");function Z4(t){return function(r){if(!Array.isArray(r))throw new TypeError("conditional "+t+" requires an array");let n=[];for(let s of r)n.push(gl(this.casterConstructor.schema,s,null,this&&this.$$context));return n}}rt.$near=rt.$nearSphere=X4.cast$near;rt.$within=rt.$geoWithin=X4.cast$within;rt.$size=rt.$minDistance=rt.$maxDistance=Oee;rt.$exists=pee;rt.$type=mee;rt.$eq=rt.$gt=rt.$gte=rt.$lt=rt.$lte=rt.$not=rt.$regex=rt.$ne=xe.prototype._castForQuery;rt.$nin=Vn.prototype.$conditionalHandlers.$nin;rt.$in=Vn.prototype.$conditionalHandlers.$in;iP.exports=xe});var uP=y((dfe,oP)=>{"use strict";var Dee=$r(),Ec=Ht(),El=Up(),Bee=ie();function lt(t,e){Ec.call(this,t,e,"Boolean")}lt.schemaName="Boolean";lt.defaultOptions={};lt.prototype=Object.create(Ec.prototype);lt.prototype.constructor=lt;lt._cast=El;lt.set=Ec.set;lt.setters=[];lt.get=Ec.get;lt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};lt._defaultCaster=t=>{if(t!=null&&typeof t!="boolean")throw new Error;return t};lt._checkRequired=t=>t===!0||t===!1;lt.checkRequired=Ec.checkRequired;lt.prototype.checkRequired=function(t){return this.constructor._checkRequired(t)};Object.defineProperty(lt,"convertToTrue",{get:()=>El.convertToTrue,set:t=>{El.convertToTrue=t}});Object.defineProperty(lt,"convertToFalse",{get:()=>El.convertToFalse,set:t=>{El.convertToFalse=t}});lt.prototype.cast=function(t){let e;typeof this._castFunction=="function"?e=this._castFunction:typeof this.constructor.cast=="function"?e=this.constructor.cast():e=lt.cast();try{return e(t)}catch(r){throw new Dee("Boolean",t,this.path,r,this)}};lt.$conditionalHandlers=Bee.options(Ec.prototype.$conditionalHandlers,{});lt.prototype.castForQuery=function(t,e,r){let n;return t!=null?(n=lt.$conditionalHandlers[t],n?n.call(this,e):this.applySetters(null,e,r)):this.applySetters(e,r)};lt.prototype._castNullish=function(e){if(typeof e>"u")return e;let r=typeof this.constructor.cast=="function"?this.constructor.cast():lt.cast();return r==null?e:r.convertToFalse instanceof Set&&r.convertToFalse.has(e)?!1:r.convertToTrue instanceof Set&&r.convertToTrue.has(e)?!0:e};oP.exports=lt});var cP=y((pfe,aP)=>{"use strict";var Tee=require("assert"),{Long:Pee}=wn();aP.exports=function(e){if(e==null)return e;if(e==="")return null;if(typeof e=="bigint")return e;if(e instanceof Pee)return e.toBigInt();if(typeof e=="string"||typeof e=="number")return BigInt(e);Tee.ok(!1)}});var fP=y((mfe,lP)=>{"use strict";var Mee=$r(),_c=Ht(),Fee=cP(),Iee=ie();function Ot(t,e){_c.call(this,t,e,"BigInt")}Ot.schemaName="BigInt";Ot.defaultOptions={};Ot.prototype=Object.create(_c.prototype);Ot.prototype.constructor=Ot;Ot._cast=Fee;Ot.set=_c.set;Ot.setters=[];Ot.get=_c.get;Ot.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};Ot._checkRequired=t=>t!=null;Ot.checkRequired=_c.checkRequired;Ot.prototype.checkRequired=function(t){return this.constructor._checkRequired(t)};Ot.prototype.cast=function(t){let e;typeof this._castFunction=="function"?e=this._castFunction:typeof this.constructor.cast=="function"?e=this.constructor.cast():e=Ot.cast();try{return e(t)}catch(r){throw new Mee("BigInt",t,this.path,r,this)}};Ot.$conditionalHandlers=Iee.options(_c.prototype.$conditionalHandlers,{$gt:x0,$gte:x0,$lt:x0,$lte:x0});function x0(t,e){return this.castForQuery(null,t,e)}Ot.prototype.castForQuery=function(t,e,r){let n;return t!=null?(n=Ot.$conditionalHandlers[t],n?n.call(this,e):this.applySetters(null,e,r)):this.applySetters(e,r)};Ot.prototype._castNullish=function(e){return typeof e>"u"||(typeof this.constructor.cast=="function"?this.constructor.cast():Ot.cast())==null,e};lP.exports=Ot});var dP=y((yfe,hP)=>{"use strict";var $ee=En(),v0=class extends $ee{},Nee=Ln();Object.defineProperty(v0.prototype,"subtype",Nee);hP.exports=v0});var gP=y((gfe,yP)=>{"use strict";var Ac=ll(),Ree=dP(),Ti=Ht(),k0=b0(),mP=ie(),pP=Ac.Binary,e_=Ti.CastError;function cr(t,e){Ti.call(this,t,e,"Buffer")}cr.schemaName="Buffer";cr.defaultOptions={};cr.prototype=Object.create(Ti.prototype);cr.prototype.constructor=cr;cr.prototype.OptionsConstructor=Ree;cr._checkRequired=t=>!!(t&&t.length);cr.set=Ti.set;cr.setters=[];cr.get=Ti.get;cr.checkRequired=Ti.checkRequired;cr.prototype.checkRequired=function(t,e){return Ti._isRef(this,t,e,!0)?!!t:this.constructor._checkRequired(t)};cr.prototype.cast=function(t,e,r){let n;if(Ti._isRef(this,t,e,r)){if(t&&t.isMongooseBuffer)return t;if(Buffer.isBuffer(t))return(!t||!t.isMongooseBuffer)&&(t=new Ac(t,[this.path,e]),this.options.subtype!=null&&(t._subtype=this.options.subtype)),t;if(t instanceof pP){if(n=new Ac(t.value(!0),[this.path,e]),typeof t.sub_type!="number")throw new e_("Buffer",t,this.path,null,this);return n._subtype=t.sub_type,n}if(t==null||mP.isNonBuiltinObject(t))return this._castRef(t,e,r)}if(t&&t._id&&(t=t._id),t&&t.isMongooseBuffer)return t;if(Buffer.isBuffer(t))return(!t||!t.isMongooseBuffer)&&(t=new Ac(t,[this.path,e]),this.options.subtype!=null&&(t._subtype=this.options.subtype)),t;if(t instanceof pP){if(n=new Ac(t.value(!0),[this.path,e]),typeof t.sub_type!="number")throw new e_("Buffer",t,this.path,null,this);return n._subtype=t.sub_type,n}if(t===null)return t;let s=typeof t;if(s==="string"||s==="number"||Array.isArray(t)||s==="object"&&t.type==="Buffer"&&Array.isArray(t.data))return s==="number"&&(t=[t]),n=new Ac(t,[this.path,e]),this.options.subtype!=null&&(n._subtype=this.options.subtype),n;throw new e_("Buffer",t,this.path,null,this)};cr.prototype.subtype=function(t){return this.options.subtype=t,this};function q0(t,e){return this.castForQuery(null,t,e)}cr.prototype.$conditionalHandlers=mP.options(Ti.prototype.$conditionalHandlers,{$bitsAllClear:k0,$bitsAnyClear:k0,$bitsAllSet:k0,$bitsAnySet:k0,$gt:q0,$gte:q0,$lt:q0,$lte:q0});cr.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t+" with Buffer.");return n.call(this,e)}let s=this.applySetters(e,r);return s&&s.toObject({transform:!1,virtuals:!1})};yP.exports=cr});var _P=y((Efe,EP)=>{"use strict";var xee=En(),Oc=class extends xee{},t_=Ln();Object.defineProperty(Oc.prototype,"min",t_);Object.defineProperty(Oc.prototype,"max",t_);Object.defineProperty(Oc.prototype,"expires",t_);EP.exports=Oc});var OP=y((_fe,AP)=>{"use strict";var r_=require("assert");AP.exports=function(e){if(e==null||e==="")return null;if(e instanceof Date)return r_.ok(!isNaN(e.valueOf())),e;let r;if(r_.ok(typeof e!="boolean"),e instanceof Number||typeof e=="number"?r=new Date(e):typeof e=="string"&&!isNaN(Number(e))&&(Number(e)>=275761||Number(e)<-271820)?r=new Date(Number(e)):typeof e.valueOf=="function"?r=new Date(e.valueOf()):r=new Date(e),!isNaN(r.valueOf()))return r;r_.ok(!1)}});var bP=y((Afe,wP)=>{"use strict";var CP=Ke(),vee=_P(),Co=Ht(),kee=OP(),qee=Gr(),SP=ie(),Lee=Co.CastError;function ft(t,e){Co.call(this,t,e,"Date")}ft.schemaName="Date";ft.defaultOptions={};ft.prototype=Object.create(Co.prototype);ft.prototype.constructor=ft;ft.prototype.OptionsConstructor=vee;ft._cast=kee;ft.set=Co.set;ft.setters=[];ft.get=Co.get;ft.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};ft._defaultCaster=t=>{if(t!=null&&!(t instanceof Date))throw new Error;return t};ft.prototype.expires=function(t){return qee(this._index)!=="Object"&&(this._index={}),this._index.expires=t,SP.expires(this._index),this};ft._checkRequired=t=>t instanceof Date;ft.checkRequired=Co.checkRequired;ft.prototype.checkRequired=function(t,e){return typeof t=="object"&&Co._isRef(this,t,e,!0)?t!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():ft.checkRequired())(t)};ft.prototype.min=function(t,e){if(this.minValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minValidator},this)),t){let r=e||CP.messages.Date.min;typeof r=="string"&&(r=r.replace(/{MIN}/,t===Date.now?"Date.now()":t.toString()));let n=this;this.validators.push({validator:this.minValidator=function(s){let i=t;typeof t=="function"&&t!==Date.now&&(i=i.call(this));let o=i===Date.now?i():n.cast(i);return s===null||s.valueOf()>=o.valueOf()},message:r,type:"min",min:t})}return this};ft.prototype.max=function(t,e){if(this.maxValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxValidator},this)),t){let r=e||CP.messages.Date.max;typeof r=="string"&&(r=r.replace(/{MAX}/,t===Date.now?"Date.now()":t.toString()));let n=this;this.validators.push({validator:this.maxValidator=function(s){let i=t;typeof i=="function"&&i!==Date.now&&(i=i.call(this));let o=i===Date.now?i():n.cast(i);return s===null||s.valueOf()<=o.valueOf()},message:r,type:"max",max:t})}return this};ft.prototype.cast=function(t){let e;typeof this._castFunction=="function"?e=this._castFunction:typeof this.constructor.cast=="function"?e=this.constructor.cast():e=ft.cast();try{return e(t)}catch(r){throw new Lee("date",t,this.path,r,this)}};function L0(t){return this.cast(t)}ft.prototype.$conditionalHandlers=SP.options(Co.prototype.$conditionalHandlers,{$gt:L0,$gte:L0,$lt:L0,$lte:L0});ft.prototype.castForQuery=function(t,e,r){if(t==null)return this.applySetters(e,r);let n=this.$conditionalHandlers[t];if(!n)throw new Error("Can't use "+t+" with Date.");return n.call(this,e)};wP.exports=ft});var BP=y((Ofe,DP)=>{"use strict";var Ou=Dp(),jee=require("assert");DP.exports=function(e){if(e==null)return e;if(typeof e=="object"&&typeof e.$numberDecimal=="string")return Ou.fromString(e.$numberDecimal);if(e instanceof Ou)return e;if(typeof e=="string")return Ou.fromString(e);if(typeof Buffer=="function"&&Buffer.isBuffer(e))return new Ou(e);if(typeof Uint8Array=="function"&&e instanceof Uint8Array)return new Ou(e);if(typeof e=="number")return Ou.fromString(String(e));if(typeof e.valueOf=="function"&&typeof e.valueOf()=="string")return Ou.fromString(e.valueOf());jee.ok(!1)}});var PP=y((Cfe,TP)=>{"use strict";var Pi=Ht(),Uee=Pi.CastError,Vee=BP(),Wee=ie(),n_=Kr();function xt(t,e){Pi.call(this,t,e,"Decimal128")}xt.schemaName="Decimal128";xt.defaultOptions={};xt.prototype=Object.create(Pi.prototype);xt.prototype.constructor=xt;xt._cast=Vee;xt.set=Pi.set;xt.setters=[];xt.get=Pi.get;xt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};xt._defaultCaster=t=>{if(t!=null&&!n_(t,"Decimal128"))throw new Error;return t};xt._checkRequired=t=>n_(t,"Decimal128");xt.checkRequired=Pi.checkRequired;xt.prototype.checkRequired=function(e,r){return Pi._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():xt.checkRequired())(e)};xt.prototype.cast=function(t,e,r){if(Pi._isRef(this,t,e,r))return n_(t,"Decimal128")?t:this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=xt.cast();try{return n(t)}catch(s){throw new Uee("Decimal128",t,this.path,s,this)}};function j0(t){return this.cast(t)}xt.prototype.$conditionalHandlers=Wee.options(Pi.prototype.$conditionalHandlers,{$gt:j0,$gte:j0,$lt:j0,$lte:j0});TP.exports=xt});var FP=y((Sfe,MP)=>{"use strict";var zee=En(),U0=class extends zee{},Hee=Ln();Object.defineProperty(U0.prototype,"_id",Hee);MP.exports=U0});var V0=y((wfe,IP)=>{"use strict";IP.exports=function(e,r,n){if(e.length===0)return n();let s=e.length,i=null;for(let o of e)r(o,function(u){if(i==null){if(u!=null)return i=u,n(i);if(--s<=0)return n()}})}});var NP=y((bfe,$P)=>{"use strict";var Gee=V0();$P.exports=function(e){e.s.hooks.pre("deleteOne",{document:!0,query:!1},function(s){if(this.$isSubdocument){s();return}if(this.$__==null){s();return}let i=this,o=this.$getAllSubdocs();Gee(o,function(u,a){u.$__deleteOne(a)},function(u){if(u)return i.$__schema.s.hooks.execPost("deleteOne:error",i,[i],{error:u},function(a){s(a)});s()})},null,!0)}});var vP=y((Dfe,xP)=>{"use strict";var RP=V0();xP.exports=function(e){e.s.hooks.pre("save",!1,function(s){if(this.$isSubdocument){s();return}let i=this,o=this.$getAllSubdocs();if(!o.length){s();return}RP(o,function(u,a){u.$__schema.s.hooks.execPre("save",u,function(c){a(c)})},function(u){if(u)return i.$__schema.s.hooks.execPost("save:error",i,[i],{error:u},function(a){s(a)});s()})},null,!0),e.s.hooks.post("save",function(s,i){if(this.$isSubdocument){i();return}let o=this,u=this.$getAllSubdocs();if(!u.length){i();return}RP(u,function(a,c){a.$__schema.s.hooks.execPost("save",a,[a],function(l){c(l)})},function(a){if(a)return o.$__schema.s.hooks.execPost("save:error",o,[o],{error:a},function(c){i(c)});i()})},null,!0)}});var LP=y((Bfe,i_)=>{"use strict";var Kee=re().objectIdSymbol,kP=ie();i_.exports=function(e){e.post("init",function(){return s_.call(this),this}),e.pre("save",function(n){qP.call(this),n()}),e.pre("remove",function(n){qP.call(this),n()}),e.post("save",function(){s_.call(this)})};function qP(){let t,e;if(this.$__.shardval){t=Object.keys(this.$__.shardval),e=t.length,this.$where=this.$where||{};for(let r=0;r<e;++r)this.$where[t[r]]=this.$__.shardval[t[r]]}}i_.exports.storeShard=s_;function s_(){let t=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(!kP.isPOJO(t))return;let e=this.$__.shardval={},r=Object.keys(t),n=r.length,s;for(let i=0;i<n;++i)s=this.$__getValue(r[i]),s==null?e[r[i]]=s:kP.isMongooseObject(s)?e[r[i]]=s.toObject({depopulate:!0,_isNested:!0}):s instanceof Date||s[Kee]?e[r[i]]=s:typeof s.valueOf=="function"?e[r[i]]=s.valueOf():e[r[i]]=s}});var WP=y((Tfe,VP)=>{"use strict";var Cc=re().arrayAtomicsSymbol,W0=re().sessionNewDocuments,Yee=ie();VP.exports=function(e){e.pre("save",function(){let n=this.$session();if(n!=null&&!(n.transaction==null||n[W0]==null))if(n[W0].has(this)){let s=n[W0].get(this);for(let i of Object.keys(this.$__.activePaths.getStatePaths("modify")))s.modifiedPaths.add(i);s.atomics=jP(this,s.atomics)}else{let s={};this.isNew&&(s.isNew=!0),this.$__schema.options.versionKey&&(s.versionKey=this.get(this.$__schema.options.versionKey)),s.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),s.atomics=jP(this),n[W0].set(this,s)}})};function jP(t,e){let r=new Map;e=e||new Map;let n=Object.keys(t.$__.activePaths.init).concat(Object.keys(t.$__.activePaths.modify));for(let i of n){let o=t.$__getValue(i);if(o!=null&&Array.isArray(o)&&Yee.isMongooseDocumentArray(o)&&o.length&&o[Cc]!=null&&Object.keys(o[Cc]).length!==0){let u=e.get(i)||{};r.set(i,UP(u,o[Cc]))}}let s=t.$__dirty();for(let i of s){let o=i.path,u=i.value;if(u!=null&&u[Cc]!=null&&Object.keys(u[Cc]).length!==0){let a=e.get(o)||{};r.set(o,UP(a,u[Cc]))}}return r}function UP(t,e){return t=t||{},e.$pullAll!=null&&(t.$pullAll=(t.$pullAll||[]).concat(e.$pullAll)),e.$push!=null&&(t.$push=t.$push||{},t.$push.$each=(t.$push.$each||[]).concat(e.$push.$each)),e.$addToSet!=null&&(t.$addToSet=(t.$addToSet||[]).concat(e.$addToSet)),e.$set!=null&&(t.$set=Object.assign(t.$set||{},e.$set)),t}});var HP=y((Pfe,zP)=>{"use strict";zP.exports=function(e){e.pre("save",!1,function(s,i){let o=this;if(this.$isSubdocument)return s();let u=i&&typeof i=="object"&&"validateBeforeSave"in i,a;if(u?a=!!i.validateBeforeSave:a=this.$__schema.options.validateBeforeSave,a){let l=i&&typeof i=="object"&&"validateModifiedOnly"in i?{validateModifiedOnly:i.validateModifiedOnly}:null;this.$validate(l).then(()=>{this.$op="save",s()},f=>{o.$__schema.s.hooks.execPost("save:error",o,[o],{error:f},function(h){o.$op="save",s(h)})})}else s()},null,!0)}});var o_=y(Sc=>{"use strict";Sc.removeSubdocs=NP();Sc.saveSubdocs=vP();Sc.sharding=LP();Sc.trackTransaction=WP();Sc.validateBeforeSave=HP()});var YP=y((Ffe,KP)=>{"use strict";var GP=o_();KP.exports=function(e){for(let r of Object.values(GP))r(e,{deduplicate:!0});e.plugins=Object.values(GP).map(r=>({fn:r,opts:{deduplicate:!0}})).concat(e.plugins)}});var XP=y((Ife,JP)=>{"use strict";var Qee=Hp(),Jee=Qa(),Xee=Kr(),Zee=Si(),QP=mo();JP.exports=function t(e,r,n,s){let i=Object.keys(r),o=0,u=i.length,a;if(n=n||"",s=s||new WeakSet,!s.has(r)){for(s.add(r);o<u;)if(a=i[o++],!(!n&&(a==="discriminators"||a==="base"||a==="_applyDiscriminators"||a==="_userProvidedOptions"||a==="options"))&&!(n==="tree"&&r!=null&&r.instanceOfSchema)&&!Jee.has(a)){if(e[a]==null)e[a]=r[a];else if(QP(r[a])){if(QP(e[a])||(e[a]={}),r[a]!=null){if(r[a].$isSingleNested&&e[a].$isMongooseDocumentArray||r[a].$isMongooseDocumentArray&&e[a].$isSingleNested||r[a].$isMongooseDocumentArrayElement&&e[a].$isMongooseDocumentArrayElement)continue;if(r[a].instanceOfSchema){e[a].instanceOfSchema?Qee(e[a],r[a].clone(),!0):e[a]=r[a].clone();continue}else if(Xee(r[a],"ObjectId")){e[a]=new Zee(r[a]);continue}}t(e[a],r[a],n?n+"."+a:a,s)}}}}});var z0=y(($fe,tM)=>{"use strict";var ZP=du(),ete=YP(),tte=gt(),rte=Zp().defineKey,nte=at(),u_=ie(),ste=XP(),eM={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};tM.exports=function(e,r,n,s,i,o){if(!(n&&n.instanceOfSchema))throw new Error("You must pass a valid discriminator Schema");if(o=o??!0,e.schema.discriminatorMapping&&!e.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+r+'" can only be a discriminator of the root model');if(i){let f=nte(e.base,"options.applyPluginsToDiscriminators",!1)||!o;e.base._applyPlugins(n,{skipTopLevel:!f})}else o||ete(n);let u=e.schema.options.discriminatorKey,a=e.schema.path(u);if(a!=null)u_.hasUserDefinedProperty(a.options,"select")||(a.options.select=!0),a.options.$skipDiscriminatorCheck=!0;else{let f={};f[u]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},f[u][e.schema.options.typeKey]=String,e.schema.add(f),rte({prop:u,prototype:e.prototype,options:e.schema.options})}if(n.path(u)&&n.path(u).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+r+'" cannot have field with name "'+u+'"');let c=r;(typeof s=="string"&&s.length||s!=null)&&(c=s);function l(f,h){f._baseSchema=h,h.paths._id&&h.paths._id.options&&!h.paths._id.options.auto&&f.remove("_id");let d=Object.keys(h.paths),p=[];for(let L of d){if(f.nested[L]){p.push(L);continue}if(L.indexOf(".")===-1)continue;let F=L.split(".").slice(0,-1),P="";for(let V of F)P+=(P.length?".":"")+V,(f.paths[P]instanceof ZP||f.singleNestedPaths[P]instanceof ZP)&&p.push(L)}ste(f,h);for(let L of p)delete f.paths[L];f.childSchemas.forEach(L=>{L.model.prototype.$__setSchema(L.schema)});let m={};m[u]={default:c,select:!0,set:function(L){if(L===c||Array.isArray(c)&&u_.deepEqual(L,c))return c;throw new Error(`Can't set discriminator key "`+u+'"')},$skipDiscriminatorCheck:!0},m[u][f.options.typeKey]=a?a.options[f.options.typeKey]:String,f.add(m),f.discriminatorMapping={key:u,value:c,isRoot:!1},h.options.collection&&(f.options.collection=h.options.collection);let g=f.options.toJSON,_=f.options.toObject,E=f.options._id,A=f.options.id,C=Object.keys(f.options);f.options.discriminatorKey=h.options.discriminatorKey;let T=f._userProvidedOptions;for(let L of C)if(!eM[L]&&L in T&&!u_.deepEqual(f.options[L],h.options[L]))throw new Error("Can't customize discriminator option "+L+" (can only modify "+Object.keys(eM).join(", ")+")");f.options=tte(h.options);for(let L of Object.keys(T))f.options[L]=T[L];g&&(f.options.toJSON=g),_&&(f.options.toObject=_),typeof E<"u"&&(f.options._id=E),f.options.id=A,o&&(f.s.hooks=e.schema.s.hooks.merge(f.s.hooks)),i&&(f.plugins=Array.prototype.slice.call(h.plugins)),f.callQueue=h.callQueue.concat(f.callQueue),delete f._requiredpaths}if(l(n,e.schema),e.discriminators||(e.discriminators={}),e.schema.discriminatorMapping||(e.schema.discriminatorMapping={key:u,value:null,isRoot:!0}),e.schema.discriminators||(e.schema.discriminators={}),e.schema.discriminators[r]=n,e.discriminators[r]&&!n.options.overwriteModels)throw new Error('Discriminator with name "'+r+'" already exists');return n}});var H0=y((Nfe,rM)=>{"use strict";var ite=As();rM.exports=function(e,r,n){let s=e.schema.options.discriminatorKey,i=r!=null&&r[s];if(i==null&&(i=n),e.discriminators&&i!=null)if(e.discriminators[i])e=e.discriminators[i];else{let o=ite(e.discriminators,i);o&&(e=o)}return e}});var a_=y((Rfe,nM)=>{"use strict";var ote=T4();nM.exports=function(e,r){return r==null||r._id==null||(e=e.clone(),r._id?e.paths._id||(ote(e),e.options._id=!0):(e.remove("_id"),e.options._id=!1)),e}});var c_=y((xfe,sM)=>{"use strict";var ute=Ke(),G0=class extends ute{constructor(e,r){let n=`Cannot create use schema for property "${e}" because the schema has the ${r} option enabled.`;super(n)}};Object.defineProperty(G0.prototype,"name",{value:"InvalidSchemaOptionError"});sM.exports=G0});var d_=y((vfe,aM)=>{"use strict";var iM=$r(),l_=require("events").EventEmitter,ate=jE(),cte=FP(),wc=Ht(),lte=Jp(),fte=Vp(),oM=pl().castToNumber,hte=z0(),f_=J4(),h_=H0(),dte=a_(),pte=Gs().internalToObjectOptions,mte=ac(),yte=ie(),gte=c_(),K0;aM.exports=Xe;function Xe(t,e,r){if(t.options.timeseries)throw new gte(e,"timeseries");let n=Xe.defaultOptions&&Xe.defaultOptions._id;if(n!=null&&(r=r||{},r._id=n),t=dte(t,r),this.caster=uM(t),this.caster.path=e,this.caster.prototype.$basePath=e,this.schema=t,this.$isSingleNested=!0,this.base=t.base,wc.call(this,e,r,"Embedded"),t._applyDiscriminators!=null)for(let s of t._applyDiscriminators.keys())this.discriminator(s,t._applyDiscriminators.get(s))}Xe.prototype=Object.create(wc.prototype);Xe.prototype.constructor=Xe;Xe.prototype.OptionsConstructor=cte;function uM(t,e){K0||(K0=s0());let r=function(i,o,u){this.$__parent=u,K0.apply(this,arguments),u!=null&&this.$session(u.$session())};t._preCompile();let n=e!=null?e.prototype:K0.prototype;r.prototype=Object.create(n),r.prototype.$__setSchema(t),r.prototype.constructor=r,r.base=t.base,r.schema=t,r.$isSingleNested=!0,r.events=new l_,r.prototype.toBSON=function(){return this.toObject(pte)};for(let s in t.methods)r.prototype[s]=t.methods[s];for(let s in t.statics)r[s]=t.statics[s];for(let s in l_.prototype)r[s]=l_.prototype[s];return r}Xe.prototype.$conditionalHandlers.$geoWithin=function(e,r){return{$geometry:this.castForQuery(null,e.$geometry,r)}};Xe.prototype.$conditionalHandlers.$near=Xe.prototype.$conditionalHandlers.$nearSphere=f_.cast$near;Xe.prototype.$conditionalHandlers.$within=Xe.prototype.$conditionalHandlers.$geoWithin=f_.cast$within;Xe.prototype.$conditionalHandlers.$geoIntersects=f_.cast$geoIntersects;Xe.prototype.$conditionalHandlers.$minDistance=oM;Xe.prototype.$conditionalHandlers.$maxDistance=oM;Xe.prototype.$conditionalHandlers.$exists=fte;Xe.prototype.cast=function(t,e,r,n,s){if(t&&t.$isSingleNested&&t.parent===e)return t;if(t!=null&&(typeof t!="object"||Array.isArray(t)))throw new ate(this.path,t);let i=this.schema.path(this.schema.options.discriminatorKey),o=i==null?null:i.getDefault(e),u=h_(this.caster,t,o),a,c=e&&e.$__&&e.$__.selected,l=this.path,f=c==null?null:Object.keys(c).reduce((h,d)=>(d.startsWith(l+".")&&(h=h||{},h[d.substring(l.length+1)]=c[d]),h),null);if(r){a=new u(void 0,f,e,!1,{defaults:!1}),delete a.$__.defaults,a.$init(t);let h=mte(f);lte(a,f,h)}else return s=Object.assign({},s,{priorDoc:n}),Object.keys(t).length===0?new u({},f,e,void 0,s):new u(t,f,e,void 0,s);return a};Xe.prototype.castForQuery=function(t,e,r,n){let s;if(t!=null){if(s=this.$conditionalHandlers[t],!s)throw new Error("Can't use "+t);return s.call(this,e)}if(e==null)return e;let i=h_(this.caster,e);if(e instanceof i)return e;this.options.runSetters&&(e=this._applySetters(e,r));let o=n!=null&&n.strict!=null?n.strict:void 0;try{e=new i(e,o)}catch(u){throw u instanceof iM?u:new iM("Embedded",e,this.path,u,this)}return e};Xe.prototype.doValidate=function(t,e,r,n){let s=h_(this.caster,t);if(t&&!(t instanceof s)&&(t=new s(t,null,r!=null&&r.$__!=null?r:null)),n&&n.skipSchemaValidators)return t?t.validate().then(()=>e(null),i=>e(i)):e(null);wc.prototype.doValidate.call(this,t,function(i){if(i)return e(i);if(!t)return e(null);t.validate().then(()=>e(null),o=>e(o))},r,n)};Xe.prototype.doValidateSync=function(t,e,r){if(!r||!r.skipSchemaValidators){let n=wc.prototype.doValidateSync.call(this,t,e);if(n)return n}if(t)return t.validateSync()};Xe.prototype.discriminator=function(t,e,r){r=r||{};let n=yte.isPOJO(r)?r.value:r,s=typeof r.clone=="boolean"?r.clone:!0;return e.instanceOfSchema&&s&&(e=e.clone()),e=hte(this.caster,t,e,n),this.caster.discriminators[t]=uM(e,this.caster),this.caster.discriminators[t]};Xe.defaultOptions={};Xe.set=wc.set;Xe.setters=[];Xe.get=wc.get;Xe.prototype.toJSON=function(){return{path:this.path,options:this.options}};Xe.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.schema,this.path,t);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),e.caster.discriminators=Object.assign({},this.caster.discriminators),e}});var lM=y((kfe,cM)=>{"use strict";var Ete=st(),p_=Ht(),_te=d_(),Ate=H0();function Mi(t,e){if(this.$parentSchemaType=e&&e.$parentSchemaType,!this.$parentSchemaType)throw new Ete("Cannot create DocumentArrayElement schematype without a parent");delete e.$parentSchemaType,p_.call(this,t,e,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0}Mi.schemaName="DocumentArrayElement";Mi.defaultOptions={};Mi.prototype=Object.create(p_.prototype);Mi.prototype.constructor=Mi;Mi.prototype.cast=function(...t){return this.$parentSchemaType.cast(...t)[0]};Mi.prototype.doValidate=function(t,e,r,n){let s=Ate(this.caster,t);return t&&!(t instanceof s)&&(t=new s(t,r,null,null,n&&n.index!=null?n.index:null)),_te.prototype.doValidate.call(this,t,e,r,n)};Mi.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;let t=p_.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,t.caster=this.caster,t.schema=this.schema,t};cM.exports=Mi});var dM=y((qfe,hM)=>{"use strict";var Ote=En(),_l=class extends Ote{},fM=Ln();Object.defineProperty(_l.prototype,"excludeIndexes",fM);Object.defineProperty(_l.prototype,"_id",fM);hM.exports=_l});var OM=y((Lfe,AM)=>{"use strict";var EM=F0(),pM=$r(),Cte=lM(),m_=require("events").EventEmitter,Ste=dM(),Al=Ht(),wte=z0(),mM=a_(),bte=t0(),bc=ie(),Y0=H0(),Dte=c_(),yM=re().arrayAtomicsSymbol,y_=re().arrayPathSymbol,Bte=re().documentArrayParent,Fi,Cu;function Ct(t,e,r,n){if(e.options&&e.options.timeseries)throw new Dte(t,"timeseries");let s=Ct.defaultOptions&&Ct.defaultOptions._id;s!=null&&(n=n||{},n._id=s),n!=null&&n._id!=null?e=mM(e,n):r!=null&&r._id!=null&&(e=mM(e,r));let i=_M(e,r);i.prototype.$basePath=t,EM.call(this,t,i,r),this.schema=e,this.schemaOptions=n||{},this.$isMongooseDocumentArray=!0,this.Constructor=i,i.base=e.base;let o=this.defaultValue;(!("defaultValue"in this)||o!==void 0)&&this.default(function(){let a=o.call(this);return a!=null&&!Array.isArray(a)&&(a=[a]),a});let u=this;if(this.$embeddedSchemaType=new Cte(t+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:u}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema,e._applyDiscriminators!=null)for(let a of e._applyDiscriminators.keys())this.discriminator(a,e._applyDiscriminators.get(a))}Ct.schemaName="DocumentArray";Ct.options={castNonArrays:!0};Ct.prototype=Object.create(EM.prototype);Ct.prototype.constructor=Ct;Ct.prototype.OptionsConstructor=Ste;function _M(t,e,r){Cu||(Cu=lc());function n(){Cu.apply(this,arguments),!(this.__parentArray==null||this.__parentArray.getArrayParent()==null)&&this.$session(this.__parentArray.getArrayParent().$session())}t._preCompile();let s=r!=null?r.prototype:Cu.prototype;n.prototype=Object.create(s),n.prototype.$__setSchema(t),n.schema=t,n.prototype.constructor=n,n.$isArraySubdocument=!0,n.events=new m_,n.base=t.base;for(let i in t.methods)n.prototype[i]=t.methods[i];for(let i in t.statics)n[i]=t.statics[i];for(let i in m_.prototype)n[i]=m_.prototype[i];return n.options=e,n}Ct.prototype.discriminator=function(t,e,r){typeof t=="function"&&(t=bc.getFunctionName(t)),r=r||{};let n=bc.isPOJO(r)?r.value:r,s=typeof r.clone=="boolean"?r.clone:!0;e.instanceOfSchema&&s&&(e=e.clone()),e=wte(this.casterConstructor,t,e,n);let i=_M(e,null,this.casterConstructor);i.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(i,"name",{value:t})}catch{}return this.casterConstructor.discriminators[t]=i,this.casterConstructor.discriminators[t]};Ct.prototype.doValidate=function(t,e,r,n){Fi||(Fi=mu());let s=this;try{Al.prototype.doValidate.call(this,t,i,r)}catch(o){return e(o)}function i(o){if(o)return e(o);let u=t&&t.length,a;if(!u||n&&n.updateValidator)return e();bc.isMongooseDocumentArray(t)||(t=new Fi(t,s.path,r));function c(l){l!=null&&(a=l),--u||e(a)}for(let l=0,f=u;l<f;++l){let h=t[l];if(h==null){--u||e(a);continue}if(!(h instanceof Cu)){let d=Y0(s.casterConstructor,t[l]);h=t[l]=new d(h,t,void 0,void 0,l)}if(n!=null&&n.validateModifiedOnly&&!h.$isModified()){--u||e(a);continue}h.$__validate(c)}}};Ct.prototype.doValidateSync=function(t,e,r){let n=Al.prototype.doValidateSync.call(this,t,e);if(n!=null)return n;let s=t&&t.length,i=null;if(s){for(let o=0,u=s;o<u;++o){let a=t[o];if(!a)continue;if(!(a instanceof Cu)){let l=Y0(this.casterConstructor,t[o]);a=t[o]=new l(a,t,void 0,void 0,o)}if(r!=null&&r.validateModifiedOnly&&!a.$isModified())continue;let c=a.validateSync();c&&i==null&&(i=c)}return i}};Ct.prototype.getDefault=function(t,e,r){let n=typeof this.defaultValue=="function"?this.defaultValue.call(t):this.defaultValue;if(n==null||r&&r.skipCast)return n;Fi||(Fi=mu()),Array.isArray(n)||(n=[n]),n=new Fi(n,this.path,t);for(let s=0;s<n.length;++s){let i=Y0(this.casterConstructor,n[s]),o=new i({},n,void 0,void 0,s);o.$init(n[s]),o.isNew=!0,Object.assign(o.$__.activePaths.default,o.$__.activePaths.init),o.$__.activePaths.init={},n[s]=o}return n};var Tte=Object.freeze({transform:!1,virtuals:!1}),gM=Object.freeze({skipId:!1,willInit:!0});Ct.prototype.cast=function(t,e,r,n,s){if(Fi||(Fi=mu()),t!=null&&t[y_]!=null&&t===n)return t;let i,o;s=s||{};let u=s.path||this.path;if(!Array.isArray(t)){if(!r&&!Ct.options.castNonArrays)throw new pM("DocumentArray",t,this.path,null,this);return e&&r&&e.markModified(u),this.cast([t],e,r,n,s)}(!s.skipDocumentArrayCast||bc.isMongooseDocumentArray(t))&&(t=new Fi(t,u,e)),n!=null&&(t[yM]=n[yM]||{}),s.arrayPathIndex!=null&&(t[y_]=u+"."+s.arrayPathIndex);let a=bc.isMongooseDocumentArray(t)?t.__array:t,c=a.length;for(let l=0;l<c;++l){if(!a[l])continue;let f=Y0(this.casterConstructor,a[l]);if(a[l].$__!=null&&!(a[l]instanceof f)){let h=bte(a[l],!0);a[l]!==h?a[l]=h:a[l]=a[l].toObject({transform:!1,virtuals:a[l].schema===f.schema})}if(a[l]instanceof Cu){if(a[l][Bte]!==e)if(r){let h=new f(null,t,gM,i,l);a[l]=h.$init(a[l])}else{let h=new f(a[l],t,void 0,void 0,l);a[l]=h}a[l].__index==null&&a[l].$setIndex(l)}else if(a[l]!=null)if(r)e?i||(i=Pte(this,e.$__.selected,r)):i=!0,o=new f(null,t,gM,i,l),a[l]=o.$init(a[l]);else if(n&&typeof n.id=="function"&&(o=n.id(a[l]._id)),n&&o&&bc.deepEqual(o.toObject(Tte),a[l]))o.set(a[l]),a[l]=o;else try{o=new f(a[l],t,void 0,void 0,l),a[l]=o}catch(h){throw new pM("embedded",a[l],t[y_],h,this)}}return t};Ct.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,this.schema,t,this.schemaOptions);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),e.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),e};Ct.prototype.applyGetters=function(t,e){return Al.prototype.applyGetters.call(this,t,e)};function Pte(t,e,r){if(!(r&&e))return;let n=t.path+".",s=Object.keys(e),i=s.length,o={},u,a,c;for(;i--;)if(a=s[i],a.startsWith(n)){if(c=a.substring(n.length),c==="$")continue;c.startsWith("$.")&&(c=c.substring(2)),u||(u=!0),o[c]=e[a]}return u&&o||void 0}Ct.defaultOptions={};Ct.set=Al.set;Ct.setters=[];Ct.get=Al.get;AM.exports=Ct});var SM=y((jfe,CM)=>{"use strict";var Mte=En(),Q0=class extends Mte{},Fte=Ln();Object.defineProperty(Q0.prototype,"of",Fte);CM.exports=Q0});var DM=y((Ufe,bM)=>{"use strict";var g_=A0(),Ite=SM(),wM=Ht();var Dc=class extends wM{constructor(e,r){super(e,r,"Map"),this.$isSchemaMap=!0}set(e,r){return wM.set(e,r)}cast(e,r,n){if(e instanceof g_)return e;let s=this.path;if(n){let i=new g_({},s,r,this.$__schemaType);if(e instanceof global.Map)for(let o of e.keys()){let u=e.get(o);u==null?u=i.$__schemaType._castNullish(u):u=i.$__schemaType.cast(u,r,!0,null,{path:s+"."+o}),i.$init(o,u)}else for(let o of Object.keys(e)){let u=e[o];u==null?u=i.$__schemaType._castNullish(u):u=i.$__schemaType.cast(u,r,!0,null,{path:s+"."+o}),i.$init(o,u)}return i}return new g_(e,s,r,this.$__schemaType)}clone(){let e=super.clone();return this.$__schemaType!=null&&(e.$__schemaType=this.$__schemaType.clone()),e}};Dc.schemaName="Map";Dc.prototype.OptionsConstructor=Ite;Dc.defaultOptions={};bM.exports=Dc});var PM=y((Vfe,TM)=>{"use strict";var $te=En(),Ol=class extends $te{},BM=Ln();Object.defineProperty(Ol.prototype,"auto",BM);Object.defineProperty(Ol.prototype,"populate",BM);TM.exports=Ol});var IM=y((Wfe,FM)=>{"use strict";var Nte=PM(),Ii=Ht(),Rte=s4(),xte=Gr(),__=Si(),A_=Kr(),O_=ie(),vte=Ii.CastError,E_;function St(t,e){let r=typeof t=="string"&&t.length===24&&/^[a-f0-9]+$/i.test(t),n=e&&e.suppressWarning;(r||typeof t>"u")&&!n&&O_.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),Ii.call(this,t,e,"ObjectId")}St.schemaName="ObjectId";St.defaultOptions={};St.prototype=Object.create(Ii.prototype);St.prototype.constructor=St;St.prototype.OptionsConstructor=Nte;St.get=Ii.get;St.set=Ii.set;St.setters=[];St.prototype.auto=function(t){return t&&(this.default(MM),this.set(kte)),this};St._checkRequired=t=>A_(t,"ObjectId");St._cast=Rte;St.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};St._defaultCaster=t=>{if(!A_(t,"ObjectId"))throw new Error(t+" is not an instance of ObjectId");return t};St.checkRequired=Ii.checkRequired;St.prototype.checkRequired=function(e,r){return Ii._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():St.checkRequired())(e)};St.prototype.cast=function(t,e,r){if(!A_(t,"ObjectId")&&Ii._isRef(this,t,e,r)){if((xte(t)||"").toLowerCase()==="objectid")return new __(t.toHexString());if(t==null||O_.isNonBuiltinObject(t))return this._castRef(t,e,r)}let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=St.cast();try{return n(t)}catch(s){throw new vte("ObjectId",t,this.path,s,this)}};function J0(t){return this.cast(t)}St.prototype.$conditionalHandlers=O_.options(Ii.prototype.$conditionalHandlers,{$gt:J0,$gte:J0,$lt:J0,$lte:J0});function MM(){return new __}MM.$runBeforeSetters=!0;function kte(t){return E_||(E_=Qr()),this instanceof E_&&t===void 0?new __:t}FM.exports=St});var NM=y((zfe,$M)=>{"use strict";var qte=En(),An=class extends qte{},Ks=Ln();Object.defineProperty(An.prototype,"enum",Ks);Object.defineProperty(An.prototype,"match",Ks);Object.defineProperty(An.prototype,"lowercase",Ks);Object.defineProperty(An.prototype,"trim",Ks);Object.defineProperty(An.prototype,"uppercase",Ks);Object.defineProperty(An.prototype,"minLength",Ks);Object.defineProperty(An.prototype,"minlength",Ks);Object.defineProperty(An.prototype,"maxLength",Ks);Object.defineProperty(An.prototype,"maxlength",Ks);Object.defineProperty(An.prototype,"populate",Ks);$M.exports=An});var vM=y((Hfe,xM)=>{"use strict";var $i=Ht(),Sl=Ke(),Lte=NM(),jte=U4(),C_=ie(),Ute=Kr(),Vte=$i.CastError;function $e(t,e){this.enumValues=[],this.regExp=null,$i.call(this,t,e,"String")}$e.schemaName="String";$e.defaultOptions={};$e.prototype=Object.create($i.prototype);$e.prototype.constructor=$e;Object.defineProperty($e.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:Lte});$e._cast=jte;$e.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};$e._defaultCaster=t=>{if(t!=null&&typeof t!="string")throw new Error;return t};$e.get=$i.get;$e.set=$i.set;$e.setters=[];$e._checkRequired=t=>(t instanceof String||typeof t=="string")&&t.length;$e.checkRequired=$i.checkRequired;$e.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(n){return n.validator!==this.enumValidator},this),this.enumValidator=!1),arguments[0]===void 0||arguments[0]===!1)return this;let t,e;C_.isObject(arguments[0])?Array.isArray(arguments[0].values)?(t=arguments[0].values,e=arguments[0].message):(t=C_.object.vals(arguments[0]),e=Sl.messages.String.enum):(t=arguments,e=Sl.messages.String.enum);for(let n of t)n!==void 0&&this.enumValues.push(this.cast(n));let r=this.enumValues;return this.enumValidator=function(n){return n===void 0||~r.indexOf(n)},this.validators.push({validator:this.enumValidator,message:e,type:"enum",enumValues:r}),this};$e.prototype.lowercase=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.toLowerCase()))};$e.prototype.uppercase=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.toUpperCase()))};$e.prototype.trim=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.trim()))};$e.prototype.minlength=function(t,e){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minlengthValidator},this)),t!=null){let r=e||Sl.messages.String.minlength;r=r.replace(/{MINLENGTH}/,t),this.validators.push({validator:this.minlengthValidator=function(n){return n===null||n.length>=t},message:r,type:"minlength",minlength:t})}return this};$e.prototype.minLength=$e.prototype.minlength;$e.prototype.maxlength=function(t,e){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxlengthValidator},this)),t!=null){let r=e||Sl.messages.String.maxlength;r=r.replace(/{MAXLENGTH}/,t),this.validators.push({validator:this.maxlengthValidator=function(n){return n===null||n.length<=t},message:r,type:"maxlength",maxlength:t})}return this};$e.prototype.maxLength=$e.prototype.maxlength;$e.prototype.match=function(e,r){let n=r||Sl.messages.String.match,s=function(i){return e?(e.lastIndex=0,i!=null&&i!==""?e.test(i):!0):!1};return this.validators.push({validator:s,message:n,type:"regexp",regexp:e}),this};$e.prototype.checkRequired=function(e,r){return typeof e=="object"&&$i._isRef(this,e,r,!0)?e!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():$e.checkRequired())(e)};$e.prototype.cast=function(t,e,r){if(typeof t!="string"&&$i._isRef(this,t,e,r))return this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=$e.cast();try{return n(t)}catch{throw new Vte("string",t,this.path,null,this)}};function Cl(t,e){return this.castForQuery(null,t,e)}function Wte(t,e){let r=this;return Array.isArray(t)?t.map(function(n){return r.castForQuery(null,n,e)}):[this.castForQuery(null,t,e)]}function RM(t){return t==null?this._castNullish(t):this.cast(t,this)}var zte=C_.options($i.prototype.$conditionalHandlers,{$all:Wte,$gt:Cl,$gte:Cl,$lt:Cl,$lte:Cl,$options:RM,$regex:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"?e:RM.call(this,e)},$not:Cl});Object.defineProperty($e.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(zte)});$e.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t+" with String.");return n.call(this,e,r)}return Object.prototype.toString.call(e)==="[object RegExp]"||Ute(e,"BSONRegExp")?e:this.applySetters(e,r)};xM.exports=$e});var UM=y((Gfe,jM)=>{"use strict";var D_=ll(),So=Ht(),w_=So.CastError,qM=ie(),X0=b0(),b_=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,Hte=D_.Binary;function Gte(t){return t!=null&&Buffer.from(t,"hex")}function Kte(t){return t!=null&&t.toString("hex")}function kM(t){typeof t!="string"&&(t="");let e=t.replace(/[{}-]/g,""),r=Gte(e),n=new D_(r);return n._subtype=4,n}function LM(t){let e;return typeof t!="string"&&t!=null?(e=Kte(t),e.substring(0,8)+"-"+e.substring(8,8+4)+"-"+e.substring(12,12+4)+"-"+e.substring(16,16+4)+"-"+e.substring(20,20+12)):t}function wt(t,e){So.call(this,t,e,"UUID"),this.getters.push(function(r){return r!=null&&r.$__!=null?r:LM(r)})}wt.schemaName="UUID";wt.defaultOptions={};wt.prototype=Object.create(So.prototype);wt.prototype.constructor=wt;wt._cast=function(t){if(t==null)return t;function e(r){let n=new D_(r);return n._subtype=4,n}if(typeof t=="string"){if(b_.test(t))return kM(t);throw new w_(wt.schemaName,t,this.path)}if(Buffer.isBuffer(t))return e(t);if(t instanceof Hte)return e(t.value(!0));if(t.toString&&t.toString!==Object.prototype.toString&&b_.test(t.toString()))return kM(t.toString());throw new w_(wt.schemaName,t,this.path)};wt.get=So.get;wt.set=So.set;wt.setters=[];wt.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};wt._checkRequired=t=>t!=null;wt.checkRequired=So.checkRequired;wt.prototype.checkRequired=function(e){return Buffer.isBuffer(e)&&(e=LM(e)),e!=null&&b_.test(e)};wt.prototype.cast=function(t,e,r){if(qM.isNonBuiltinObject(t)&&So._isRef(this,t,e,r))return this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=wt.cast();try{return n(t)}catch(s){throw new w_(wt.schemaName,t,this.path,s,this)}};function wl(t){return this.cast(t)}function S_(t){return t.map(e=>this.cast(e))}wt.prototype.$conditionalHandlers=qM.options(So.prototype.$conditionalHandlers,{$bitsAllClear:X0,$bitsAnyClear:X0,$bitsAllSet:X0,$bitsAnySet:X0,$all:S_,$gt:wl,$gte:wl,$in:S_,$lt:wl,$lte:wl,$ne:wl,$nin:S_});wt.prototype.castForQuery=function(t,e,r){let n;if(t!=null){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t+" with UUID.");return n.call(this,e,r)}else return this.cast(e)};jM.exports=wt});var dl=y(ht=>{"use strict";ht.Array=F0();ht.Boolean=uP();ht.BigInt=fP();ht.Buffer=gP();ht.Date=bP();ht.Decimal128=ht.Decimal=PP();ht.DocumentArray=OM();ht.Map=DM();ht.Mixed=du();ht.Number=G4();ht.ObjectId=IM();ht.String=vM();ht.Subdocument=d_();ht.UUID=UM();ht.Oid=ht.ObjectId;ht.Object=ht.Mixed;ht.Bool=ht.Boolean;ht.ObjectID=ht.ObjectId});var hc=y((I_,ZM)=>{"use strict";var Yte=require("events").EventEmitter,Qte=rl(),Su=st(),VM=Ht(),WM=En(),Jte=KB(),P_=B4(),zM=T4(),Br=gt(),HM=at(),Xte=Gr(),Zte=ZB(),em=F4(),ere=rT(),tre=Hp(),Z0=gs(),rre=hT(),nt=ie(),nre=pT(),sre=require("util"),wo,ire=E0().middlewareFunctions,ore=_0().middlewareFunctions,GM=ire.concat(ore).reduce((t,e)=>t.add(e),new Set),B_=nt.isPOJO,KM=0,ure=/^\d+$/;function X(t,e){if(!(this instanceof X))return new X(t,e);if(this.obj=t,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods=e&&e.methods||{},this.methodOptions={},this.statics=e&&e.statics||{},this.tree={},this.query=e&&e.query||{},this.childSchemas=[],this.plugins=[],this.$id=++KM,this.mapPaths=[],this.s={hooks:new Qte},this.options=this.defaultOptions(e),Array.isArray(t))for(let s of t)this.add(s);else t&&this.add(t);if(e&&e.virtuals){let s=e.virtuals,i=Object.keys(s);for(let o of i){let u=s[o].options?s[o].options:void 0,a=this.virtual(o,u);s[o].get&&a.get(s[o].get),s[o].set&&a.set(s[o].set)}}let r=t&&t._id&&nt.isObject(t._id);!this.paths._id&&this.options._id&&!r&&zM(this),this.setupTimestamp(this.options.timestamps)}function YM(t,e){for(let r of Object.keys(e)){let n=null;if(e[r]!=null)n=e[r];else{let i=HM(t.paths[r],"options");if(i==null)continue;n=i.alias}if(!n)continue;let s=t.paths[r].path;if(Array.isArray(n)){for(let i of n){if(typeof i!="string")throw new Error("Invalid value for alias option on "+s+", got "+i);t.aliases[i]=s,t.virtual(i).get(function(o){return function(){return typeof this.get=="function"?this.get(o):this[o]}}(s)).set(function(o){return function(u){return this.$set(o,u)}}(s))}continue}if(typeof n!="string")throw new Error("Invalid value for alias option on "+s+", got "+n);t.aliases[n]=s,t.virtual(n).get(function(i){return function(){return typeof this.get=="function"?this.get(i):this[i]}}(s)).set(function(i){return function(o){return this.$set(i,o)}}(s))}}X.prototype=Object.create(Yte.prototype);X.prototype.constructor=X;X.prototype.instanceOfSchema=!0;Object.defineProperty(X.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0});Object.defineProperty(X.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(X.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0});X.prototype.obj;X.prototype.paths;X.prototype.tree;X.prototype.clone=function(){let t=this._clone();return t.on("init",e=>this.emit("init",e)),t};X.prototype._clone=function(e){e=e||(this.base==null?X:this.base.Schema);let r=new e({},this._userProvidedOptions);r.base=this.base,r.obj=this.obj,r.options=Br(this.options),r.callQueue=this.callQueue.map(function(n){return n}),r.methods=Br(this.methods),r.methodOptions=Br(this.methodOptions),r.statics=Br(this.statics),r.query=Br(this.query),r.plugins=Array.prototype.slice.call(this.plugins),r._indexes=Br(this._indexes),r.s.hooks=this.s.hooks.clone(),r.tree=Br(this.tree),r.paths=Br(this.paths),r.nested=Br(this.nested),r.subpaths=Br(this.subpaths);for(let n of Object.values(r.paths))if(n.$isSingleNested){let s=n.path;for(let i of Object.keys(n.schema.paths))r.singleNestedPaths[s+"."+i]=n.schema.paths[i];for(let i of Object.keys(n.schema.singleNestedPaths))r.singleNestedPaths[s+"."+i]=n.schema.singleNestedPaths[i];for(let i of Object.keys(n.schema.subpaths))r.singleNestedPaths[s+"."+i]=n.schema.subpaths[i];for(let i of Object.keys(n.schema.nested))r.singleNestedPaths[s+"."+i]="nested"}return r.childSchemas=are(r),r.virtuals=Br(this.virtuals),r.$globalPluginsApplied=this.$globalPluginsApplied,r.$isRootDiscriminator=this.$isRootDiscriminator,r.$implicitlyCreated=this.$implicitlyCreated,r.$id=++KM,r.$originalSchemaId=this.$id,r.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null&&(r.discriminatorMapping=Object.assign({},this.discriminatorMapping)),this.discriminators!=null&&(r.discriminators=Object.assign({},this.discriminators)),this._applyDiscriminators!=null&&(r._applyDiscriminators=new Map(this._applyDiscriminators)),r.aliases=Object.assign({},this.aliases),r};X.prototype.pick=function(t,e){let r=new X({},e||this.options);if(!Array.isArray(t))throw new Su('Schema#pick() only accepts an array argument, got "'+typeof t+'"');for(let n of t)if(this.nested[n])r.add({[n]:HM(this.tree,n)});else{let s=this.path(n);if(s==null)throw new Su("Path `"+n+"` is not in the schema");r.add({[n]:s})}return r};X.prototype.omit=function(t,e){let r=new X(this,e||this.options);if(!Array.isArray(t))throw new Su('Schema#omit() only accepts an array argument, got "'+typeof t+'"');r.remove(t);for(let n in r.singleNestedPaths)t.includes(n)&&delete r.singleNestedPaths[n];return r};X.prototype.defaultOptions=function(t){this._userProvidedOptions=t==null?{}:Br(t);let e=this.base&&this.base.options||{},r="strict"in e?e.strict:!0,n="strictQuery"in e?e.strictQuery:!1,s="id"in e?e.id:!0;if(t=nt.options({strict:r,strictQuery:n,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:s,typeKey:"type"},Br(t)),t.versionKey&&typeof t.versionKey!="string")throw new Su("`versionKey` must be falsy or string, got `"+typeof t.versionKey+"`");if(typeof t.read=="string"?t.read=em(t.read):Array.isArray(t.read)&&typeof t.read[0]=="string"&&(t.read={mode:em(t.read[0]),tags:t.read[1]}),t.optimisticConcurrency&&!t.versionKey)throw new Su("Must set `versionKey` if using `optimisticConcurrency`");return t};X.prototype.discriminator=function(t,e){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(t,e),this};X.prototype.add=function(e,r){if(e instanceof X||e!=null&&e.instanceOfSchema)return tre(this,e),this;if(e._id===!1&&r==null&&(this.options._id=!1),r=r||"",r==="__proto__."||r==="constructor."||r==="prototype.")return this;let n=Object.keys(e),s=this.options.typeKey;for(let o of n){if(nt.specialProperties.has(o))continue;let u=r+o,a=e[o];if(a==null)throw new TypeError("Invalid value for schema path `"+u+'`, got value "'+a+'"');if(o==="_id"&&a===!1)continue;let c=!1;if(typeof a=="string"){let l=this.base!=null?this.base.Schema.Types:X.Types,f=a.charAt(0).toUpperCase()+a.substring(1);c=l[f]!=null}if(o!=="_id"&&(typeof a!="object"&&typeof a!="function"&&!c||a==null))throw new TypeError(`Invalid schema configuration: \`${a}\` is not a valid type at path \`${o}\`. See https://bit.ly/mongoose-schematypes for a list of valid schema types.`);if(a instanceof P_||(a.constructor&&a.constructor.name||null)==="VirtualType"){this.virtual(a);continue}if(Array.isArray(a)&&a.length===1&&a[0]==null)throw new TypeError("Invalid value for schema Array path `"+u+'`, got value "'+a[0]+'"');if(B_(a)||a instanceof WM)if(Object.keys(a).length<1)r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(u,a);else if(!a[s]||s==="type"&&B_(a.type)&&a.type.type)this.nested[u]=!0,this.add(a,u+".");else{let l=a[s];if(B_(l)&&Object.keys(l).length>0){r&&(this.nested[r.substring(0,r.length-1)]=!0);let f={};this._userProvidedOptions.typeKey&&(f.typeKey=this._userProvidedOptions.typeKey),this._userProvidedOptions.strict!=null&&(f.strict=this._userProvidedOptions.strict),this._userProvidedOptions.toObject!=null&&(f.toObject=nt.omit(this._userProvidedOptions.toObject,["transform"])),this._userProvidedOptions.toJSON!=null&&(f.toJSON=nt.omit(this._userProvidedOptions.toJSON,["transform"]));let h=new X(l,f);h.$implicitlyCreated=!0;let d=Object.assign({},a,{[s]:h});this.path(r+o,d)}else if(r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(r+o,a),a!=null&&!a.instanceOfSchema&&nt.isPOJO(a.discriminators)){let f=this.path(r+o);for(let h in a.discriminators)f.discriminator(h,a.discriminators[h])}}else if(r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(r+o,a),a[0]!=null&&!a[0].instanceOfSchema&&nt.isPOJO(a[0].discriminators)){let l=this.path(r+o);for(let f in a[0].discriminators)l.discriminator(f,a[0].discriminators[f])}}let i=Object.fromEntries(Object.entries(e).map(([o])=>[r+o,null]));return YM(this,i),this};X.prototype.alias=function(t,e){return YM(this,{[t]:e}),this};X.prototype.removeIndex=function(e){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(typeof e!="object"&&typeof e!="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(typeof e=="object")for(let r=this._indexes.length-1;r>=0;--r)sre.isDeepStrictEqual(this._indexes[r][0],e)&&this._indexes.splice(r,1);else for(let r=this._indexes.length-1;r>=0;--r)this._indexes[r][1]!=null&&this._indexes[r][1].name===e&&this._indexes.splice(r,1);return this};X.prototype.clearIndexes=function(){return this._indexes.length=0,this};X.reserved=Object.create(null);X.prototype.reserved=X.reserved;var lr=X.reserved;lr.prototype=lr.emit=lr.listeners=lr.removeListener=lr.collection=lr.errors=lr.get=lr.init=lr.isModified=lr.isNew=lr.populated=lr.remove=lr.save=lr.toObject=lr.validate=1;lr.collection=1;X.prototype.path=function(t,e){if(e===void 0){let a=QM(t),c=cre(this,t,a);if(c!=null)return c;let l=JM(this,t);return l??(c=this.hasMixedParent(a),c??(/\.\d+\.?.*$/.test(t)?fre(this,t,a):void 0))}let r=t.split(".")[0];if(lr[r]&&!this.options.suppressReservedKeysWarning){let a=`\`${r}\` is a reserved schema pathname and may break some functionality. You are allowed to use it, but use at your own risk. To disable this warning pass \`suppressReservedKeysWarning\` as a schema option.`;nt.warn(a)}typeof e=="object"&&nt.hasUserDefinedProperty(e,"ref")&&nre(e.ref,t);let n=t.split(/\./),s=n.pop(),i=this.tree,o="";for(let a of n){if(nt.specialProperties.has(a))throw new Error("Cannot set special property `"+a+"` on a schema");if(o=o+=(o.length>0?".":"")+a,i[a]||(this.nested[o]=!0,i[a]={}),typeof i[a]!="object"){let c="Cannot set nested path `"+t+"`. Parent path `"+o+"` already set to type "+i[a].name+".";throw new Error(c)}i=i[a]}i[s]=Br(e),this.paths[t]=this.interpretAsType(t,e,this.options);let u=this.paths[t];if(u.$isSchemaMap){let a=t+".$*";this.paths[a]=u.$__schemaType,this.mapPaths.push(this.paths[a])}if(u.$isSingleNested){for(let a of Object.keys(u.schema.paths))this.singleNestedPaths[t+"."+a]=u.schema.paths[a];for(let a of Object.keys(u.schema.singleNestedPaths))this.singleNestedPaths[t+"."+a]=u.schema.singleNestedPaths[a];for(let a of Object.keys(u.schema.subpaths))this.singleNestedPaths[t+"."+a]=u.schema.subpaths[a];for(let a of Object.keys(u.schema.nested))this.singleNestedPaths[t+"."+a]="nested";Object.defineProperty(u.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),u.caster.base=this.base,this.childSchemas.push({schema:u.schema,model:u.caster})}else u.$isMongooseDocumentArray&&(Object.defineProperty(u.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),u.casterConstructor.base=this.base,this.childSchemas.push({schema:u.schema,model:u.casterConstructor}));if(u.$isMongooseArray&&u.caster instanceof VM){let a=t,c=u,l=[];for(;c.$isMongooseArray;)a=a+".$",c.$isMongooseDocumentArray?(c.$embeddedSchemaType._arrayPath=a,c.$embeddedSchemaType._arrayParentPath=t,c=c.$embeddedSchemaType.clone()):(c.caster._arrayPath=a,c.caster._arrayParentPath=t,c=c.caster.clone()),c.path=a,l.push(c);for(let f of l)this.subpaths[f.path]=f}if(u.$isMongooseDocumentArray){for(let a of Object.keys(u.schema.paths)){let c=u.schema.paths[a];this.subpaths[t+"."+a]=c,typeof c=="object"&&c!=null&&c.$parentSchemaDocArray==null&&(c.$parentSchemaDocArray=u)}for(let a of Object.keys(u.schema.subpaths)){let c=u.schema.subpaths[a];this.subpaths[t+"."+a]=c,typeof c=="object"&&c!=null&&c.$parentSchemaDocArray==null&&(c.$parentSchemaDocArray=u)}for(let a of Object.keys(u.schema.singleNestedPaths)){let c=u.schema.singleNestedPaths[a];this.subpaths[t+"."+a]=c,typeof c=="object"&&c!=null&&c.$parentSchemaDocArray==null&&(c.$parentSchemaDocArray=u)}}return this};function are(t){let e=[];for(let r of Object.keys(t.paths)){let n=t.paths[r];(n.$isMongooseDocumentArray||n.$isSingleNested)&&e.push({schema:n.schema,model:n.caster})}return e}function cre(t,e,r){return t.paths.hasOwnProperty(e)?t.paths[e]:t.subpaths.hasOwnProperty(r)?t.subpaths[r]:t.singleNestedPaths.hasOwnProperty(r)&&typeof t.singleNestedPaths[r]=="object"?t.singleNestedPaths[r]:null}function QM(t){return/\.\d+/.test(t)?t.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):t}function JM(t,e){if(t.mapPaths.length===0)return null;for(let r of t.mapPaths){let n=r.path;if(new RegExp("^"+n.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(e))return t.paths[n]}return null}Object.defineProperty(X.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null});X.prototype.interpretAsType=function(t,e,r){if(e instanceof VM){if(e.path===t)return e;let a=e.clone();return a.path=t,a}let n=this.base!=null?this.base.Schema.Types:X.Types,s=this.base!=null?this.base.Types:pc();if(!nt.isPOJO(e)&&!(e instanceof WM)&&nt.getFunctionName(e.constructor)!=="Object"){let c=e;e={},e[r.typeKey]=c}let i=e[r.typeKey]&&(e[r.typeKey]instanceof Function||r.typeKey!=="type"||!e.type.type)?e[r.typeKey]:{},o;if(nt.isPOJO(i)||i==="mixed")return new n.Mixed(t,e);if(Array.isArray(i)||i===Array||i==="array"||i===n.Array){let a=i===Array||i==="array"?e.cast||e.of:i[0];if(a&&a.instanceOfSchema){if(!(a instanceof X))if(this.options._isMerging)a=new X(a);else throw new TypeError("Schema for array path `"+t+`\` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with \`npm list mongoose\`. If you are still getting this error, please add \`new Schema()\` around the path: ${t}: new Schema(...)`);return new n.DocumentArray(t,a,e)}if(a&&a[r.typeKey]&&a[r.typeKey].instanceOfSchema){if(!(a[r.typeKey]instanceof X))if(this.options._isMerging)a[r.typeKey]=new X(a[r.typeKey]);else throw new TypeError("Schema for array path `"+t+`\` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with \`npm list mongoose\`. If you are still getting this error, please add \`new Schema()\` around the path: ${t}: new Schema(...)`);return new n.DocumentArray(t,a[r.typeKey],e,a)}if(Array.isArray(a))return new n.Array(t,this.interpretAsType(t,a,r),e);let c=a!=null&&a[r.typeKey]&&(r.typeKey!=="type"||!a.type.type)?a[r.typeKey]:a;if(typeof a=="string")a=n[a.charAt(0).toUpperCase()+a.substring(1)];else if(nt.isPOJO(c))if(Object.keys(c).length){let l={minimize:r.minimize};r.typeKey&&(l.typeKey=r.typeKey),r.hasOwnProperty("strict")&&(l.strict=r.strict),r.hasOwnProperty("strictQuery")&&(l.strictQuery=r.strictQuery),r.hasOwnProperty("toObject")&&(l.toObject=nt.omit(r.toObject,["transform"])),r.hasOwnProperty("toJSON")&&(l.toJSON=nt.omit(r.toJSON,["transform"])),this._userProvidedOptions.hasOwnProperty("_id")?l._id=this._userProvidedOptions._id:X.Types.DocumentArray.defaultOptions._id!=null&&(l._id=X.Types.DocumentArray.defaultOptions._id);let f=new X(c,l);return f.$implicitlyCreated=!0,new n.DocumentArray(t,f,e)}else return new n.Array(t,n.Mixed,e);if(a){if(i=a[r.typeKey]&&(r.typeKey!=="type"||!a.type.type)?a[r.typeKey]:a,Array.isArray(i))return new n.Array(t,this.interpretAsType(t,i,r),e);if(o=typeof i=="string"?i:i.schemaName||nt.getFunctionName(i),o==="ClockDate"&&(o="Date"),o===void 0)throw new TypeError(`Invalid schema configuration: Could not determine the embedded type for array \`${t}\`. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.`);if(!n.hasOwnProperty(o))throw new TypeError(`Invalid schema configuration: \`${o}\` is not a valid type within the array \`${t}\`.See https://bit.ly/mongoose-schematypes for a list of valid schema types.`)}return new n.Array(t,a||n.Mixed,e,r)}if(i&&i.instanceOfSchema)return new n.Subdocument(i,t,e);if(Buffer.isBuffer(i)?o="Buffer":typeof i=="function"||typeof i=="object"?o=i.schemaName||nt.getFunctionName(i):i===s.ObjectId?o="ObjectId":i===s.Decimal128?o="Decimal128":o=i==null?""+i:i.toString(),o&&(o=o.charAt(0).toUpperCase()+o.substring(1)),o==="ObjectID"&&(o="ObjectId"),o==="ClockDate"&&(o="Date"),o===void 0)throw new TypeError(`Invalid schema configuration: \`${t}\` schematype definition is invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.`);if(n[o]==null)throw new TypeError(`Invalid schema configuration: \`${o}\` is not a valid type at path \`${t}\`. See https://bit.ly/mongoose-schematypes for a list of valid schema types.`);let u=new n[o](t,e);return u.$isSchemaMap&&lre(this,u,t,e,r),u};function lre(t,e,r,n,s){let i=r+".$*",o={type:{}};nt.hasUserDefinedProperty(n,"of")&&(nt.isPOJO(n.of)&&Object.keys(n.of).length>0&&!nt.hasUserDefinedProperty(n.of,t.options.typeKey)?o={[t.options.typeKey]:new X(n.of)}:nt.isPOJO(n.of)?o=Object.assign({},n.of):o={[t.options.typeKey]:n.of},o[t.options.typeKey]&&o[t.options.typeKey].instanceOfSchema&&o[t.options.typeKey].eachPath((c,l)=>{if(l.options.select===!0||l.options.select===!1)throw new Su('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+r+"."+c+'"')}),nt.hasUserDefinedProperty(n,"ref")&&(o.ref=n.ref)),e.$__schemaType=t.interpretAsType(i,o,s)}X.prototype.eachPath=function(t){let e=Object.keys(this.paths),r=e.length;for(let n=0;n<r;++n)t(e[n],this.paths[e[n]]);return this};X.prototype.requiredPaths=function(e){if(this._requiredpaths&&!e)return this._requiredpaths;let r=Object.keys(this.paths),n=r.length,s=[];for(;n--;){let i=r[n];this.paths[i].isRequired&&s.push(i)}return this._requiredpaths=s,this._requiredpaths};X.prototype.indexedPaths=function(){return this._indexedpaths?this._indexedpaths:(this._indexedpaths=this.indexes(),this._indexedpaths)};X.prototype.pathType=function(t){if(this.paths.hasOwnProperty(t))return"real";if(this.virtuals.hasOwnProperty(t))return"virtual";if(this.nested.hasOwnProperty(t))return"nested";let e=QM(t);if(this.subpaths.hasOwnProperty(e)||this.subpaths.hasOwnProperty(t))return"real";let r=this.singleNestedPaths.hasOwnProperty(e)||this.singleNestedPaths.hasOwnProperty(t);return r?r==="nested"?"nested":"real":JM(this,t)!=null?"real":/\.\d+\.|\.\d+$/.test(t)?XM(this,t,e):"adhocOrUndefined"};X.prototype.hasMixedParent=function(t){let e=t.split(/\./g);t="";for(let r=0;r<e.length;++r)if(t=r>0?t+"."+e[r]:e[r],this.paths.hasOwnProperty(t)&&this.paths[t]instanceof wo.Mixed)return this.paths[t];return null};X.prototype.setupTimestamp=function(t){return rre(this,t)};function XM(t,e,r){let n=e.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(n.length<2)return t.paths.hasOwnProperty(n[0])?t.paths[n[0]]:"adhocOrUndefined";let s=t.path(n[0]),i=!1;if(!s)return"adhocOrUndefined";let o=n.length-1;for(let u=1;u<n.length;++u){i=!1;let a=n[u];if(u===o&&s&&!/\D/.test(a)){s.$isMongooseDocumentArray?s=s.$embeddedSchemaType:s instanceof wo.Array?s=s.caster:s=void 0;break}if(!/\D/.test(a)){s instanceof wo.Array&&u!==o&&(s=s.caster);continue}if(!(s&&s.schema)){s=void 0;break}i=s.schema.pathType(a)==="nested",s=s.schema.path(a)}return t.subpaths[r]=s,s?"real":i?"nested":"adhocOrUndefined"}function fre(t,e,r){return XM(t,e,r),t.subpaths[r]}X.prototype.queue=function(t,e){return this.callQueue.push([t,e]),this};X.prototype.pre=function(t){if(t instanceof RegExp){let e=Array.prototype.slice.call(arguments,1);for(let r of GM)t.test(r)&&this.pre.apply(this,[r].concat(e));return this}if(Array.isArray(t)){let e=Array.prototype.slice.call(arguments,1);for(let r of t)this.pre.apply(this,[r].concat(e));return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this};X.prototype.post=function(t){if(t instanceof RegExp){let e=Array.prototype.slice.call(arguments,1);for(let r of GM)t.test(r)&&this.post.apply(this,[r].concat(e));return this}if(Array.isArray(t)){let e=Array.prototype.slice.call(arguments,1);for(let r of t)this.post.apply(this,[r].concat(e));return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this};X.prototype.plugin=function(t,e){if(typeof t!="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+typeof t+'"');if(e&&e.deduplicate){for(let r of this.plugins)if(r.fn===t)return this}return this.plugins.push({fn:t,opts:e}),t(this,e),this};X.prototype.method=function(t,e,r){if(typeof t!="string")for(let n in t)this.methods[n]=t[n],this.methodOptions[n]=Br(r);else this.methods[t]=e,this.methodOptions[t]=Br(r);return this};X.prototype.static=function(t,e){if(typeof t!="string")for(let r in t)this.statics[r]=t[r];else this.statics[t]=e;return this};X.prototype.index=function(t,e){t||(t={}),e||(e={}),e.expires&&nt.expires(e);for(let r in t)this.aliases[r]&&(t[this.aliases[r]]=t[r],delete t[r]);for(let r of Object.keys(t))t[r]==="ascending"||t[r]==="asc"?t[r]=1:(t[r]==="descending"||t[r]==="desc")&&(t[r]=-1);return this._indexes.push([t,e]),this};X.prototype.set=function(t,e,r){if(arguments.length===1)return this.options[t];switch(t){case"read":typeof e=="string"?this.options[t]={mode:em(e),tags:r}:Array.isArray(e)&&typeof e[0]=="string"?this.options[t]={mode:em(e[0]),tags:e[1]}:this.options[t]=e,this._userProvidedOptions[t]=this.options[t];break;case"timestamps":this.setupTimestamp(e),this.options[t]=e,this._userProvidedOptions[t]=this.options[t];break;case"_id":this.options[t]=e,this._userProvidedOptions[t]=this.options[t],e&&!this.paths._id?zM(this):!e&&this.paths._id!=null&&this.paths._id.auto&&this.remove("_id");break;default:this.options[t]=e,this._userProvidedOptions[t]=this.options[t];break}return t==="strict"&&M_(this,{strict:e}),t==="strictQuery"&&M_(this,{strictQuery:e}),this};function M_(t,e){for(let{schema:r}of t.childSchemas)r.$implicitlyCreated&&(Object.assign(r.options,e),M_(r,e))}X.prototype.get=function(t){return this.options[t]};var hre="2d 2dsphere hashed text".split(" ");Object.defineProperty(X,"indexTypes",{get:function(){return hre},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}});X.prototype.indexes=function(){return Zte(this)};X.prototype.virtual=function(t,e){if(t instanceof P_||Xte(t)==="VirtualType")return this.virtual(t.path,t.options);if(e=new Jte(e),nt.hasUserDefinedProperty(e,["ref","refPath"])){if(e.localField==null)throw new Error("Reference virtuals require `localField` option");if(e.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function(a){if(Z0.has(t,a)){let c=Z0.get(t,a);this.$$populatedVirtuals||(this.$$populatedVirtuals={}),e.justOne||e.count?this.$$populatedVirtuals[t]=Array.isArray(c)?c[0]:c:this.$$populatedVirtuals[t]=Array.isArray(c)?c:c==null?[]:[c],Z0.unset(t,a)}});let s=this.virtual(t);s.options=e,s.set(function(u){this.$$populatedVirtuals||(this.$$populatedVirtuals={}),e.justOne||e.count?(this.$$populatedVirtuals[t]=Array.isArray(u)?u[0]:u,typeof this.$$populatedVirtuals[t]!="object"&&(this.$$populatedVirtuals[t]=e.count?u:null)):(this.$$populatedVirtuals[t]=Array.isArray(u)?u:u==null?[]:[u],this.$$populatedVirtuals[t]=this.$$populatedVirtuals[t].filter(function(a){return a&&typeof a=="object"}))}),typeof e.get=="function"&&s.get(e.get);let i=t.split("."),o=i[0];for(let u=0;u<i.length-1;++u)if(this.paths[o]!=null){if(this.paths[o].$isMongooseDocumentArray||this.paths[o].$isSingleNested){let a=i.slice(u+1).join(".");this.paths[o].schema.virtual(a,e);break}o+="."+i[u+1]}return s}let r=this.virtuals,n=t.split(".");if(this.pathType(t)==="real")throw new Error('Virtual path "'+t+'" conflicts with a real path in the schema');return r[t]=n.reduce(function(s,i,o){return s[i]||(s[i]=o===n.length-1?new P_(e,t):{}),s[i]},this.tree),r[t]};X.prototype.virtualpath=function(t){return this.virtuals.hasOwnProperty(t)?this.virtuals[t]:null};X.prototype.remove=function(t){return typeof t=="string"&&(t=[t]),Array.isArray(t)&&t.forEach(function(e){if(!(this.path(e)==null&&!this.nested[e])){if(this.nested[e]){let r=Object.keys(this.paths).concat(Object.keys(this.nested));for(let n of r)n.startsWith(e+".")&&(delete this.paths[n],delete this.nested[n],T_(this,n));delete this.nested[e],T_(this,e);return}delete this.paths[e],T_(this,e)}},this),this};function T_(t,e){let r=e.split("."),n=r.pop(),s=t.tree;for(let i of r)s=s[i];delete s[n]}X.prototype.removeVirtual=function(t){if(typeof t=="string"&&(t=[t]),Array.isArray(t)){for(let e of t)if(this.virtuals[e]==null)throw new Su(`Attempting to remove virtual "${e}" that does not exist.`);for(let e of t)delete this.paths[e],delete this.virtuals[e],e.indexOf(".")!==-1?Z0.unset(e,this.tree):delete this.tree[e]}return this};X.prototype.loadClass=function(t,e){return t===Object.prototype||t===Function.prototype||t.prototype.hasOwnProperty("$isMongooseModelPrototype")||t.prototype.hasOwnProperty("$isMongooseDocumentPrototype")?this:(this.loadClass(Object.getPrototypeOf(t),e),e||Object.getOwnPropertyNames(t).forEach(function(r){if(r.match(/^(length|name|prototype|constructor|__proto__)$/))return;let n=Object.getOwnPropertyDescriptor(t,r);n.hasOwnProperty("value")&&this.static(r,n.value)},this),Object.getOwnPropertyNames(t.prototype).forEach(function(r){if(r.match(/^(constructor)$/))return;let n=Object.getOwnPropertyDescriptor(t.prototype,r);e||typeof n.value=="function"&&this.method(r,n.value),typeof n.get=="function"&&(this.virtuals[r]&&(this.virtuals[r].getters=[]),this.virtual(r).get(n.get)),typeof n.set=="function"&&(this.virtuals[r]&&(this.virtuals[r].setters=[]),this.virtual(r).set(n.set))},this),this)};X.prototype._getSchema=function(t){let e=this,r=e.path(t),n=[];if(r)return r.$fullPath=t,r;function s(o,u){let a=o.length+1,c,l;for(;a--;)if(l=o.slice(0,a).join("."),c=u.path(l),c){if(n.push(l),c.caster){if(c.caster instanceof wo.Mixed)return c.caster.$fullPath=n.join("."),c.caster;if(a!==o.length&&c.schema){let f;return o[a]==="$"||F_(o[a])?a+1===o.length?c:(f=s(o.slice(a+1),c.schema),f&&(f.$parentSchemaDocArray=f.$parentSchemaDocArray||(c.schema.$isSingleNested?null:c)),f):(f=s(o.slice(a),c.schema),f&&(f.$parentSchemaDocArray=f.$parentSchemaDocArray||(c.schema.$isSingleNested?null:c)),f)}}else if(c.$isSchemaMap){if(a>=o.length)return c;if(a+1>=o.length||c.$__schemaType instanceof wo.Mixed)return c.$__schemaType;if(c.$__schemaType.schema!=null)return s(o.slice(a+1),c.$__schemaType.schema)}return c.$fullPath=n.join("."),c}}let i=t.split(".");for(let o=0;o<i.length;++o)(i[o]==="$"||F_(i[o]))&&(i[o]="0"),ure.test(i[o])&&(i[o]="$");return s(i,e)};X.prototype._getPathType=function(t){let e=this;if(e.path(t))return"real";function n(s,i){let o=s.length+1,u,a;for(;o--;){if(a=s.slice(0,o).join("."),u=i.path(a),u)return u.caster?u.caster instanceof wo.Mixed?{schema:u,pathType:"mixed"}:o!==s.length&&u.schema?s[o]==="$"||F_(s[o])?o===s.length-1?{schema:u,pathType:"nested"}:n(s.slice(o+1),u.schema):n(s.slice(o),u.schema):{schema:u,pathType:u.$isSingleNested?"nested":"array"}:{schema:u,pathType:"real"};if(o===s.length&&i.nested[a])return{schema:i,pathType:"nested"}}return{schema:u||i,pathType:"undefined"}}return n(t.split("."),e)};function F_(t){return t.startsWith("$[")&&t.endsWith("]")}X.prototype._preCompile=function(){ere(this)};ZM.exports=I_=X;X.Types=wo=dl();I_.ObjectId=wo.ObjectId});var tF=y((Yfe,eF)=>{"use strict";var dre=st(),tm=class extends dre{constructor(e,r){super(e),this.errors=r}};Object.defineProperty(tm.prototype,"name",{value:"SyncIndexesError"});eF.exports=tm});var $_=y((Qfe,rF)=>{"use strict";rF.exports=function t(e,r,n,s){if(e[s])return;if(e[s]=!0,!n||!n.skipTopLevel){let a=null;for(let c of r){let l=c[1]==null?null:c[1].tags;if(!Array.isArray(l)){e.plugin(c[0],c[1]);continue}a=a||new Set(e.options.pluginTags||[]),l.find(f=>a.has(f))&&e.plugin(c[0],c[1])}}if(n=Object.assign({},n),delete n.skipTopLevel,n.applyPluginsToChildSchemas!==!1)for(let a of Object.keys(e.paths)){let c=e.paths[a];c.schema!=null&&(t(c.schema,r,n,s),c.caster.prototype.$__setSchema(c.schema))}let i=e.discriminators;if(i==null)return;let o=n.applyPluginsToDiscriminators,u=Object.keys(i);for(let a of u){let c=i[a];t(c,r,{skipTopLevel:!o},s)}}});var sF=y((Jfe,nF)=>{"use strict";var pre=st(),rm=class extends pre{constructor(e,r){super(e),this.errors=r}};Object.defineProperty(rm.prototype,"name",{value:"CreateCollectionsError"});nF.exports=rm});var aF=y((Xfe,uF)=>{"use strict";var mre=BE(),yre=require("events").EventEmitter,gre=hc(),ot=Fu(),rn=Ke(),Ere=RE(),_re=tF(),Are=$_(),Ore=gt(),Cre=Ul(),Sre=at(),iF=on(),N_=ie(),wre=sF(),bre=re().arrayAtomicsSymbol,bl=re().sessionNewDocuments,Dre=["MONGODB-X509"];function oe(t){this.base=t,this.collections={},this.models={},this.config={},this.replica=!1,this.options=null,this.otherDbs=[],this.relatedDbs={},this.states=ot,this._readyState=ot.disconnected,this._closeCalled=!1,this._hasOpened=!1,this.plugins=[],typeof t>"u"||!t.connections.length?this.id=0:this.id=t.nextConnectionId,this._queue=[]}Object.setPrototypeOf(oe.prototype,yre.prototype);Object.defineProperty(oe.prototype,"readyState",{get:function(){return this._readyState},set:function(t){if(!(t in ot))throw new Error("Invalid connection state: "+t);if(this._readyState!==t){this._readyState=t;for(let e of this.otherDbs)e.readyState=t;ot.connected===t&&(this._hasOpened=!0),this.emit(ot[t])}}});oe.prototype.get=function(t){return this.config.hasOwnProperty(t)?this.config[t]:Sre(this.options,t)};oe.prototype.set=function(t,e){return this.config.hasOwnProperty(t)?(this.config[t]=e,e):(this.options=this.options||{},this.options[t]=e,e)};oe.prototype.collections;oe.prototype.name;oe.prototype.models;oe.prototype.id;Object.defineProperty(oe.prototype,"plugins",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(oe.prototype,"host",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(oe.prototype,"port",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(oe.prototype,"user",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(oe.prototype,"pass",{configurable:!0,enumerable:!0,writable:!0});oe.prototype.db;oe.prototype.client;oe.prototype.config;oe.prototype.createCollection=async function(e,r){if(typeof r=="function"||arguments.length>=3&&typeof arguments[2]=="function")throw new rn("Connection.prototype.createCollection() no longer accepts a callback");return(this.readyState===ot.connecting||this.readyState===ot.disconnected)&&this._shouldBufferCommands()&&await new Promise(n=>{this._queue.push({fn:n})}),this.db.createCollection(e,r)};oe.prototype.createCollections=async function(e={}){let r={},n={},{continueOnError:s}=e;delete e.continueOnError;for(let i of Object.values(this.models))try{r[i.modelName]=await i.createCollection({})}catch(o){if(s)r[i.modelName]=o;else{n[i.modelName]=o;break}}if(!s&&Object.keys(n).length){let i=Object.entries(n).map(([u,a])=>`${u}: ${a.message}`).join(", ");throw new wre(i,n)}return r};oe.prototype.startSession=async function(e){if(arguments.length>=2&&typeof arguments[1]=="function")throw new rn("Connection.prototype.startSession() no longer accepts a callback");return(this.readyState===ot.connecting||this.readyState===ot.disconnected)&&this._shouldBufferCommands()&&await new Promise(n=>{this._queue.push({fn:n})}),this.client.startSession(e)};oe.prototype.transaction=function(e,r){return this.startSession().then(n=>(n[bl]=new Map,n.withTransaction(()=>Bre(e,n),r).then(s=>(delete n[bl],s)).catch(s=>{throw delete n[bl],s}).finally(()=>{n.endSession().catch(()=>{})})))};async function Bre(t,e){try{return await t(e)}catch(r){throw Tre(e),r}}function Tre(t){for(let e of t[bl].keys()){let r=t[bl].get(e);r.hasOwnProperty("isNew")&&(e.$isNew=r.isNew),r.hasOwnProperty("versionKey")&&e.set(e.schema.options.versionKey,r.versionKey),r.modifiedPaths.length>0&&e.$__.activePaths.states.modify==null&&(e.$__.activePaths.states.modify={});for(let n of r.modifiedPaths)e.$__.activePaths.paths[n]="modify",e.$__.activePaths.states.modify[n]=!0;for(let n of r.atomics.keys()){let s=e.$__getValue(n);s!=null&&(s[bre]=r.atomics.get(n))}}}oe.prototype.dropCollection=async function(e){if(arguments.length>=2&&typeof arguments[1]=="function")throw new rn("Connection.prototype.dropCollection() no longer accepts a callback");return(this.readyState===ot.connecting||this.readyState===ot.disconnected)&&this._shouldBufferCommands()&&await new Promise(r=>{this._queue.push({fn:r})}),this.db.dropCollection(e)};oe.prototype.dropDatabase=async function(){if(arguments.length>=1&&typeof arguments[0]=="function")throw new rn("Connection.prototype.dropDatabase() no longer accepts a callback");(this.readyState===ot.connecting||this.readyState===ot.disconnected)&&this._shouldBufferCommands()&&await new Promise(e=>{this._queue.push({fn:e})});for(let e of Object.values(this.models))delete e.$init;return this.db.dropDatabase()};oe.prototype._shouldBufferCommands=function(){return this.config.bufferCommands!=null?this.config.bufferCommands:this.base.get("bufferCommands")!=null?this.base.get("bufferCommands"):!0};oe.prototype.error=function(t,e){return e?(e(t),null):(this.listeners("error").length>0&&this.emit("error",t),Promise.reject(t))};oe.prototype.onOpen=function(){this.readyState=ot.connected;for(let t of this._queue)t.fn.apply(t.ctx,t.args);this._queue=[];for(let t in this.collections)N_.object.hasOwnProperty(this.collections,t)&&this.collections[t].onOpen();this.emit("open")};oe.prototype.openUri=async function(e,r){if((this.readyState===ot.connecting||this.readyState===ot.connected)&&this._connectionString===e)return this;this._closeCalled=!1;let n=!1;r&&"_fireAndForget"in r&&(n=r._fireAndForget,delete r._fireAndForget);try{Pre.apply(arguments)}catch(s){throw n||(this.$initialConnection=Promise.reject(s)),s}this.$initialConnection=this.createClient(e,r).then(()=>this).catch(s=>{throw this.readyState=ot.disconnected,this.listeners("error").length>0&&iF(()=>this.emit("error",s)),s});for(let s of Object.values(this.models))s.init().catch(function(){});if(n)return this;try{await this.$initialConnection}catch(s){throw oF(s)}return this};function Pre(t,e,r){if(typeof e=="function"&&r==null)throw new rn("Connection.prototype.openUri() no longer accepts a callback");if(typeof r=="function")throw new rn("Connection.prototype.openUri() no longer accepts a callback")}function oF(t){if(t?.name==="MongoServerSelectionError"){let e=t;t=new Ere,t.assimilateError(e)}return t}oe.prototype.destroy=async function(e){if(typeof e=="function"||arguments.length===2&&typeof arguments[1]=="function")throw new rn("Connection.prototype.destroy() no longer accepts a callback");return e!=null&&typeof e=="object"?this.$wasForceClosed=!!e.force:this.$wasForceClosed=!!e,this._close(e,!0)};oe.prototype.close=async function(e){if(typeof e=="function"||arguments.length===2&&typeof arguments[1]=="function")throw new rn("Connection.prototype.close() no longer accepts a callback");e!=null&&typeof e=="object"?this.$wasForceClosed=!!e.force:this.$wasForceClosed=!!e;for(let r of Object.values(this.models))delete r.$init;return this._close(e,!1)};oe.prototype._close=async function(e,r){let n=this,s=this._closeCalled;this._closeCalled=!0,this._destroyCalled=r,this.client!=null&&(this.client._closeCalled=!0,this.client._destroyCalled=r);let i=this;switch(this.readyState){case ot.disconnected:r&&this.base.connections.indexOf(i)!==-1&&this.base.connections.splice(this.base.connections.indexOf(i),1),s||(await this.doClose(e),this.onClose(e));break;case ot.connected:this.readyState=ot.disconnecting,await this.doClose(e),r&&n.base.connections.indexOf(i)!==-1&&this.base.connections.splice(this.base.connections.indexOf(i),1),this.onClose(e);break;case ot.connecting:return new Promise((o,u)=>{let a=()=>{this.removeListener("open",a),this.removeListener("error",a),r?this.destroy(e).then(o,u):this.close(e).then(o,u)};this.once("open",a),this.once("error",a)});case ot.disconnecting:return new Promise(o=>{this.once("close",()=>{r&&this.base.connections.indexOf(i)!==-1&&this.base.connections.splice(this.base.connections.indexOf(i),1),o()})})}return this};oe.prototype.doClose=function(){throw new Error("Connection#doClose unimplemented by driver")};oe.prototype.onClose=function(t){this.readyState=ot.disconnected;for(let e in this.collections)N_.object.hasOwnProperty(this.collections,e)&&this.collections[e].onClose(t);this.emit("close",t);for(let e of this.otherDbs)this._destroyCalled?e.destroy({force:t,skipCloseClient:!0}):e.close({force:t,skipCloseClient:!0})};oe.prototype.collection=function(t,e){let r={autoIndex:this.config.autoIndex!=null?this.config.autoIndex:this.base.options.autoIndex,autoCreate:this.config.autoCreate!=null?this.config.autoCreate:this.base.options.autoCreate};e=Object.assign({},r,e?Ore(e):{}),e.$wasForceClosed=this.$wasForceClosed;let n=this.base&&this.base.__driver&&this.base.__driver.Collection||Cre.get().Collection;return t in this.collections||(this.collections[t]=new n(t,this,e)),this.collections[t]};oe.prototype.plugin=function(t,e){return this.plugins.push([t,e]),this};oe.prototype.model=function(t,e,r,n){if(!(this instanceof oe))throw new rn("`connection.model()` should not be run with `new`. If you are doing `new db.model(foo)(bar)`, use `db.model(foo)(bar)` instead");let s;if(typeof t=="function"&&(s=t,t=s.name),typeof e=="string"&&(r=e,e=!1),N_.isObject(e)&&(e.instanceOfSchema?e instanceof this.base.Schema||(e=e._clone(this.base.Schema)):e=new gre(e)),e&&!e.instanceOfSchema)throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");let i={cache:!1,overwriteModels:this.base.options.overwriteModels},o=Object.assign(i,n,{connection:this});if(this.models[t]&&!r&&o.overwriteModels!==!0){if(e&&e.instanceOfSchema&&e!==this.models[t].schema)throw new rn.OverwriteModelError(t);return this.models[t]}let u;if(e&&e.instanceOfSchema)return Are(e,this.plugins,null,"$connectionPluginsApplied"),u=this.base._model(s||t,e,r,o),this.models[t]||(this.models[t]=u),u.init().catch(function(){}),u;if(this.models[t]&&r)return u=this.models[t],e=u.prototype.schema,u.__subclass(this,e,r);if(arguments.length===1){if(u=this.models[t],!u)throw new rn.MissingSchemaError(t);return u}if(!u)throw new rn.MissingSchemaError(t);return this===u.prototype.db&&(!r||r===u.collection.name)?(this.models[t]||(this.models[t]=u),u):(this.models[t]=u.__subclass(this,e,r),this.models[t])};oe.prototype.deleteModel=function(t){if(typeof t=="string"){let e=this.model(t);if(e==null)return this;let r=e.collection.name;delete this.models[t],delete this.collections[r],this.emit("deleteModel",e)}else if(t instanceof RegExp){let e=t,r=this.modelNames();for(let n of r)e.test(n)&&this.deleteModel(n)}else throw new Error('First parameter to `deleteModel()` must be a string or regexp, got "'+t+'"');return this};oe.prototype.watch=function(t,e){let r=s=>{iF(()=>{if(this.readyState===ot.connecting)this.once("open",function(){let i=this.db.watch(t,e);s(null,i)});else{let i=this.db.watch(t,e);s(null,i)}})};return new mre(r,t,e)};oe.prototype.asPromise=async function(){try{return await this.$initialConnection,this}catch(e){throw oF(e)}};oe.prototype.modelNames=function(){return Object.keys(this.models)};oe.prototype.shouldAuthenticate=function(){return this.user!=null&&(this.pass!=null||this.authMechanismDoesNotRequirePassword())};oe.prototype.authMechanismDoesNotRequirePassword=function(){return this.options&&this.options.auth?Dre.indexOf(this.options.auth.authMechanism)>=0:!0};oe.prototype.optionsProvideAuthenticationData=function(t){return t&&t.user&&(t.pass||this.authMechanismDoesNotRequirePassword())};oe.prototype.getClient=function(){return this.client};oe.prototype.setClient=function(){throw new rn("Connection#setClient not implemented by driver")};oe.prototype.createClient=function(){throw new rn("Connection#createClient not implemented by driver")};oe.prototype.syncIndexes=async function(e={}){let r={},n={},{continueOnError:s}=e;delete e.continueOnError;for(let i of Object.values(this.models))try{r[i.modelName]=await i.syncIndexes(e)}catch(o){if(s)r[i.modelName]=o;else{n[i.modelName]=o;break}}if(!s&&Object.keys(n).length){let i=Object.entries(n).map(([u,a])=>`${u}: ${a.message}`).join(", ");throw new _re(i,n)}return r};oe.STATES=ot;uF.exports=oe});var R_=y((Zfe,Mre)=>{Mre.exports={name:"mongoose",description:"Mongoose MongoDB ODM",version:"7.6.3",author:"Guillermo Rauch <guillermo@learnboost.com>",keywords:["mongodb","document","model","schema","database","odm","data","datastore","query","nosql","orm","db"],license:"MIT",dependencies:{bson:"^5.5.0",kareem:"2.5.1",mongodb:"5.9.0",mpath:"0.9.0",mquery:"5.0.0",ms:"2.1.3",sift:"16.0.1"},devDependencies:{"@babel/core":"7.23.0","@babel/preset-env":"7.22.20","@typescript-eslint/eslint-plugin":"5.62.0","@typescript-eslint/parser":"5.62.0",acquit:"1.3.0","acquit-ignore":"0.2.1","acquit-require":"0.1.1","assert-browserify":"2.0.0",axios:"1.1.3","babel-loader":"8.2.5",benchmark:"2.1.4","broken-link-checker":"^0.7.8",buffer:"^5.6.0",cheerio:"1.0.0-rc.12","crypto-browserify":"3.12.0",dotenv:"16.3.1",dox:"1.0.0",eslint:"8.50.0","eslint-plugin-markdown":"^3.0.0","eslint-plugin-mocha-no-only":"1.1.1",express:"^4.18.1","fs-extra":"~11.1.1","highlight.js":"11.8.0","lodash.isequal":"4.5.0","lodash.isequalwith":"4.4.0","markdownlint-cli2":"^0.10.0",marked:"4.3.0",mkdirp:"^3.0.1",mocha:"10.2.0",moment:"2.x","mongodb-memory-server":"8.15.1",ncp:"^2.0.0",nyc:"15.1.0",pug:"3.0.2",q:"1.5.1",sinon:"16.0.0","stream-browserify":"3.0.0",tsd:"0.29.0",typescript:"5.2.2",uuid:"9.0.1",webpack:"5.88.2"},directories:{lib:"./lib/mongoose"},scripts:{"docs:clean":"npm run docs:clean:stable","docs:clean:stable":"rimraf index.html && rimraf -rf ./docs/*.html  && rimraf -rf ./docs/api && rimraf -rf ./docs/tutorials/*.html && rimraf -rf ./docs/typescript/*.html && rimraf -rf ./docs/*.html && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:5x":"rimraf index.html && rimraf -rf ./docs/5.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:6x":"rimraf index.html && rimraf -rf ./docs/6.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:copy:tmp":"mkdirp ./tmp/docs/css && mkdirp ./tmp/docs/js && mkdirp ./tmp/docs/images && mkdirp ./tmp/docs/tutorials && mkdirp ./tmp/docs/typescript && mkdirp ./tmp/docs/api && ncp ./docs/css ./tmp/docs/css --filter=.css$ && ncp ./docs/js ./tmp/docs/js --filter=.js$ && ncp ./docs/images ./tmp/docs/images && ncp ./docs/tutorials ./tmp/docs/tutorials && ncp ./docs/typescript ./tmp/docs/typescript && ncp ./docs/api ./tmp/docs/api && cp index.html ./tmp && cp docs/*.html ./tmp/docs/","docs:copy:tmp:5x":"rimraf ./docs/5.x && ncp ./tmp ./docs/5.x","docs:move:6x:tmp":"mv ./docs/6.x ./tmp","docs:copy:tmp:6x":"rimraf ./docs/6.x && ncp ./tmp ./docs/6.x","docs:checkout:gh-pages":"git checkout gh-pages","docs:checkout:5x":"git checkout 5.x","docs:checkout:6x":"git checkout 6.x","docs:generate":"node ./scripts/website.js","docs:generate:search":"node ./scripts/generateSearch.js","docs:generate:sponsorData":"node ./scripts/loadSponsorData.js","docs:merge:stable":"git merge master","docs:merge:5x":"git merge 5.x","docs:merge:6x":"git merge 6.x","docs:test":"npm run docs:generate && npm run docs:generate:search","docs:view":"node ./scripts/static.js","docs:prepare:publish:stable":"npm run docs:checkout:gh-pages && npm run docs:merge:stable && npm run docs:clean:stable && npm run docs:generate && npm run docs:generate:search","docs:prepare:publish:5x":"npm run docs:checkout:5x && npm run docs:merge:5x && npm run docs:clean:stable && npm run docs:generate && npm run docs:copy:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:5x","docs:prepare:publish:6x":"npm run docs:checkout:6x && npm run docs:merge:6x && npm run docs:clean:stable && env DOCS_DEPLOY=true npm run docs:generate && npm run docs:move:6x:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:6x","docs:check-links":"blc http://127.0.0.1:8089 -ro",lint:"eslint .","lint-js":"eslint . --ext .js --ext .cjs","lint-ts":"eslint . --ext .ts","lint-md":'markdownlint-cli2 "**/*.md"',"build-browser":"(rm ./dist/* || true) && node ./scripts/build-browser.js",prepublishOnly:"npm run build-browser",release:"git pull && git push origin master --tags && npm publish","release-5x":"git pull origin 5.x && git push origin 5.x && git push origin 5.x --tags && npm publish --tag 5x","release-6x":"git pull origin 6.x && git push origin 6.x && git push origin 6.x --tags && npm publish --tag legacy",mongo:"node ./tools/repl.js",test:"mocha --exit ./test/*.test.js","test-deno":"deno run --allow-env --allow-read --allow-net --allow-run --allow-sys --allow-write ./test/deno.js","test-rs":"START_REPLICA_SET=1 mocha --timeout 30000 --exit ./test/*.test.js","test-tsd":"node ./test/types/check-types-filename && tsd",tdd:"mocha ./test/*.test.js --inspect --watch --recursive --watch-files ./**/*.{js,ts}","test-coverage":"nyc --reporter=html --reporter=text npm test","ts-benchmark":"cd ./benchmarks/typescript/simple && npm install && npm run benchmark | node ../../../scripts/tsc-diagnostics-check"},main:"./index.js",types:"./types/index.d.ts",engines:{node:">=14.20.1"},bugs:{url:"https://github.com/Automattic/mongoose/issues/new"},repository:{type:"git",url:"git://github.com/Automattic/mongoose.git"},homepage:"https://mongoosejs.com",browser:"./dist/browser.umd.js",config:{mongodbMemoryServer:{disablePostinstall:!0}},funding:{type:"opencollective",url:"https://opencollective.com/mongoose"},tsd:{directory:"test/types",compilerOptions:{esModuleInterop:!1,strict:!0,allowSyntheticDefaultImports:!0,strictPropertyInitialization:!1,noImplicitAny:!1,strictNullChecks:!0,module:"commonjs",target:"ES2017"}}}});var lF=y((ehe,cF)=>{"use strict";var Fre=gt(),Ire=Ke();function $re(t,e){let r=e||{},n=r.readPreference?r.readPreference:vre(t),s=Fre(r);return n&&n!=="primary"&&n!=="primaryPreferred"?Nre(n,s):s}function Nre(t,e){if(Rre(e)&&xre(t))qre();else return kre(e)}function Rre(t){let e=t.config&&t.config.autoIndex,{autoCreate:r,autoIndex:n}=t;return!!(e||r||n)}function xre(t){return t==="secondary"||t==="secondaryPreferred"}function vre(t){let r=/(?:&|\?)readPreference=(\w+)(?:&|$)/.exec(t);return r?r[1]:null}function kre(t){return t.config={autoIndex:!1},t.autoCreate=!1,t.autoIndex=!1,t}function qre(){throw new Ire('MongoDB prohibits index creation on connections that read from non-primary replicas.  Connections that set "readPreference" to "secondary" or "secondaryPreferred" may not opt-in to the following connection options: autoCreate, autoIndex')}cF.exports=$re});var hF=y(fF=>{"use strict";fF.setTimeout=setTimeout});var gF=y((rhe,yF)=>{"use strict";var dF=aF(),wu=Ke(),nn=Fu(),pF=T1(),Lre=R_(),jre=lF(),Ure=hF().setTimeout,mF=ie();function bo(){dF.apply(this,arguments),this._listening=!1}bo.STATES=nn;Object.setPrototypeOf(bo.prototype,dF.prototype);bo.prototype.useDb=function(t,e){if(e=e||{},e.useCache&&this.relatedDbs[t])return this.relatedDbs[t];let r=new this.constructor;r.name=t,r.base=this.base,r.collections={},r.models={},r.replica=this.replica,r.config=Object.assign({},this.config,r.config),r.name=this.name,r.options=this.options,r._readyState=this._readyState,r._closeCalled=this._closeCalled,r._hasOpened=this._hasOpened,r._listening=!1,r._parent=this,r.host=this.host,r.port=this.port,r.user=this.user,r.pass=this.pass;let n=this;r.client=n.client,this.db&&this._readyState===nn.connected?s():this.once("connected",s);function s(){r.client=n.client;let i={};e.hasOwnProperty("noListener")&&(i.noListener=e.noListener),r.db=n.client.db(t,i),r.onOpen()}return r.name=t,e.noListener!==!0&&this.otherDbs.push(r),r.otherDbs.push(this),e&&e.useCache&&(this.relatedDbs[r.name]=r,r.relatedDbs=this.relatedDbs),r};bo.prototype.removeDb=function(e){let r=this.otherDbs.filter(n=>n.name===e);if(!r.length)throw new wu(`No connections to database "${e}" found`);for(let n of r)n._closeCalled=!0,n._destroyCalled=!0,n._readyState=nn.disconnected,n.$wasForceClosed=!0;delete this.relatedDbs[e],this.otherDbs=this.otherDbs.filter(n=>n.name!==e)};bo.prototype.doClose=async function(e){if(this.client==null)return this;let r=!1;return e!=null&&typeof e=="object"&&(r=e.skipCloseClient,e=e.force),r?this:(await this.client.close(e),await new Promise(n=>Ure(n,1)),this)};bo.prototype.createClient=async function(e,r){if(typeof e!="string")throw new wu(`The \`uri\` parameter to \`openUri()\` must be a string, got "${typeof e}". Make sure the first parameter to \`mongoose.connect()\` or \`mongoose.createConnection()\` is a string.`);if(this._destroyCalled)throw new wu("Connection has been closed and destroyed, and cannot be used for re-opening the connection. Please create a new connection with `mongoose.createConnection()` or `mongoose.connect()`.");if((this.readyState===nn.connecting||this.readyState===nn.connected)&&this._connectionString!==e)throw new wu("Can't call `openUri()` on an active connection with different connection strings. Make sure you aren't calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections");if(r=jre(e,r),r){let i=r.config&&r.config.autoIndex!=null?r.config.autoIndex:r.autoIndex;i!=null&&(this.config.autoIndex=i!==!1,delete r.config,delete r.autoIndex),"autoCreate"in r&&(this.config.autoCreate=!!r.autoCreate,delete r.autoCreate),"sanitizeFilter"in r&&(this.config.sanitizeFilter=r.sanitizeFilter,delete r.sanitizeFilter),(r.user||r.pass)&&(r.auth=r.auth||{},r.auth.username=r.user,r.auth.password=r.pass,this.user=r.user,this.pass=r.pass),delete r.user,delete r.pass,r.bufferCommands!=null&&(this.config.bufferCommands=r.bufferCommands,delete r.bufferCommands)}else r={};this._connectionOptions=r;let n=r.dbName;n!=null&&(this.$dbName=n),delete r.dbName,mF.hasUserDefinedProperty(r,"driverInfo")||(r.driverInfo={name:"Mongoose",version:Lre.version}),this.readyState=nn.connecting,this._connectionString=e;let s;try{s=new pF.MongoClient(e,r)}catch(i){throw this.readyState=nn.disconnected,i}this.client=s,s.setMaxListeners(0),await s.connect(),x_(this,s,r,n);for(let i of this.otherDbs)x_(i,s,{},i.name);return this};bo.prototype.setClient=function(e){if(!(e instanceof pF.MongoClient))throw new wu("Must call `setClient()` with an instance of MongoClient");if(this.readyState!==nn.disconnected)throw new wu("Cannot call `setClient()` on a connection that is already connected.");if(e.topology==null)throw new wu("Cannot call `setClient()` with a MongoClient that you have not called `connect()` on yet.");this._connectionString=e.s.url,x_(this,e,{},e.s.options.dbName);for(let r of Object.values(this.models))r.init().catch(function(){});return this};function x_(t,e,r,n){let s=n!=null?e.db(n):e.db();t.db=s,t.client=e,t.host=e&&e.s&&e.s.options&&e.s.options.hosts&&e.s.options.hosts[0]&&e.s.options.hosts[0].host||void 0,t.port=e&&e.s&&e.s.options&&e.s.options.hosts&&e.s.options.hosts[0]&&e.s.options.hosts[0].port||void 0,t.name=n??s.databaseName,t._closeCalled=e._closeCalled;let i=()=>{t.readyState!==nn.connected&&(t.readyState=nn.connected,t.emit("reconnect"),t.emit("reconnected"),t.onOpen())},o=e&&e.topology&&e.topology.description&&e.topology.description.type||"";o==="Single"?e.on("serverDescriptionChanged",u=>{u.newDescription.type==="Unknown"?t.readyState=nn.disconnected:i()}):o.startsWith("ReplicaSet")&&e.on("topologyDescriptionChanged",u=>{let a=u.newDescription;t.readyState===nn.connected&&a.type!=="ReplicaSetWithPrimary"?t.readyState=nn.disconnected:t.readyState===nn.disconnected&&a.type==="ReplicaSetWithPrimary"&&i()}),t.onOpen();for(let u in t.collections)mF.object.hasOwnProperty(t.collections,u)&&t.collections[u].onOpen()}yF.exports=bo});var EF=y(v_=>{"use strict";v_.Collection=Lw();v_.Connection=gF()});var AF=y((she,_F)=>{"use strict";var Vre=Object.freeze(["allowDiskUse","applyPluginsToChildSchemas","applyPluginsToDiscriminators","autoCreate","autoIndex","bufferCommands","bufferTimeoutMS","cloneSchemas","debug","id","timestamps.createdAt.immutable","maxTimeMS","objectIdGetter","overwriteModels","returnOriginal","runValidators","sanitizeFilter","sanitizeProjection","selectPopulatedPaths","setDefaultsOnInsert","strict","strictPopulate","strictQuery","toJSON","toObject","translateAliases"]);_F.exports=Vre});var CF=y((ihe,OF)=>{"use strict";var Wre=Ke(),nm=class extends Wre{constructor(e){let r=e.map(n=>n.message).join(", ");r.length>50&&(r=r.slice(0,50)+"..."),super(`eachAsync() finished with ${e.length} errors: ${r}`),this.errors=e}};Object.defineProperty(nm.prototype,"name",{value:"EachAsyncMultiError"});OF.exports=nm});var q_=y((ohe,wF)=>{"use strict";var zre=CF(),k_=on();wF.exports=async function(e,r,n){let s=n.parallel||1,i=n.batchSize,o=n.signal,u=n.continueOnError,a=[],c=Hre(),l=!1;return new Promise((d,p)=>{if(o!=null){if(o.aborted)return d(null);o.addEventListener("abort",()=>(l=!0,d(null)),{once:!0})}if(i!=null){if(typeof i!="number")throw new TypeError("batchSize must be a number");if(Number.isInteger(i)){if(i<1)throw new TypeError("batchSize must be at least 1")}else throw new TypeError("batchSize must be an integer")}f((m,g)=>{if(m!=null)return p(m);d(g)})});function f(d){let p=0,m=0,g=null;for(let E=0;E<s;++E)c(_());function _(){let E=[],A=!1;return C;function C(T){if(A||l)return T();if(g)return T();e(function(L,F){if(g!=null)return T();if(L!=null)if(L.name==="MongoCursorExhaustedError")F=null;else if(u)a.push(L);else return g=L,d(L),T();if(F==null){if(A=!0,p<=0){let W=u?SF(a):g;d(W)}else i&&E.length&&h(E,m++,V);return T()}if(++p,k_(()=>T()),i&&E.push(F),i&&E.length!==i){k_(()=>c(C));return}let P=i?E:F;function V(W){if(i?(p-=E.length,E=[]):--p,W!=null)if(u)a.push(W);else return g=W,d(W);if((A||l)&&p<=0){let $=u?SF(a):g;return d($)}k_(()=>c(C))}h(P,m++,V)})}}}function h(d,p,m){let g;try{g=r(d,p)}catch(_){return m(_)}g&&typeof g.then=="function"?g.then(function(){m(null)},function(_){m(_||new Error("`eachAsync()` promise rejected without error"))}):m(null)}};function Hre(){let t=[],e=null,r=0;return function(i){if(e===null&&t.length===0)return e=r++,i(n);t.push(i)};function n(){t.length!==0?(e=r++,t.shift()(n)):e=null}}function SF(t){return t.length===0?null:new zre(t)}});var $F=y((uhe,IF)=>{"use strict";var j_=st(),TF=require("stream").Readable,Gre=q_(),PF=cc(),Kre=rl(),L_=on(),MF=require("util");function sn(t){TF.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.skipped=!1,this.query=t;let e=t.model;this._mongooseOptions={},this._transforms=[],this.model=e,this.options={},e.hooks.execPre("find",t,r=>{if(r!=null){if(r instanceof Kre.skipWrappedFunction){let n=r.args[0];if(n!=null&&(!Array.isArray(n)||n.length)){let s=new j_('Cannot `skipMiddlewareFunction()` with a value when using `.find().cursor()`, value must be nullish or empty array, got "'+MF.inspect(n)+'".');this._markError(s),this.listeners("error").length>0&&this.emit("error",s);return}this.skipped=!0,this.emit("cursor",null);return}this._markError(r),this.listeners("error").length>0&&this.emit("error",r);return}Object.assign(this.options,t._optionsForExec()),this._transforms=this._transforms.concat(t._transforms.slice()),this.options.transform&&this._transforms.push(this.options.transform),this.options.batchSize&&(this.options._populateBatchSize=Math.min(this.options.batchSize,5e3)),e.collection._shouldBufferCommands()&&e.collection.buffer?e.collection.queue.push([()=>bF(t,this)]):bF(t,this)})}MF.inherits(sn,TF);function bF(t,e){try{let r=t.model.collection.find(t._conditions,e.options);e.cursor=r,e.emit("cursor",r)}catch(r){e._markError(r),e.listeners("error").length>0&&e.emit("error",e._error)}}sn.prototype._read=function(){im(this,(t,e)=>{if(t)return this.emit("error",t);if(!e){this.push(null),this.cursor.close(function(r){if(r)return this.emit("error",r)});return}this.push(e)})};Object.defineProperty(sn.prototype,"map",{value:function(t){return this._transforms.push(t),this},enumerable:!0,configurable:!0,writable:!0});sn.prototype._markError=function(t){return this._error=t,this};sn.prototype.close=async function(){if(typeof arguments[0]=="function")throw new j_("QueryCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close(),this.emit("close")}catch(e){throw this.listeners("error").length>0&&this.emit("error",e),e}};sn.prototype.rewind=function(){return FF(this,()=>{this.cursor.rewind()}),this};sn.prototype.next=async function(){if(arguments[0]==="function")throw new j_("QueryCursor.prototype.next() no longer accepts a callback");return new Promise((e,r)=>{im(this,function(n,s){if(n)return r(n);e(s)})})};sn.prototype.eachAsync=function(t,e,r){return typeof e=="function"&&(r=e,e={}),e=e||{},Gre(n=>im(this,n),t,e,r)};sn.prototype.options;sn.prototype.addCursorFlag=function(t,e){return FF(this,()=>{this.cursor.addCursorFlag(t,e)}),this};sn.prototype.transformNull=function(t){return arguments.length===0&&(t=!0),this._mongooseOptions.transformNull=t,this};sn.prototype._transformForAsyncIterator=function(){return this._transforms.indexOf(DF)===-1&&this.map(DF),this};Symbol.asyncIterator!=null&&(sn.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()});function DF(t){return t==null?{done:!0}:{value:t,done:!1}}function im(t,e){let r=e;if(t._transforms.length&&(r=function(n,s){if(n||s===null&&!t._mongooseOptions.transformNull)return e(n,s);e(n,t._transforms.reduce(function(i,o){return o.call(t,i)},s))}),t._error)return L_(function(){r(t._error)});if(t.skipped)return L_(()=>r(null,null));if(t.cursor)if(t.query._mongooseOptions.populate&&!t._pop&&(t._pop=PF.preparePopulationOptionsMQ(t.query,t.query._mongooseOptions),t._pop.__noPromise=!0),t.query._mongooseOptions.populate&&t.options._populateBatchSize>1){if(t._batchDocs&&t._batchDocs.length)return sm(t,t._batchDocs.shift(),t._pop,r);if(t._batchExhausted)return r(null,null);t._batchDocs=[],t.cursor.next().then(n=>{Bc.call({ctx:t,callback:r},null,n)},n=>{Bc.call({ctx:t,callback:r},n)});return}else return t.cursor.next().then(n=>{if(!n){r(null,null);return}if(!t.query._mongooseOptions.populate)return sm(t,n,null,r);t.query.model.populate(n,t._pop).then(s=>{sm(t,s,t._pop,r)},s=>{r(s)})},n=>{r(n)});else t.once("error",e),t.once("cursor",function(n){if(t.removeListener("error",e),n==null)return t.skipped?e(null,null):void 0;im(t,e)})}function Bc(t,e){if(t)return this.callback(t);if(!e)return this.ctx._batchExhausted=!0,BF.call(this);if(this.ctx._batchDocs.push(e),this.ctx._batchDocs.length<this.ctx.options._populateBatchSize){if(this.ctx._batchDocs.length>0&&this.ctx._batchDocs.length%1e3===0)return L_(()=>this.ctx.cursor.next().then(r=>{Bc.call(this,null,r)},r=>{Bc.call(this,r)}));this.ctx.cursor.next().then(r=>{Bc.call(this,null,r)},r=>{Bc.call(this,r)})}else BF.call(this)}function BF(){if(!this.ctx._batchDocs.length)return this.callback(null,null);this.ctx.query.model.populate(this.ctx._batchDocs,this.ctx._pop).then(()=>{sm(this.ctx,this.ctx._batchDocs.shift(),this.ctx._pop,this.callback)},t=>{this.callback(t)})}function sm(t,e,r,n){if(t.query._mongooseOptions.lean)return t.model.hooks.execPost("find",t.query,[[e]],a=>{if(a!=null)return n(a);n(null,e)});let{model:s,_fields:i,_userProvidedFields:o,options:u}=t.query;PF.createModelAndInit(s,e,i,o,u,r,(a,c)=>{if(a!=null)return n(a);t.model.hooks.execPost("find",t.query,[[c]],l=>{if(l!=null)return n(l);n(null,c)})})}function FF(t,e){if(t.cursor)return e();t.once("cursor",function(r){r!=null&&e()})}IF.exports=sn});var V_=y((ahe,RF)=>{"use strict";var U_=ie();function Yre(t,e){NF(t,e,"maxTimeMS")}function Qre(t,e){NF(t,e,"allowDiskUse")}RF.exports={applyGlobalMaxTimeMS:Yre,applyGlobalDiskUse:Qre};function NF(t,e,r){U_.hasUserDefinedProperty(t,r)||(U_.hasUserDefinedProperty(e.db.options,r)?t[r]=e.db.options[r]:U_.hasUserDefinedProperty(e.base.options,r)&&(t[r]=e.base.options[r]))}});var W_=y((che,xF)=>{"use strict";var Jre=at();xF.exports=function(e,r){if(r.writeConcern!=null)return;let n=Jre(e,"options.writeConcern",{});Object.keys(n).length!=0?(r.writeConcern={},!("w"in r)&&n.w!=null&&(r.writeConcern.w=n.w),!("j"in r)&&n.j!=null&&(r.writeConcern.j=n.j),!("wtimeout"in r)&&n.wtimeout!=null&&(r.writeConcern.wtimeout=n.wtimeout)):(!("w"in r)&&n.w!=null&&(r.w=n.w),!("j"in r)&&n.j!=null&&(r.j=n.j),!("wtimeout"in r)&&n.wtimeout!=null&&(r.wtimeout=n.wtimeout))}});var qF=y((lhe,kF)=>{"use strict";var vF=S0();kF.exports=function(e,r,n){let s=e;if(!Object.keys(n).some(vF))return r.castForQuery(null,n,s);let o=Object.keys(n),u=o.length;for(;u--;){let a=o[u],c=n[a];if(a==="$not"){if(c&&r&&!r.caster){let l=Object.keys(c);if(l.length&&vF(l[0]))for(let f of Object.keys(c))c[f]=r.castForQuery(f,c[f],s);else n[a]=r.castForQuery(a,c,s);continue}}else n[a]=r.castForQuery(a,c,s)}return n}});var jF=y((fhe,LF)=>{"use strict";var Xre=/^\d+$/;LF.exports=function(e,r){let n=e.path(r);if(n!=null)return n;let s=r.split("."),i="",o=!1;for(let u of s)o&&Xre.test(u)||(i=i.length===0?u:i+"."+u,n=e.path(i),n!=null&&n.schema&&(e=n.schema,i="",!o&&n.$isMongooseDocumentArray&&(o=!0)));return n}});var z_=y((hhe,VF)=>{"use strict";var UF=oc().modifiedPaths;VF.exports=function(e){let r=Object.keys(e),n={},s={};for(let i of r){if(i.startsWith("$")){UF(e[i],"",n);continue}s[i]=e[i]}return UF(s,"",n),n}});var H_=y((dhe,WF)=>{"use strict";var Zre=z_();WF.exports=function(e){if(e==null)return{};let r=Zre(e);return Object.keys(r).reduce((n,s)=>{let i=s.match(/\$\[[^\]]+\]/g);if(i==null)return n;for(let o of i){let u=s.indexOf(o);if(u!==s.lastIndexOf(o))throw new Error(`Path '${s}' contains the same array filter multiple times`);n[o.substring(2,o.length-1)]=s.substring(0,u-1).replace(/\$\[[^\]]+\]/g,"0")}return n},{})}});var YF=y((phe,KF)=>{"use strict";var ene=qF(),zF=al(),HF=jF(),tne=H_();KF.exports=function(e){let r=e.options.arrayFilters,n=e.getUpdate(),s=e.schema,i=tne(n),o=s.options.strict;e._mongooseOptions.strict!=null&&(o=e._mongooseOptions.strict),e.model&&e.model.base.options.strictQuery!=null&&(o=e.model.base.options.strictQuery),s._userProvidedOptions.strictQuery!=null&&(o=s._userProvidedOptions.strictQuery),e._mongooseOptions.strictQuery!=null&&(o=e._mongooseOptions.strictQuery),GF(r,s,o,i,e)};function GF(t,e,r,n,s){if(Array.isArray(t))for(let i of t){if(i==null)throw new Error(`Got null array filter in ${t}`);let o=Object.keys(i).filter(d=>i[d]!=null);if(o.length===0)continue;let u=o[0];if(u==="$and"||u==="$or"){for(let d of o)GF(i[d],e,r,n,s);continue}let a=u.indexOf("."),c=a===-1?u:u.substring(0,a);if(n[c]==null)continue;let l=zF(n[c]),f=HF(e,l),h=f!=null?f.schema:null;h!=null&&h.discriminators!=null&&i[c+"."+h.options.discriminatorKey]&&(h=h.discriminators[i[c+"."+h.options.discriminatorKey]]||h);for(let d of o){if(n[d]===null||Object.keys(n).length===0)continue;let p=d.indexOf("."),m=p===-1?null:d.substring(p),g;if(m==null||h==null?g=f:(m=zF(m),g=HF(h,m)),g==null){if(!r)return;let _=m==null?l+".0":l+".0"+m;throw new Error(`Could not find path "${_}" in schema`)}typeof i[d]=="object"?i[d]=ene(s,g,i[d]):i[d]=g.castForQuery(null,i[d])}}}});var XF=y((mhe,JF)=>{"use strict";var rne=al(),QF=at(),nne=As(),sne=H_();JF.exports=function(e,r,n,s,i){let o=s.split("."),u=null,a="adhocOrUndefined";n=n||{},r=r||{};let c=i!=null&&Array.isArray(i.arrayFilters)?i.arrayFilters:[],l=sne(r);for(let f=0;f<o.length;++f){let h=rne(o.slice(0,f+1).join("."));if(u=e.path(h),u!=null&&(a=e.pathType(h),(u.$isSingleNested||u.$isMongooseDocumentArrayElement)&&u.schema.discriminators!=null)){let d=QF(u,"schema.options.discriminatorKey"),p=h+"."+d,m=p.replace(/\.\d+\./,"."),g=null;p in n&&(g=n[p]),m in n&&(g=n[m]);let _=h.replace(/\.\d+$/,"");u.$isMongooseDocumentArrayElement&&QF(n[_],"$elemMatch."+d)!=null&&(g=n[_].$elemMatch[d]),p in r&&(g=r[p]);for(let T of Object.keys(l)){let L=l[T]+"."+d,F=T+"."+d;if(L===m){let P=c.find(V=>V.hasOwnProperty(F));P!=null&&(g=P[F])}}if(g==null)continue;let E=nne(u.caster.discriminators,g),A=E&&E.schema;if(A==null)continue;let C=o.slice(f+1).join(".");if(u=A.path(C),u!=null){a=A._getPathType(C);break}}}return{type:a,schematype:u}}});var eI=y((yhe,ZF)=>{"use strict";var ine=yo();ZF.exports=function(e,r,n,s,i,o){if(e==null||!e.options||!e.options.immutable)return!1;let u=e.options.immutable;if(typeof u=="function"&&(u=u.call(o,o)),!u||r===!1)return!1;if(r==="throw")throw new ine(null,`Field ${i} is immutable and strict = 'throw'`);return delete n[s],!0}});var nI=y((ghe,rI)=>{"use strict";var one=at();rI.exports=function(e,r,n){if(r==null)return;let s=Object.keys(r);for(let i of s){let o=i.startsWith("$");if(i==="$set"){let u=Object.keys(r[i]);for(let a of u)tI(e,r[i],a,r,n)}else o||tI(e,r,i,r,n)}};function tI(t,e,r,n,s){let i=t.path(r);if(i==null)return;let o=one(i,"options.immutable",null);o!=null&&(typeof o=="function"&&(o=o.call(s,s)),o&&(n.$setOnInsert=n.$setOnInsert||{},n.$setOnInsert[r]=e[r],delete e[r]))}});var K_=y((Ehe,sI)=>{"use strict";var G_=Qa();sI.exports=function(e,r,n){if(r.indexOf(".")===-1){if(G_.has(r))return;e[r]=n;return}let s=r.split("."),i=s.pop(),o=e;for(let u of s)G_.has(u)||(o[u]==null&&(o[u]={}),o=o[u]);G_.has(i)||(o[i]=n)}});var tA=y((_he,fI)=>{"use strict";var Y_=$r(),Dl=st(),iI=yo(),une=lu(),Q_=fl(),ane=gc(),cne=Gr(),oI=XF(),uI=eI(),lne=nI(),lI=hu().schemaMixedSymbol,fne=K_(),eA=ie(),J_=new Set(["$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$bit"]);fI.exports=function(e,r,n,s,i){if(r==null)return;if(n=n||{},Array.isArray(r)){let h=r.length;for(let d=0;d<h;++d){let p=Object.keys(r[d]);for(let m of p)r[d][m]=hne(m,r[d][m])}return r}n.upsert&&!n.overwrite&&lne(e,r,s);let o=Object.keys(r),u=o.length,a={},c,l=!1,f=n.overwrite;for(i=i||{};u--;){let h=o[u];!J_.has(h)&&!f?(a.$set||(r.$set?a.$set=r.$set:a.$set={}),a.$set[h]=r[h],o.splice(u,1),~o.indexOf("$set")||o.push("$set")):h==="$set"&&a.$set||(a[h]=r[h])}for(u=o.length;u--;){let h=o[u];if(c=a[h],l=l||h.startsWith("$"),c&&typeof c=="object"&&!Buffer.isBuffer(c)&&(!f||J_.has(h)))X_(e,c,h,n,s,i);else if(f&&a&&typeof a=="object")X_(e,a,"$set",n,s,i);else{let d="Invalid atomic update value for "+h+". Expected an object, received "+typeof c;throw new Error(d)}h.startsWith("$")&&eA.isEmptyObject(c)&&delete a[h]}return Object.keys(a).length===0&&n.upsert&&Object.keys(i).length>0?{$setOnInsert:{...i}}:a};function hne(t,e){if(t==="$unset"){if(typeof e!="string"&&(!Array.isArray(e)||e.find(r=>typeof r!="string")))throw new Dl("Invalid $unset in pipeline, must be  a string or an array of strings");return e}if(t==="$project"){if(e==null||typeof e!="object")throw new Dl("Invalid $project in pipeline, must be an object");return e}if(t==="$addFields"||t==="$set"){if(e==null||typeof e!="object")throw new Dl("Invalid "+t+" in pipeline, must be an object");return e}else if(t==="$replaceRoot"||t==="$replaceWith"){if(e==null||typeof e!="object")throw new Dl("Invalid "+t+" in pipeline, must be an object");return e}throw new Dl('Invalid update pipeline operator: "'+t+'"')}function X_(t,e,r,n,s,i,o){let u=n.strict,a=o?o+".":"",c=Object.keys(e),l=c.length,f=!1,h,d,p,m=null,g=u??t.options.strict;for(;l--;){if(d=c[l],p=e[d],r==="$pull"&&(h=t._getSchema(a+d),h!=null&&h.schema!=null)){e[d]=ane(h.schema,e[d],n,s),f=!0;continue}let _=a?a+d:d;if(t.discriminatorMapping!=null&&_===t.options.discriminatorKey&&t.discriminatorMapping.value!==e[d]&&!n.overwriteDiscriminatorKey){if(g==="throw"){let E=new Error(`Can't modify discriminator key "`+_+'" on discriminator model');m=Tc(E,s,_,m);continue}else if(g){delete e[d];continue}}if(cne(p)==="Object"){if(h=t._getSchema(a+d),h==null){let E=oI(t,e,i,a+d,n);E.schematype!=null&&(h=E.schematype)}if(r!=="$setOnInsert"&&!n.overwrite&&uI(h,u,e,d,a+d,s))continue;if(h&&h.caster&&r in Z_)if("$each"in p){f=!0;try{e[d]={$each:Bl(h,p.$each,r,d,s,a+d)}}catch(E){m=Tc(E,s,d,m)}p.$slice!=null&&(e[d].$slice=p.$slice|0),p.$sort&&(e[d].$sort=p.$sort),p.$position!=null&&(e[d].$position=Q_(p.$position))}else{if(h!=null&&h.$isSingleNested){let E=u??h.schema.options.strict;try{e[d]=h.castForQuery(null,p,s,{strict:E})}catch(A){m=Tc(A,s,d,m)}}else try{e[d]=Bl(h,p,r,d,s,a+d)}catch(E){m=Tc(E,s,d,m)}if(e[d]===void 0){delete e[d];continue}f=!0}else if(r==="$currentDate"||r in Z_&&h){try{e[d]=Bl(h,p,r,d,s,a+d)}catch(E){m=Tc(E,s,d,m)}if(e[d]===void 0){delete e[d];continue}f=!0}else{let E=a+d,A=t._getPathType(E),C=u;if(A&&A.schema&&C==null&&(C=A.schema.options.strict),A.pathType==="undefined"){if(C==="throw")throw new iI(E);if(C){delete e[d];continue}}f|=X_(t,p,r,n,s,i,a+d)||eA.isObject(p)&&Object.keys(p).length===0}}else{let E=d==="$each"||d==="$or"||d==="$and"||d==="$in"?o:a+d;if(h=t._getSchema(E),r!=="$setOnInsert"&&!n.overwrite&&uI(h,u,e,d,a+d,s))continue;let A=t._getPathType(E);if(h==null){let L=oI(t,e,i,E,n);L.schematype!=null&&(h=L.schematype,A=L.type)}let C=u;if(A&&A.schema&&u==null&&(C=A.schema.options.strict),C&&!h&&!/real|nested/.test(A.pathType)){if(C==="throw"&&t.virtuals[E]==null)throw new iI(a+d);delete e[d]}else{if(r==="$rename"){f=!0;continue}try{a.length===0||d.indexOf(".")===-1?e[d]=Bl(h,p,r,d,s,a+d):(C!==!1||h!=null)&&(fne(e,d,Bl(h,p,r,d,s,a+d)),delete e[d])}catch(L){m=Tc(L,s,d,m)}if(Array.isArray(e[d])&&(r==="$addToSet"||r==="$push")&&d!=="$each"&&h&&h.caster&&!h.caster.$isMongooseArray&&!h.caster[lI]&&(e[d]={$each:e[d]}),e[d]===void 0){delete e[d];continue}f=!0}}}if(m!=null)throw m;return f}function Tc(t,e,r,n){if(typeof e!="object"||!e.options.multipleCastError)throw t;return n=n||new une,n.addError(r,t),n}var aI={$pop:1,$inc:1},dne={$unset:1},Z_={$push:1,$addToSet:1,$set:1,$setOnInsert:1};var cI={$set:1,$setOnInsert:1};function Bl(t,e,r,n,s,i){if(!t){if(r in aI)try{return Q_(e)}catch{throw new Y_("number",e,i)}return e}if(t.caster&&r in Z_&&(eA.isObject(e)||Array.isArray(e))&&!cI[r]){let u=0,a=t;for(;a.$isMongooseArray;)++u,a=a.caster;let c=0,l=e;for(;Array.isArray(l);)++c,l=l[0];let f=u-c;for(;c<u;)e=[e],++c;let h=t.applySetters(Array.isArray(e)?e:[e],s);for(let d=0;d<f;++d)h=h[0];return h}if(r in dne)return e;if(r in aI){if(e==null)throw new Y_("number",e,t.path);if(r==="$inc")return t.castForQuery(null,e,s);try{return Q_(e)}catch{throw new Y_("number",e,t.path)}}if(r==="$currentDate")return typeof e=="object"?{$type:e.$type}:!!e;if(J_.has(n))return t.castForQuery(n,e,s);if(cI[r]){let u=e!=null&&t.$isMongooseArray&&t.$fullPath!=null&&!t.$fullPath.match(/\d+$/),a=t[lI]!=null;return u||a?t.applySetters(e,s):t.castForQuery(null,e,s)}return t.castForQuery(null,e,s)}});var dI=y((Ahe,hI)=>{"use strict";var pne=cc();hI.exports=mne;async function mne(t,e,r,n,s){return Promise.all(e.map(i=>new Promise((o,u)=>{let a=i;i=pne.createModel(t,i,r,n),s.session!=null&&i.$session(s.session),i.$init(a,s,c=>{if(c!=null)return u(c);o(i)})})))}});var om=y((Ohe,pI)=>{"use strict";pI.exports=function(e){if(typeof e!="object"||e===null)return!1;let r=Object.keys(e),n=r.length;for(let s=0;s<n;++s)if(r[s][0]==="$")return!0;return!1}});var um=y((Che,mI)=>{"use strict";var yne=uc();mI.exports=function t(e){if(e==null)return!1;let r=Object.keys(e),n=r.length;if(n===0)return!1;for(let s=0;s<n;++s){let i=r[s];if(!i.startsWith("+")&&yne(e[i])&&e[i])return e[i]!=null&&typeof e[i]=="object"?t(e[i]):!!e[i]}return!1}});var gI=y((She,yI)=>{"use strict";yI.exports=function(e,r){return e===r||r.startsWith(e+".")}});var EI=y(Mt=>{"use strict";var rA=["__proto__","constructor","prototype"],am=Mt.clone=function t(e,r){if(e==null)return e;if(Array.isArray(e))return Mt.cloneArray(e,r);if(e.constructor){if(/ObjectI[dD]$/.test(e.constructor.name))return typeof e.clone=="function"?e.clone():new e.constructor(e.id);if(e.constructor.name==="ReadPreference")return new e.constructor(e.mode,t(e.tags,r));if(e._bsontype=="Binary"&&e.buffer&&e.value)return typeof e.clone=="function"?e.clone():new e.constructor(e.value(!0),e.sub_type);if(e.constructor.name==="Date"||e.constructor.name==="Function")return new e.constructor(+e);if(e.constructor.name==="RegExp")return new RegExp(e);if(e.constructor.name==="Buffer")return Buffer.from(e)}if(Ene(e))return Mt.cloneObject(e,r);if(e.valueOf)return e.valueOf()};Mt.cloneObject=function(e,r){let n=r&&r.minimize,s={},i=Object.keys(e),o=i.length,u=!1,a,c="",l=0;for(l=0;l<o;++l)c=i[l],rA.indexOf(c)===-1&&(a=am(e[c],r),(!n||typeof a<"u")&&(u||(u=!0),s[c]=a));return n?u&&s:s};Mt.cloneArray=function(e,r){let n=[],s=e.length,i=0;for(;i<s;i++)n.push(am(e[i],r));return n};Mt.merge=function t(e,r){let n=Object.keys(r);for(let s of n)rA.indexOf(s)===-1&&(typeof e[s]>"u"?e[s]=r[s]:Mt.isObject(r[s])?t(e[s],r[s]):e[s]=r[s])};Mt.mergeClone=function t(e,r){let n=Object.keys(r);for(let s of n)rA.indexOf(s)===-1&&(typeof e[s]>"u"?e[s]=am(r[s]):Mt.isObject(r[s])?t(e[s],r[s]):e[s]=am(r[s]))};Mt.readPref=function(e){switch(e){case"p":e="primary";break;case"pp":e="primaryPreferred";break;case"s":e="secondary";break;case"sp":e="secondaryPreferred";break;case"n":e="nearest";break}return e};Mt.readConcern=function(e){if(typeof e=="string"){switch(e){case"l":e="local";break;case"a":e="available";break;case"m":e="majority";break;case"lz":e="linearizable";break;case"s":e="snapshot";break}e={level:e}}return e};var gne=Object.prototype.toString;Mt.toString=function(t){return gne.call(t)};var Ene=Mt.isObject=function(t){return Mt.toString(t)=="[object Object]"};Mt.keys=Object.keys;Mt.create=typeof Object.create=="function"?Object.create:_ne;function _ne(t){if(arguments.length>1)throw new Error("Adding properties is not supported");function e(){}return e.prototype=t,new e}Mt.inherits=function(t,e){t.prototype=Mt.create(e.prototype),t.prototype.constructor=t};Mt.isArgumentsObject=function(t){return Object.prototype.toString.call(t)==="[object Arguments]"}});var AI=y((bhe,_I)=>{var Pc=1e3,Mc=Pc*60,Fc=Mc*60,bu=Fc*24,Ane=bu*7,One=bu*365.25;_I.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Cne(t);if(r==="number"&&isFinite(t))return e.long?wne(t):Sne(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Cne(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*One;case"weeks":case"week":case"w":return r*Ane;case"days":case"day":case"d":return r*bu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Fc;case"minutes":case"minute":case"mins":case"min":case"m":return r*Mc;case"seconds":case"second":case"secs":case"sec":case"s":return r*Pc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Sne(t){var e=Math.abs(t);return e>=bu?Math.round(t/bu)+"d":e>=Fc?Math.round(t/Fc)+"h":e>=Mc?Math.round(t/Mc)+"m":e>=Pc?Math.round(t/Pc)+"s":t+"ms"}function wne(t){var e=Math.abs(t);return e>=bu?cm(t,e,bu,"day"):e>=Fc?cm(t,e,Fc,"hour"):e>=Mc?cm(t,e,Mc,"minute"):e>=Pc?cm(t,e,Pc,"second"):t+" ms"}function cm(t,e,r,n){var s=e>=r*1.5;return Math.round(t/r)+" "+n+(s?"s":"")}});var nA=y((Dhe,OI)=>{function bne(t){r.debug=r,r.default=r,r.coerce=a,r.disable=i,r.enable=s,r.enabled=o,r.humanize=AI(),r.destroy=c,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(l){let f,h=null,d,p;function m(...g){if(!m.enabled)return;let _=m,E=Number(new Date),A=E-(f||E);_.diff=A,_.prev=f,_.curr=E,f=E,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let C=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(L,F)=>{if(L==="%%")return"%";C++;let P=r.formatters[F];if(typeof P=="function"){let V=g[C];L=P.call(_,V),g.splice(C,1),C--}return L}),r.formatArgs.call(_,g),(_.log||r.log).apply(_,g)}return m.namespace=l,m.useColors=r.useColors(),m.color=r.selectColor(l),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(l)),p),set:g=>{h=g}}),typeof r.init=="function"&&r.init(m),m}function n(l,f){let h=r(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function s(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let f,h=(typeof l=="string"?l:"").split(/[\s,]+/),d=h.length;for(f=0;f<d;f++)h[f]&&(l=h[f].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function i(){let l=[...r.names.map(u),...r.skips.map(u).map(f=>"-"+f)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(l))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(l))return!0;return!1}function u(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function a(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}OI.exports=bne});var CI=y((On,lm)=>{On.formatArgs=Bne;On.save=Tne;On.load=Pne;On.useColors=Dne;On.storage=Mne();On.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();On.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Dne(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Bne(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+lm.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),t.splice(n,0,e)}On.log=console.debug||console.log||(()=>{});function Tne(t){try{t?On.storage.setItem("debug",t):On.storage.removeItem("debug")}catch{}}function Pne(){let t;try{t=On.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Mne(){try{return localStorage}catch{}}lm.exports=nA()(On);var{formatters:Fne}=lm.exports;Fne.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var wI=y((Bhe,SI)=>{"use strict";SI.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),s=e.indexOf("--");return n!==-1&&(s===-1||n<s)}});var BI=y((The,DI)=>{"use strict";var Ine=require("os"),bI=require("tty"),Wn=wI(),{env:Gt}=process,fm;Wn("no-color")||Wn("no-colors")||Wn("color=false")||Wn("color=never")?fm=0:(Wn("color")||Wn("colors")||Wn("color=true")||Wn("color=always"))&&(fm=1);function $ne(){if("FORCE_COLOR"in Gt)return Gt.FORCE_COLOR==="true"?1:Gt.FORCE_COLOR==="false"?0:Gt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Gt.FORCE_COLOR,10),3)}function Nne(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Rne(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=$ne();n!==void 0&&(fm=n);let s=r?fm:n;if(s===0)return 0;if(r){if(Wn("color=16m")||Wn("color=full")||Wn("color=truecolor"))return 3;if(Wn("color=256"))return 2}if(t&&!e&&s===void 0)return 0;let i=s||0;if(Gt.TERM==="dumb")return i;if(process.platform==="win32"){let o=Ine.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in Gt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(o=>o in Gt)||Gt.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in Gt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Gt.TEAMCITY_VERSION)?1:0;if(Gt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Gt){let o=Number.parseInt((Gt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Gt.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Gt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Gt.TERM)||"COLORTERM"in Gt?1:i}function sA(t,e={}){let r=Rne(t,{streamIsTTY:t&&t.isTTY,...e});return Nne(r)}DI.exports={supportsColor:sA,stdout:sA({isTTY:bI.isatty(1)}),stderr:sA({isTTY:bI.isatty(2)})}});var PI=y((fr,dm)=>{var xne=require("tty"),hm=require("util");fr.init=Vne;fr.log=Lne;fr.formatArgs=kne;fr.save=jne;fr.load=Une;fr.useColors=vne;fr.destroy=hm.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");fr.colors=[6,2,3,4,5,1];try{let t=BI();t&&(t.stderr||t).level>=2&&(fr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}fr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function vne(){return"colors"in fr.inspectOpts?!!fr.inspectOpts.colors:xne.isatty(process.stderr.fd)}function kne(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${e} \x1B[0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(s+"m+"+dm.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=qne()+e+" "+t[0]}function qne(){return fr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Lne(...t){return process.stderr.write(hm.format(...t)+`
`)}function jne(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Une(){return process.env.DEBUG}function Vne(t){t.inspectOpts={};let e=Object.keys(fr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=fr.inspectOpts[e[r]]}dm.exports=nA()(fr);var{formatters:TI}=dm.exports;TI.o=function(t){return this.inspectOpts.colors=this.useColors,hm.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};TI.O=function(t){return this.inspectOpts.colors=this.useColors,hm.inspect(t,this.inspectOpts)}});var MI=y((Phe,iA)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?iA.exports=CI():iA.exports=PI()});var II=y(FI=>{"use strict";var _t=FI;_t.distinct=function(t){if(t._fields&&Object.keys(t._fields).length>0)return"field selection and slice";let e=Object.keys(_t.distinct),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};_t.distinct.select=_t.distinct.slice=_t.distinct.sort=_t.distinct.limit=_t.distinct.skip=_t.distinct.batchSize=_t.distinct.hint=_t.distinct.tailable=!0;_t.findOneAndUpdate=_t.findOneAndRemove=function(t){let e=Object.keys(_t.findOneAndUpdate),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};_t.findOneAndUpdate.limit=_t.findOneAndUpdate.skip=_t.findOneAndUpdate.batchSize=_t.findOneAndUpdate.tailable=!0;_t.count=function(t){if(t._fields&&Object.keys(t._fields).length>0)return"field selection and slice";let e=Object.keys(_t.count),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};_t.count.slice=_t.count.batchSize=_t.count.tailable=!0});var oA=y((Ds,$I)=>{"use strict";Ds.isNode=typeof process<"u"&&typeof $I=="object"&&typeof global=="object"&&typeof Buffer=="function"&&process.argv;Ds.isMongo=!Ds.isNode&&typeof printjson=="function"&&typeof ObjectId=="function"&&typeof rs=="function"&&typeof sh=="function";Ds.isBrowser=!Ds.isNode&&!Ds.isMongo&&typeof window<"u";Ds.type=Ds.isNode?"node":Ds.isMongo?"mongo":Ds.isBrowser?"browser":"unknown"});var Tl=y((NI,RI)=>{"use strict";var uA=["find","findOne","updateMany","updateOne","replaceOne","count","distinct","findOneAndDelete","findOneAndUpdate","aggregate","findCursor","deleteOne","deleteMany"];function aA(){}for(let t=0,e=uA.length;t<e;++t){let r=uA[t];aA.prototype[r]=Wne(r)}RI.exports=NI=aA;aA.methods=uA;function Wne(t){return function(){throw new Error("collection."+t+" not implemented")}}});var kI=y((xI,vI)=>{"use strict";var zne=Tl(),cA=class extends zne{constructor(e){super(),this.collection=e,this.collectionName=e.collectionName}async find(e,r){return this.collection.find(e,r).toArray()}async findOne(e,r){return this.collection.findOne(e,r)}async count(e,r){return this.collection.count(e,r)}async distinct(e,r,n){return this.collection.distinct(e,r,n)}async updateMany(e,r,n){return this.collection.updateMany(e,r,n)}async updateOne(e,r,n){return this.collection.updateOne(e,r,n)}async replaceOne(e,r,n){return this.collection.replaceOne(e,r,n)}async deleteOne(e,r){return this.collection.deleteOne(e,r)}async deleteMany(e,r){return this.collection.deleteMany(e,r)}async findOneAndDelete(e,r){return this.collection.findOneAndDelete(e,r)}async findOneAndUpdate(e,r,n){return this.collection.findOneAndUpdate(e,r,n)}findCursor(e,r){return this.collection.find(e,r)}};vI.exports=xI=cA});var LI=y((Fhe,qI)=>{"use strict";var lA=oA();if(lA.type=="unknown")throw new Error("Unknown environment");qI.exports=lA.isNode?kI():lA.isMongo?Tl():Tl()});var pA=y((UI,VI)=>{"use strict";var Hne=require("assert"),Gne=require("util"),Me=EI(),Ni=MI()("mquery");function v(t,e){if(!(this instanceof v))return new v(t,e);let r=this.constructor.prototype;this.op=r.op||void 0,this.options=Object.assign({},r.options),this._conditions=r._conditions?Me.clone(r._conditions):{},this._fields=r._fields?Me.clone(r._fields):void 0,this._updateDoc=r._updateDoc?Me.clone(r._updateDoc):void 0,this._path=r._path||void 0,this._distinctDoc=r._distinctDoc||void 0,this._collection=r._collection||void 0,this._traceFunction=r._traceFunction||void 0,e&&this.setOptions(e),t&&this.find(t)}var Du="$geoWithin";Object.defineProperty(v,"use$geoWithin",{get:function(){return Du=="$geoWithin"},set:function(t){t===!0?Du="$geoWithin":Du="$within"}});v.prototype.toConstructor=function(){function e(n,s){if(!(this instanceof e))return new e(n,s);v.call(this,n,s)}Me.inherits(e,v);let r=e.prototype;return r.options={},r.setOptions(this.options),r.op=this.op,r._conditions=Me.clone(this._conditions),r._fields=Me.clone(this._fields),r._updateDoc=Me.clone(this._updateDoc),r._path=this._path,r._distinctDoc=this._distinctDoc,r._collection=this._collection,r._traceFunction=this._traceFunction,e};v.prototype.setOptions=function(t){if(!(t&&Me.isObject(t)))return this;let e=Me.keys(t),r;for(let n=0;n<e.length;++n)if(r=e[n],typeof this[r]=="function"){let s=Array.isArray(t[r])?t[r]:[t[r]];this[r].apply(this,s)}else this.options[r]=t[r];return this};v.prototype.collection=function(e){return this._collection=new v.Collection(e),this};v.prototype.collation=function(t){return this.options.collation=t,this};v.prototype.$where=function(t){return this._conditions.$where=t,this};v.prototype.where=function(){if(!arguments.length)return this;this.op||(this.op="find");let t=typeof arguments[0];if(t=="string")return this._path=arguments[0],arguments.length===2&&(this._conditions[this._path]=arguments[1]),this;if(t=="object"&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")};v.prototype.equals=function(e){this._ensurePath("equals");let r=this._path;return this._conditions[r]=e,this};v.prototype.eq=function(e){this._ensurePath("eq");let r=this._path;return this._conditions[r]=e,this};v.prototype.or=function(e){let r=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};v.prototype.nor=function(e){let r=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};v.prototype.and=function(e){let r=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(t){v.prototype[t]=function(){let e,r;arguments.length===1?(this._ensurePath(t),r=arguments[0],e=this._path):(r=arguments[1],e=arguments[0]);let n=this._conditions[e]===null||typeof this._conditions[e]=="object"?this._conditions[e]:this._conditions[e]={};return n["$"+t]=r,this}});v.prototype.mod=function(){let t,e;arguments.length===1?(this._ensurePath("mod"),t=arguments[0],e=this._path):arguments.length===2&&!Array.isArray(arguments[1])?(this._ensurePath("mod"),t=[arguments[0],arguments[1]],e=this._path):arguments.length===3?(t=[arguments[1],arguments[2]],e=arguments[0]):(t=arguments[1],e=arguments[0]);let r=this._conditions[e]||(this._conditions[e]={});return r.$mod=t,this};v.prototype.exists=function(){let t,e;arguments.length===0?(this._ensurePath("exists"),t=this._path,e=!0):arguments.length===1?typeof arguments[0]=="boolean"?(this._ensurePath("exists"),t=this._path,e=arguments[0]):(t=arguments[0],e=!0):arguments.length===2&&(t=arguments[0],e=arguments[1]);let r=this._conditions[t]||(this._conditions[t]={});return r.$exists=e,this};v.prototype.elemMatch=function(){if(arguments[0]==null)throw new TypeError("Invalid argument");let t,e,r;if(typeof arguments[0]=="function")this._ensurePath("elemMatch"),e=this._path,t=arguments[0];else if(Me.isObject(arguments[0]))this._ensurePath("elemMatch"),e=this._path,r=arguments[0];else if(typeof arguments[1]=="function")e=arguments[0],t=arguments[1];else if(arguments[1]&&Me.isObject(arguments[1]))e=arguments[0],r=arguments[1];else throw new TypeError("Invalid argument");t&&(r=new v,t(r),r=r._conditions);let n=this._conditions[e]||(this._conditions[e]={});return n.$elemMatch=r,this};v.prototype.within=function(){if(this._ensurePath("within"),this._geoComparison=Du,arguments.length===0)return this;if(arguments.length===2)return this.box.apply(this,arguments);if(2<arguments.length)return this.polygon.apply(this,arguments);let e=arguments[0];if(!e)throw new TypeError("Invalid argument");if(e.center)return this.circle(e);if(e.box)return this.box.apply(this,e.box);if(e.polygon)return this.polygon.apply(this,e.polygon);if(e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")};v.prototype.box=function(){let t,e;if(arguments.length===3)t=arguments[0],e=[arguments[1],arguments[2]];else if(arguments.length===2)this._ensurePath("box"),t=this._path,e=[arguments[0],arguments[1]];else throw new TypeError("Invalid argument");let r=this._conditions[t]||(this._conditions[t]={});return r[this._geoComparison||Du]={$box:e},this};v.prototype.polygon=function(){let t,e;typeof arguments[0]=="string"?(t=Array.from(arguments),e=t.shift()):(this._ensurePath("polygon"),e=this._path,t=Array.from(arguments));let r=this._conditions[e]||(this._conditions[e]={});return r[this._geoComparison||Du]={$polygon:t},this};v.prototype.circle=function(){let t,e;if(arguments.length===1)this._ensurePath("circle"),t=this._path,e=arguments[0];else if(arguments.length===2)t=arguments[0],e=arguments[1];else throw new TypeError("Invalid argument");if(!("radius"in e&&e.center))throw new Error("center and radius are required");let r=this._conditions[t]||(this._conditions[t]={}),n=e.spherical?"$centerSphere":"$center",s=this._geoComparison||Du;return r[s]={},r[s][n]=[e.center,e.radius],"unique"in e&&(r[s].$uniqueDocs=!!e.unique),this};v.prototype.near=function(){let e,r;if(this._geoComparison="$near",arguments.length===0)return this;if(arguments.length===1)this._ensurePath("near"),e=this._path,r=arguments[0];else if(arguments.length===2)e=arguments[0],r=arguments[1];else throw new TypeError("Invalid argument");if(!r.center)throw new Error("center is required");let n=this._conditions[e]||(this._conditions[e]={}),s=r.spherical?"$nearSphere":"$near";if(Array.isArray(r.center)){n[s]=r.center;let i="maxDistance"in r?r.maxDistance:null;i!=null&&(n.$maxDistance=i),r.minDistance!=null&&(n.$minDistance=r.minDistance)}else{if(r.center.type!="Point"||!Array.isArray(r.center.coordinates))throw new Error(Gne.format("Invalid GeoJSON specified for %s",s));n[s]={$geometry:r.center},"maxDistance"in r&&(n[s].$maxDistance=r.maxDistance),"minDistance"in r&&(n[s].$minDistance=r.minDistance)}return this};v.prototype.intersects=function(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",arguments.length===0)return this;let e=arguments[0];if(e!=null&&e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")};v.prototype.geometry=function(){if(!(this._geoComparison=="$within"||this._geoComparison=="$geoWithin"||this._geoComparison=="$near"||this._geoComparison=="$geoIntersects"))throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");let e,r;if(arguments.length===1)this._ensurePath("geometry"),r=this._path,e=arguments[0];else throw new TypeError("Invalid argument");if(!(e.type&&Array.isArray(e.coordinates)))throw new TypeError("Invalid argument");let n=this._conditions[r]||(this._conditions[r]={});return n[this._geoComparison]={$geometry:e},this};v.prototype.select=function(){let e=arguments[0];if(!e)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");let r=this._fields||(this._fields={}),n=typeof e,s,i;if((n=="string"||Me.isArgumentsObject(e))&&typeof e.length=="number"||Array.isArray(e)){for(n=="string"&&(e=e.split(/\s+/)),s=0,i=e.length;s<i;++s){let o=e[s];if(!o)continue;let u=o[0]=="-"?0:1;u===0&&(o=o.substring(1)),r[o]=u}return this}if(Me.isObject(e)){let o=Me.keys(e);for(s=0;s<o.length;++s)r[o[s]]=e[o[s]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")};v.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let t,e;if(arguments.length===1){let n=arguments[0];if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n),i=s.length;for(let o=0;o<i;++o)this.slice(s[o],n[s[o]]);return this}this._ensurePath("slice"),t=this._path,e=arguments[0]}else arguments.length===2?typeof arguments[0]=="number"?(this._ensurePath("slice"),t=this._path,e=[arguments[0],arguments[1]]):(t=arguments[0],e=arguments[1]):arguments.length===3&&(t=arguments[0],e=[arguments[1],arguments[2]]);let r=this._fields||(this._fields={});return r[t]={$slice:e},this};v.prototype.sort=function(t){if(!t)return this;let e,r,n;this._validate("sort");let s=typeof t;if(Array.isArray(t)){for(r=t.length,e=0;e<t.length;++e){if(!Array.isArray(t[e]))throw new Error("Invalid sort() argument, must be array of arrays");Kne(this.options,t[e][0],t[e][1])}return this}if(arguments.length===1&&s=="string"){for(t=t.split(/\s+/),r=t.length,e=0;e<r;++e){if(n=t[e],!n)continue;let i=n[0]=="-"?-1:1;i===-1&&(n=n.substring(1)),jI(this.options,n,i)}return this}if(Me.isObject(t)){let i=Me.keys(t);for(e=0;e<i.length;++e)n=i[e],jI(this.options,n,t[n]);return this}if(typeof Map<"u"&&t instanceof Map)return Yne(this.options,t),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};var fA={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};function jI(t,e,r){if(Array.isArray(t.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");let n;if(r&&r.$meta){n=t.sort||(t.sort={}),n[e]={$meta:r.$meta};return}n=t.sort||(t.sort={});let s=String(r||1).toLowerCase();if(s=fA[s],!s)throw new TypeError("Invalid sort value: { "+e+": "+r+" }");n[e]=s}function Kne(t,e,r){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");let n=String(r||1).toLowerCase();if(n=fA[n],!n)throw new TypeError("Invalid sort value: [ "+e+", "+r+" ]");t.sort.push([e,n])}function Yne(t,e){if(t.sort=t.sort||new Map,!(t.sort instanceof Map))throw new TypeError("Can't mix sort syntaxes. Use either array or object or map consistently");e.forEach(function(r,n){let s=String(r||1).toLowerCase();if(s=fA[s],!s)throw new TypeError("Invalid sort value: < "+n+": "+r+" >");t.sort.set(n,s)})}["limit","skip","batchSize","comment"].forEach(function(t){v.prototype[t]=function(e){return this._validate(t),this.options[t]=e,this}});v.prototype.maxTime=v.prototype.maxTimeMS=function(t){return this._validate("maxTime"),this.options.maxTimeMS=t,this};v.prototype.hint=function(){if(arguments.length===0)return this;this._validate("hint");let t=arguments[0];if(Me.isObject(t)){let e=this.options.hint||(this.options.hint={});for(let r in t)e[r]=t[r];return this}if(typeof t=="string")return this.options.hint=t,this;throw new TypeError("Invalid hint. "+t)};v.prototype.j=function(e){return this.options.j=e,this};v.prototype.slaveOk=function(t){return this.options.slaveOk=arguments.length?!!t:!0,this};v.prototype.read=v.prototype.setReadPreference=function(t){return arguments.length>1&&!v.prototype.read.deprecationWarningIssued&&(console.error("Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),v.prototype.read.deprecationWarningIssued=!0),this.options.readPreference=Me.readPref(t),this};v.prototype.readConcern=v.prototype.r=function(t){return this.options.readConcern=Me.readConcern(t),this};v.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=arguments.length?!!arguments[0]:!0,this};v.prototype.writeConcern=v.prototype.w=function(e){return typeof e=="object"?(typeof e.j<"u"&&(this.options.j=e.j),typeof e.w<"u"&&(this.options.w=e.w),typeof e.wtimeout<"u"&&(this.options.wtimeout=e.wtimeout)):this.options.w=e==="m"?"majority":e,this};v.prototype.wtimeout=v.prototype.wTimeout=function(e){return this.options.wtimeout=e,this};v.prototype.merge=function(t){if(!t)return this;if(!v.canMerge(t))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");return t instanceof v?(t._conditions&&Me.merge(this._conditions,t._conditions),t._fields&&(this._fields||(this._fields={}),Me.merge(this._fields,t._fields)),t.options&&(this.options||(this.options={}),Me.merge(this.options,t.options)),t._updateDoc&&(this._updateDoc||(this._updateDoc={}),Me.mergeClone(this._updateDoc,t._updateDoc)),t._distinctDoc&&(this._distinctDoc=t._distinctDoc),this):(Me.merge(this._conditions,t),this)};v.prototype.find=function(t){return this.op="find",v.canMerge(t)&&this.merge(t),this};v.prototype._find=async function(){let e=this._conditions,r=this._optionsForExec();return this.$useProjection?r.projection=this._fieldsForExec():r.fields=this._fieldsForExec(),Ni("_find",this._collection.collectionName,e,r),this._collection.find(e,r)};v.prototype.cursor=function(e){if(this.op){if(this.op!=="find")throw new TypeError(".cursor only support .find method")}else this.find(e);let r=this._conditions,n=this._optionsForExec();return this.$useProjection?n.projection=this._fieldsForExec():n.fields=this._fieldsForExec(),Ni("findCursor",this._collection.collectionName,r,n),this._collection.findCursor(r,n)};v.prototype.findOne=function(t){return this.op="findOne",v.canMerge(t)&&this.merge(t),this};v.prototype._findOne=async function(){let e=this._conditions,r=this._optionsForExec();return this.$useProjection?r.projection=this._fieldsForExec():r.fields=this._fieldsForExec(),Ni("findOne",this._collection.collectionName,e,r),this._collection.findOne(e,r)};v.prototype.count=function(t){return this.op="count",this._validate(),v.canMerge(t)&&this.merge(t),this};v.prototype._count=async function(){let e=this._conditions,r=this._optionsForExec();return Ni("count",this._collection.collectionName,e,r),this._collection.count(e,r)};v.prototype.distinct=function(t,e){return this.op="distinct",this._validate(),!e&&typeof t=="string"&&(e=t,t=void 0),typeof e=="string"&&(this._distinctDoc=e),v.canMerge(t)&&this.merge(t),this};v.prototype._distinct=async function(){if(!this._distinctDoc)throw new Error("No value for `distinct` has been declared");let e=this._conditions,r=this._optionsForExec();return Ni("distinct",this._collection.collectionName,e,r),this._collection.distinct(this._distinctDoc,e,r)};v.prototype.updateMany=function(e,r,n){return arguments.length===1&&(r=e,e=n=void 0),hA(this,"updateMany",e,r,n)};v.prototype._updateMany=async function(){return dA(this,"updateMany")};v.prototype.updateOne=function(e,r,n){return arguments.length===1&&(r=e,e=n=void 0),hA(this,"updateOne",e,r,n)};v.prototype._updateOne=async function(){return dA(this,"updateOne")};v.prototype.replaceOne=function(e,r,n){return arguments.length===1&&(r=e,e=n=void 0),this.setOptions({overwrite:!0}),hA(this,"replaceOne",e,r,n)};v.prototype._replaceOne=async function(){return dA(this,"replaceOne")};function hA(t,e,r,n,s){return t.op=e,v.canMerge(r)&&t.merge(r),n&&t._mergeUpdate(n),Me.isObject(s)&&t.setOptions(s),t}async function dA(t,e){let r=t._optionsForExec(),n=t._conditions,s=t._updateForExec();return Ni("update",t._collection.collectionName,n,s,r),t._collection[e](n,s,r)}v.prototype.deleteOne=function(t){return this.op="deleteOne",v.canMerge(t)&&this.merge(t),this};v.prototype._deleteOne=async function(){let t=this._optionsForExec();delete t.justOne;let e=this._conditions;return Ni("deleteOne",this._collection.collectionName,e,t),this._collection.deleteOne(e,t)};v.prototype.deleteMany=function(t){return this.op="deleteMany",v.canMerge(t)&&this.merge(t),this};v.prototype._deleteMany=async function(){let t=this._optionsForExec();delete t.justOne;let e=this._conditions;return Ni("deleteOne",this._collection.collectionName,e,t),this._collection.deleteMany(e,t)};v.prototype.findOneAndUpdate=function(t,e,r){return this.op="findOneAndUpdate",this._validate(),arguments.length===1&&(e=t,t=r=void 0),v.canMerge(t)&&this.merge(t),e&&this._mergeUpdate(e),r&&this.setOptions(r),this};v.prototype._findOneAndUpdate=async function(){let t=this._conditions,e=this._updateForExec(),r=this._optionsForExec();return this._collection.findOneAndUpdate(t,e,r)};v.prototype.findOneAndRemove=v.prototype.findOneAndDelete=function(t,e){return this.op="findOneAndRemove",this._validate(),v.canMerge(t)&&this.merge(t),e&&this.setOptions(e),this};v.prototype._findOneAndRemove=async function(){let t=this._optionsForExec(),e=this._conditions;return this._collection.findOneAndDelete(e,t)};v.prototype.setTraceFunction=function(t){return this._traceFunction=t,this};v.prototype.exec=async function(e){typeof e=="string"&&(this.op=e),Hne.ok(this.op,"Missing query type: (find, etc)");let r="_"+this.op;if(typeof this[r]!="function")throw new TypeError(`this[${r}] is not a function`);return this[r]()};v.prototype.then=async function(t,e){return this.exec().then(t,e)};v.prototype.cursor=function(){if(this.op!="find")throw new Error("cursor() is only available for find");let t=this._conditions,e=this._optionsForExec();return this.$useProjection?e.projection=this._fieldsForExec():e.fields=this._fieldsForExec(),Ni("cursor",this._collection.collectionName,t,e),this._collection.findCursor(t,e)};v.prototype.selected=function(){return!!(this._fields&&Object.keys(this._fields).length>0)};v.prototype.selectedInclusively=function(){if(!this._fields)return!1;let e=Object.keys(this._fields);if(e.length===0)return!1;for(let r=0;r<e.length;++r){let n=e[r];if(this._fields[n]===0||this._fields[n]&&typeof this._fields[n]=="object"&&this._fields[n].$meta)return!1}return!0};v.prototype.selectedExclusively=function(){if(!this._fields)return!1;let e=Object.keys(this._fields);if(e.length===0)return!1;for(let r=0;r<e.length;++r){let n=e[r];if(this._fields[n]===0)return!0}return!1};v.prototype._mergeUpdate=function(t){this._updateDoc||(this._updateDoc={}),t instanceof v?t._updateDoc&&Me.mergeClone(this._updateDoc,t._updateDoc):Me.mergeClone(this._updateDoc,t)};v.prototype._optionsForExec=function(){return Me.clone(this.options)};v.prototype._fieldsForExec=function(){return Me.clone(this._fields)};v.prototype._updateForExec=function(){let t=Me.clone(this._updateDoc),e=Me.keys(t),r={};for(let n of e){if(this.options.overwrite){r[n]=t[n];continue}n[0]!=="$"?(r.$set||(t.$set?r.$set=t.$set:r.$set={}),r.$set[n]=t[n],~e.indexOf("$set")||e.push("$set")):n==="$set"&&r.$set||(r[n]=t[n])}return this._compiledUpdate=r,r};v.prototype._ensurePath=function(t){if(!this._path){let e=t+"() must be used after where() when called with these arguments";throw new Error(e)}};v.permissions=II();v._isPermitted=function(t,e){let r=v.permissions[e];return r?r[t]!==!0:!0};v.prototype._validate=function(t){let e,r;if(t===void 0){if(r=v.permissions[this.op],typeof r!="function")return!0;e=r(this)}else v._isPermitted(t,this.op)||(e=t);if(e)throw new Error(e+" cannot be used with "+this.op)};v.canMerge=function(t){return t instanceof v||Me.isObject(t)};v.setGlobalTraceFunction=function(t){v.traceFunction=t};v.utils=Me;v.env=oA();v.Collection=LI();v.BaseCollection=Tl();VI.exports=UI=v});var mA=y((Ihe,WI)=>{"use strict";WI.exports=function(e,r){if(typeof e==="string"&&(e=e.split(/\s+/)),!Array.isArray(e)&&Object.prototype.toString.call(e)!=="[object Arguments]")return e;let s=e.length,i={};for(let o=0;o<s;++o){let u=e[o];if(!u)continue;let a=u[0]=="-"?0:1;!r&&a===0&&(u=u.substring(1)),i[u]=a}return i}});var GI=y(($he,HI)=>{"use strict";HI.exports=function(e,r){let n=Object.keys(e).map(s=>Object.keys(e[s])).reduce((s,i)=>s.concat(i),[]);return r.filter(s=>zI(s,n))};function zI(t,e){let r=Object.keys(t)[0];if(r==="$and"||r==="$or")return Array.isArray(t[r])?t[r].find(i=>zI(i,e))!=null:!1;let n=r.indexOf("."),s=n===-1?r:r.slice(0,n);return e.find(i=>i.includes("$["+s+"]"))!=null}});var yA=y((Nhe,KI)=>{"use strict";var Qne=om(),{trustedSymbol:Jne}=Ja();KI.exports=function t(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e)){for(let n of e)t(n);return e}let r=Object.keys(e);for(let n of r){let s=e[n];if(!(s!=null&&s[Jne])){if(n==="$and"||n==="$or"){t(s);continue}if(Qne(s)){let i=Object.keys(s);if(i.length===1&&i[0]==="$eq")continue;e[n]={$eq:e[n]}}}}return e}});var QI=y((Rhe,YI)=>{"use strict";YI.exports=function(e){if(e==null)return;let r=Object.keys(e);for(let n=0;n<r.length;++n)typeof e[r[n]]=="string"&&(e[r[n]]=1)}});var ZI=y((xhe,XI)=>{"use strict";var Xne=ac(),Zne=um();XI.exports=function(e,r,n){if(n==null)return;let s=Object.keys(n);if(r=r||{},Zne(e))for(let i of s){JI(r,i)?r[i]===0&&delete e[i]:e[i]=1;let o=n[i]?.refPath;typeof o=="string"&&(JI(r,o)?r[o]===0&&delete e[o]:e[o]=1)}else if(Xne(e))for(let i of s){r[i]==null&&delete e[i];let o=n[i]?.refPath;typeof o=="string"&&r[o]==null&&delete e[o]}};function JI(t,e){let r=e.split("."),n=r.length,s=r[0];for(let i=1;i<n;++i){if(t[s]!=null||t[s+".$"]!=null)return!0;s+="."+r[i]}return t[s]!=null||t[s+".$"]!=null}});var gA=y((vhe,t$)=>{"use strict";var e$=oc().modifiedPaths,ese=at();t$.exports=function(t,e,r,n){n=n||{};let s=n.setDefaultsOnInsert!=null?n.setDefaultsOnInsert:e.base.options.setDefaultsOnInsert;if(!n.upsert||s===!1)return r;let i=Object.keys(r||{}),o={},u={},a=i.length,c={},l=!1;for(let d=0;d<a;++d)i[d].startsWith("$")&&(e$(r[i[d]],"",c),l=!0);l||e$(r,"",c);let f=Object.keys(t),h=f.length;for(let d=0;d<h;++d){let p=f[d],m=t[p];if(m&&typeof m=="object"){let g=Object.keys(m),_=g.length,E=!1;for(let A=0;A<_;++A)if(g[A].startsWith("$")){E=!0;break}if(E)continue}o[p]=!0,c[p]=!0}return n&&n.overwrite&&!l||e.eachPath(function(d,p){if(p.path==="_id"&&p.options.auto)return;let m=p.getDefault(null,!0);tse(c,d)||typeof m>"u"||p.splitPath().includes("$*")||(r=r||{},r.$setOnInsert=r.$setOnInsert||{},ese(r,d)==null&&(r.$setOnInsert[d]=m),u[d]=m)}),r};function tse(t,e){if(t[e])return!0;let r=e.split("."),n=r[0];for(let i=1;i<r.length;++i){if(t[n])return!0;n+="."+r[i]}let s=Object.keys(t);if(s.length){let i=e+".";for(let o of s)if(o.slice(0,e.length+1)===i)return!0}return!1}});var o$=y((khe,i$)=>{"use strict";var r$=lu(),rse=al(),n$=oc().flatten,s$=oc().modifiedPaths;i$.exports=function(t,e,r,n,s){let i=Object.keys(r||{}),o={},u={},a={},c={},l=i.length,f=!1,h={},d,p,m;for(m=0;m<l;++m)if(i[m].startsWith("$")){if(f=!0,i[m]==="$push"||i[m]==="$addToSet"){let j=Object.keys(r[i[m]]);for(let U=0;U<j.length;++U)d=r[i[m]][j[U]],d&&d.$each?c[j[U]]=(c[j[U]]||[]).concat(d.$each):c[j[U]]=(c[j[U]]||[]).concat([d]);continue}s$(r[i[m]],"",h);let W=n$(r[i[m]],null,null,e),$=Object.keys(W),D=$.length;for(let j=0;j<D;++j){let U=rse($[j]);p=i[m],!U.includes("$")&&(p==="$set"||p==="$setOnInsert"||p==="$pull"||p==="$pullAll"?(u[U]=W[$[j]],a[U]=p==="$pull"||p==="$pullAll"):p==="$unset"&&(u[U]=void 0),o[U]=!0)}}f||(s$(r,"",h),u=n$(r,null,null,e),o=Object.keys(u));let g=Object.keys(u),_=g.length,E=[],A=[],C=[],T=t;function L(W,$){let D=e._getSchema(g[W]);if(D!=null&&!(D.instance==="Mixed"&&D.path!==g[W]))if($&&Array.isArray($.$in))$.$in.forEach((j,U)=>{E.push(function(ke){D.doValidate(j,function(be){be&&(be.path=g[U]+".$in."+U,A.push(be)),ke(null)},T,{updateValidator:!0})})});else{if(a[g[W]]&&D.$isMongooseArray)return;D.$isMongooseDocumentArrayElement&&$!=null&&$.$__!=null?(C.push(g[W]),E.push(function(j){D.doValidate($,function(U){if(U)if(U.errors)for(let ke of Object.keys(U.errors)){let be=U.errors[ke];be.path=g[W]+"."+ke,A.push(be)}else U.path=g[W],A.push(U);return j(null)},T,{updateValidator:!0})})):E.push(function(j){for(let U of C)if(g[W].startsWith(U+"."))return j(null);D.doValidate($,function(U){if(D.schema!=null&&D.schema.options.storeSubdocValidationError===!1&&U instanceof r$)return j(null);U&&(U.path=g[W],A.push(U)),j(null)},T,{updateValidator:!0})})}}for(m=0;m<_;++m)L(m,u[g[m]]);let F=Object.keys(c);for(let W of F){let $=e._getSchema(W);if($&&$.$isMongooseDocumentArray)E.push(function(D){$.doValidate(c[W],V(W,A,D),n&&n.context==="query"?t:null)});else{$=e._getSchema(W+".0");for(let D of c[W])E.push(function(j){$.doValidate(D,V(W,A,j),n&&n.context==="query"?t:null,{updateValidator:!0})})}}if(s!=null){let W=E.length;if(W===0)return P(s);for(let $ of E)$(function(){--W<=0&&P(s)});return}return function(W){let $=E.length;if($===0)return P(W);for(let D of E)D(function(){--$<=0&&P(W)})};function P(W){if(A.length){let $=new r$(null);for(let D of A)$.addError(D.path,D);return W($)}W(null)}function V(W,$,D){return function(j){j&&(j.path=W,$.push(j)),D(null)}}}});var gm=y((qhe,C$)=>{"use strict";var Pl=$r(),nse=Ip(),h$=rl(),bt=st(),Do=UE(),u$=$F(),a$=lu(),{applyGlobalMaxTimeMS:$c,applyGlobalDiskUse:Nc}=V_(),sse=F4(),ise=W_(),ose=gc(),use=YF(),pm=fl(),ase=tA(),Nr=gt(),c$=dI(),d$=As(),cse=om(),mm=cc(),EA=on(),lse=Gs().internalToObjectOptions,fse=ac(),hse=um(),dse=r0(),l$=gI(),p$=gs(),Rr=pA(),pse=mA(),mse=GI(),yse=yA(),gse=QI(),Ese=ZI(),m$=gA(),_se=o$(),Bu=require("util"),dt=ie(),Ase=x4(),Ose=new Set(["allowDiskUse","batchSize","collation","comment","explain","hint","j","lean","limit","maxTimeMS","populate","projection","read","select","skip","slice","sort","tailable","w","writeConcern","wtimeout"]);function R(t,e,r,n){this._mongooseOptions||(this._mongooseOptions={}),e=e||{},this._transforms=[],this._hooks=new h$,this._executionStack=null;let s=Object.keys(e);for(let o of s)this._mongooseOptions[o]=e[o];n&&(this.mongooseCollection=n),r&&(this.model=r,this.schema=r.schema),this.model&&this.model._mapreduce&&this.lean(),Rr.call(this,null,e),n&&this.collection(n),t&&this.find(t),this.options=this.options||{},this.$useProjection=!0;let i=this&&this.schema&&this.schema.options&&this.schema.options.collation||null;i!=null&&(this.options.collation=i)}R.prototype=new Rr;R.prototype.constructor=R;R.base=Rr.prototype;Object.defineProperty(R.prototype,"_distinct",{configurable:!0,writable:!0,enumerable:!0,value:void 0});R.use$geoWithin=Rr.use$geoWithin;R.prototype.toConstructor=function(){let e=this.model,r=this.mongooseCollection,n=function(o,u){if(!(this instanceof n))return new n(o,u);this._mongooseOptions=Nr(s._mongooseOptions),R.call(this,o,u||null,e,r)};Bu.inherits(n,e.Query);let s=n.prototype;s.options={};let i=Object.assign({},this.options);return i.sort!=null&&(s.sort(i.sort),delete i.sort),s.setOptions(i),s.op=this.op,s._validateOp(),s._conditions=Nr(this._conditions),s._fields=Nr(this._fields),s._update=Nr(this._update,{flattenDecimals:!1}),s._path=this._path,s._distinct=this._distinct,s._collection=this._collection,s._mongooseOptions=this._mongooseOptions,n};R.prototype.clone=function(){let t=this.model,e=this.mongooseCollection,r=new this.model.Query({},{},t,e),n=Object.assign({},this.options);return n.sort!=null&&(r.sort(n.sort),delete n.sort),r.setOptions(n),r.op=this.op,r._validateOp(),r._conditions=Nr(this._conditions),r._fields=Nr(this._fields),r._update=Nr(this._update,{flattenDecimals:!1}),r._path=this._path,r._distinct=this._distinct,r._collection=this._collection,r._mongooseOptions=this._mongooseOptions,r};R.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let t,e;if(arguments.length===1){let n=arguments[0];if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n),i=s.length;for(let o=0;o<i;++o)this.slice(s[o],n[s[o]]);return this}this._ensurePath("slice"),t=this._path,e=arguments[0]}else arguments.length===2?typeof arguments[0]=="number"?(this._ensurePath("slice"),t=this._path,e=[arguments[0],arguments[1]]):(t=arguments[0],e=arguments[1]):arguments.length===3&&(t=arguments[0],e=[arguments[1],arguments[2]]);let r={};return r[t]={$slice:e},this.select(r),this};var Cse=new Set(Ase);R.prototype._validateOp=function(){this.op!=null&&!Cse.has(this.op)&&this.error(new Error('Query has invalid `op`: "'+this.op+'"'))};R.prototype.mod=function(){let t,e;arguments.length===1?(this._ensurePath("mod"),t=arguments[0],e=this._path):arguments.length===2&&!Array.isArray(arguments[1])?(this._ensurePath("mod"),t=[arguments[0],arguments[1]],e=this._path):arguments.length===3?(t=[arguments[1],arguments[2]],e=arguments[0]):(t=arguments[1],e=arguments[0]);let r=this._conditions[e]||(this._conditions[e]={});return r.$mod=t,this};R.prototype.limit=function(e){if(this._validate("limit"),typeof e=="string")try{e=pm(e)}catch{throw new Pl("Number",e,"limit")}return this.options.limit=e,this};R.prototype.skip=function(e){if(this._validate("skip"),typeof e=="string")try{e=pm(e)}catch{throw new Pl("Number",e,"skip")}return this.options.skip=e,this};R.prototype.projection=function(t){return arguments.length===0?this._fields:(this._fields={},this._userProvidedFields={},this.select(t),this._fields)};R.prototype.select=function(){let e=arguments[0];if(!e)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");let r=this._fields||(this._fields={}),n=this._userProvidedFields||(this._userProvidedFields={}),s;this.model!=null&&dt.hasUserDefinedProperty(this.model.db.options,"sanitizeProjection")?s=this.model.db.options.sanitizeProjection:this.model!=null&&dt.hasUserDefinedProperty(this.model.base.options,"sanitizeProjection")?s=this.model.base.options.sanitizeProjection:s=this._mongooseOptions.sanitizeProjection;function i(o){return typeof o=="string"&&s?o=1:o}if(e=pse(e,!0),dt.isObject(e)){if(this.selectedInclusively())Object.entries(e).forEach(([o,u])=>{u?(r["-"+o]!=null&&delete r["-"+o],r[o]=n[o]=i(u)):Object.keys(n).forEach(a=>{l$(o,a)&&(delete r[a],delete n[a])})});else if(this.selectedExclusively())Object.entries(e).forEach(([o,u])=>{u?Object.keys(n).forEach(a=>{l$(o,a)&&(delete r[a],delete n[a])}):(r["+"+o]!=null&&delete r["+"+o],r[o]=n[o]=i(u))});else{let o=Object.keys(e);for(let u=0;u<o.length;++u){let a=e[o[u]],c=o[u];r[c]=i(a),n[c]=i(a)}}return this}throw new TypeError("Invalid select() argument. Must be string or object.")};R.prototype.read=function(e,r){return typeof e=="string"?(e=sse(e),this.options.readPreference={mode:e,tags:r}):this.options.readPreference=e,this};R.prototype.toString=function(){return this.op==="count"||this.op==="countDocuments"||this.op==="find"||this.op==="findOne"||this.op==="deleteMany"||this.op==="deleteOne"||this.op==="findOneAndDelete"||this.op==="findOneAndRemove"||this.op==="remove"?`${this.model.modelName}.${this.op}(${Bu.inspect(this._conditions)})`:this.op==="distinct"?`${this.model.modelName}.distinct('${this._distinct}', ${Bu.inspect(this._conditions)})`:this.op==="findOneAndReplace"||this.op==="findOneAndUpdate"||this.op==="replaceOne"||this.op==="update"||this.op==="updateMany"||this.op==="updateOne"?`${this.model.modelName}.${this.op}(${Bu.inspect(this._conditions)}, ${Bu.inspect(this._update)})`:`${this.model.modelName}.${this.op}()`};R.prototype.session=function(e){return e==null&&delete this.options.session,this.options.session=e,this};R.prototype.writeConcern=function(e){return e==null?(delete this.options.writeConcern,this):(this.options.writeConcern=e,this)};R.prototype.w=function(e){return e==null&&delete this.options.w,this.options.writeConcern!=null?this.options.writeConcern.w=e:this.options.w=e,this};R.prototype.j=function(e){return e==null&&delete this.options.j,this.options.writeConcern!=null?this.options.writeConcern.j=e:this.options.j=e,this};R.prototype.wtimeout=function(e){return e==null&&delete this.options.wtimeout,this.options.writeConcern!=null?this.options.writeConcern.wtimeout=e:this.options.wtimeout=e,this};R.prototype.getOptions=function(){return this.options};R.prototype.setOptions=function(t,e){if(e)return this._mongooseOptions=t&&Nr(t)||{},this.options=t||{},"populate"in t&&this.populate(this._mongooseOptions),this;if(t==null)return this;if(typeof t!="object")throw new Error('Options must be an object, got "'+t+'"');if(t=Object.assign({},t),Array.isArray(t.populate)){let r=t.populate;delete t.populate;let n=r.length;for(let s=0;s<n;++s)this.populate(r[s])}if("setDefaultsOnInsert"in t&&(this._mongooseOptions.setDefaultsOnInsert=t.setDefaultsOnInsert,delete t.setDefaultsOnInsert),"overwriteDiscriminatorKey"in t&&(this._mongooseOptions.overwriteDiscriminatorKey=t.overwriteDiscriminatorKey,delete t.overwriteDiscriminatorKey),"sanitizeProjection"in t&&(t.sanitizeProjection&&!this._mongooseOptions.sanitizeProjection&&gse(this._fields),this._mongooseOptions.sanitizeProjection=t.sanitizeProjection,delete t.sanitizeProjection),"sanitizeFilter"in t&&(this._mongooseOptions.sanitizeFilter=t.sanitizeFilter,delete t.sanitizeFilter),"overwrite"in t&&(this._mongooseOptions.overwrite=t.overwrite,delete t.overwrite),"timestamps"in t&&(this._mongooseOptions.timestamps=t.timestamps,delete t.timestamps),"defaults"in t&&(this._mongooseOptions.defaults=t.defaults),"translateAliases"in t&&(this._mongooseOptions.translateAliases=t.translateAliases,delete t.translateAliases),"rawResult"in t&&Sse(),t.lean==null&&this.schema&&"lean"in this.schema.options&&(this._mongooseOptions.lean=this.schema.options.lean),typeof t.limit=="string")try{t.limit=pm(t.limit)}catch{throw new Pl("Number",t.limit,"limit")}if(typeof t.skip=="string")try{t.skip=pm(t.skip)}catch{throw new Pl("Number",t.skip,"skip")}for(let r of Object.keys(t))if(Ose.has(r)){let n=Array.isArray(t[r])?t[r]:[t[r]];this[r].apply(this,n)}else this.options[r]=t[r];return this};var Sse=Bu.deprecate(function(){},"The `rawResult` option for Mongoose queries is deprecated. Use `includeResultMetadata: true` as a replacement for `rawResult: true`.");var wse=Bu.deprecate(function(){},"The `overwrite` option for `findOneAndUpdate()` is deprecated. use `findOneAndReplace()` instead.");R.prototype.explain=function(e){return arguments.length===0?this.options.explain=!0:e===!1?delete this.options.explain:this.options.explain=e,this};R.prototype.allowDiskUse=function(t){return arguments.length===0?this.options.allowDiskUse=!0:t===!1?delete this.options.allowDiskUse:this.options.allowDiskUse=t,this};R.prototype.maxTimeMS=function(t){return this.options.maxTimeMS=t,this};R.prototype.getFilter=function(){return this._conditions};R.prototype.getQuery=function(){return this._conditions};R.prototype.setQuery=function(t){this._conditions=t};R.prototype.getUpdate=function(){return this._update};R.prototype.setUpdate=function(t){this._update=t};R.prototype._fieldsForExec=function(){return this._fields==null||Object.keys(this._fields).length===0?null:Nr(this._fields)};R.prototype._updateForExec=function(){let t=Nr(this._update,{transform:!1,depopulate:!0}),e=Object.keys(t),r=e.length,n={};for(;r--;){let s=e[r];if(this._mongooseOptions.overwrite){n[s]=t[s];continue}s[0]!=="$"?(n.$set||(t.$set?n.$set=t.$set:n.$set={}),n.$set[s]=t[s],e.splice(r,1),~e.indexOf("$set")||e.push("$set")):s==="$set"&&n.$set||(n[s]=t[s])}return n};R.prototype._optionsForExec=function(t){let e=Nr(this.options);if(delete e.populate,t=t||this.model,!t)return e;ise(t.schema,e);let r=t&&t.schema&&t.schema.options&&t.schema.options.read;if(!("readPreference"in e)&&r&&(e.readPreference=r),e.upsert!==void 0&&(e.upsert=!!e.upsert),e.writeConcern&&(e.j&&(e.writeConcern.j=e.j,delete e.j),e.w&&(e.writeConcern.w=e.w,delete e.w),e.wtimeout&&(e.writeConcern.wtimeout=e.wtimeout,delete e.wtimeout)),this._applyPaths(),this._fields!=null){this._fields=this._castFields(this._fields);let n=this._fieldsForExec();n!=null&&(e.projection=n)}return e};R.prototype.lean=function(t){return this._mongooseOptions.lean=arguments.length?t:!0,this};R.prototype.set=function(t,e){if(typeof t=="object"){let r=Object.keys(t);for(let n of r)this.set(n,t[n]);return this}return this._update=this._update||{},t in this._update&&delete this._update[t],this._update.$set=this._update.$set||{},this._update.$set[t]=e,this};R.prototype.get=function(e){let r=this._update;if(r==null)return;let n=r.$set;if(n==null||dt.hasUserDefinedProperty(r,e))return r[e];if(dt.hasUserDefinedProperty(n,e))return n[e]};R.prototype.error=function(e){return arguments.length===0?this._error:(this._error=e,this)};R.prototype._unsetCastError=function(){if(!(this._error!=null&&!(this._error instanceof Pl)))return this.error(null)};R.prototype.mongooseOptions=function(t){return arguments.length>0&&(this._mongooseOptions=t),this._mongooseOptions};R.prototype._castConditions=function(){let t;this.model!=null&&dt.hasUserDefinedProperty(this.model.db.options,"sanitizeFilter")?t=this.model.db.options.sanitizeFilter:this.model!=null&&dt.hasUserDefinedProperty(this.model.base.options,"sanitizeFilter")?t=this.model.base.options.sanitizeFilter:t=this._mongooseOptions.sanitizeFilter,t&&yse(this._conditions);try{this.cast(this.model),this._unsetCastError()}catch(e){this.error(e)}};function y$(t){try{use(t)}catch(e){t.error(e)}}R.prototype._find=async function(){if(this._castConditions(),this.error()!=null)throw this.error();let e=this._mongooseOptions,r=this,n=r._userProvidedFields||{};$c(this.options,this.model),Nc(this.options,this.model);let s=Object.assign({},{session:this&&this.options&&this.options.session||null,lean:e.lean||null}),i=this._optionsForExec();this._applyTranslateAliases(i);let o=this._conditions,u=i.projection,a=await this._collection.collection.find(o,i);if(i.explain)return a.explain();let c=await a.toArray();if(c.length===0)return c;if(!e.populate){let f=r.schema.options.versionKey;return e.lean&&e.lean.versionKey===!1&&f&&c.forEach(h=>{f in h&&delete h[f]}),e.lean?E$(r.model.schema,c,null,s):c$(r.model,c,u,n,s)}let l=mm.preparePopulationOptionsMQ(r,e);return e.lean?r.model.populate(c,l):(c=await c$(r.model,c,u,n,s),await this.model.populate(c,l),c)};R.prototype.find=function(t){if(typeof t=="function"||typeof arguments[1]=="function")throw new bt("Query.prototype.find() no longer accepts a callback");return this.op="find",Rr.canMerge(t)?(this.merge(t),Ml(this)):t!=null&&this.error(new Do(t,"filter","find")),R.base.find.call(this),this};R.prototype.merge=function(t){if(!t)return this;let e={overwrite:!0};return t instanceof R?(t._conditions&&(e.omit={},this._conditions&&this._conditions.$and&&t._conditions.$and&&(e.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(t._conditions.$and)),this._conditions&&this._conditions.$or&&t._conditions.$or&&(e.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(t._conditions.$or)),dt.merge(this._conditions,t._conditions,e)),t._fields&&(this._fields||(this._fields={}),dt.merge(this._fields,t._fields,e)),t.options&&(this.options||(this.options={}),dt.merge(this.options,t.options,e)),t._update&&(this._update||(this._update={}),dt.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),dt.merge(this._mongooseOptions,t._mongooseOptions),this):this.model!=null&&t instanceof this.model.base.Types.ObjectId?(dt.merge(this._conditions,{_id:t},e),this):(t&&t.$__&&(t=t.toObject(lse)),e.omit={},this._conditions&&this._conditions.$and&&t.$and&&(e.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(t.$and)),this._conditions&&this._conditions.$or&&t.$or&&(e.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(t.$or)),dt.merge(this._conditions,t,e),this)};R.prototype.collation=function(t){return this.options==null&&(this.options={}),this.options.collation=t,this};R.prototype._completeOne=function(t,e,r){if(!t&&!this.options.rawResult&&!this.options.includeResultMetadata)return r(null,null);let n=this.model,s=Nr(this._fields),i=this._userProvidedFields||{},o=this._mongooseOptions,u=this.options;if(!u.lean&&o.lean&&(u.lean=o.lean),u.explain)return r(null,t);if(!o.populate){let c=this.schema.options.versionKey;return o.lean&&o.lean.versionKey===!1&&c&&c in t&&delete t[c],o.lean?_A(n.schema,t,null,e,u,r):f$(n,t,e,u,s,i,null,r)}let a=mm.preparePopulationOptionsMQ(this,this._mongooseOptions);if(o.lean)return n.populate(t,a).then(c=>{_A(n.schema,c,null,e,u,r)},c=>{r(c)});f$(n,t,e,u,s,i,[],(c,l)=>{if(c!=null)return r(c);n.populate(l,a).then(f=>{r(null,f)},f=>{r(f)})})};R.prototype._findOne=async function(){if(this._castConditions(),this.error())throw this.error();$c(this.options,this.model),Nc(this.options,this.model);let e=this._optionsForExec();this._applyTranslateAliases(e);let r=await this._collection.collection.findOne(this._conditions,e);return new Promise((n,s)=>{this._completeOne(r,null,ym(this,(i,o)=>{if(i)return s(i);n(o)}))})};R.prototype.findOne=function(t,e,r){if(typeof t=="function"||typeof e=="function"||typeof r=="function"||typeof arguments[3]=="function")throw new bt("Query.prototype.findOne() no longer accepts a callback");return this.op="findOne",this._validateOp(),r&&this.setOptions(r),e&&this.select(e),Rr.canMerge(t)?(this.merge(t),Ml(this)):t!=null&&this.error(new Do(t,"filter","findOne")),R.base.findOne.call(this),this};R.prototype._count=async function(){try{this.cast(this.model)}catch(n){this.error(n)}if(this.error())throw this.error();$c(this.options,this.model),Nc(this.options,this.model);let e=this._optionsForExec();this._applyTranslateAliases(e);let r=this._conditions;return this._collection.collection.count(r,e)};R.prototype._countDocuments=async function(){try{this.cast(this.model)}catch(n){this.error(n)}if(this.error())throw this.error();$c(this.options,this.model),Nc(this.options,this.model);let e=this._optionsForExec();this._applyTranslateAliases(e);let r=this._conditions;return this._collection.collection.countDocuments(r,e)};R.prototype._applyTranslateAliases=function(e){let r=!1;"translateAliases"in this._mongooseOptions?r=this._mongooseOptions.translateAliases:this.model?.schema?._userProvidedOptions?.translateAliases!=null?r=this.model.schema._userProvidedOptions.translateAliases:this.model?.base?.options?.translateAliases!=null&&(r=this.model.base.options.translateAliases),r&&this.model?.schema?.aliases&&Object.keys(this.model.schema.aliases).length>0&&(this.model.translateAliases(this._conditions,!0),this.model.translateAliases(e.projection,!0),this.model.translateAliases(this._update,!0),this._distinct!=null&&this.model.schema.aliases[this._distinct]!=null&&(this._distinct=this.model.schema.aliases[this._distinct]))};R.prototype._estimatedDocumentCount=async function(){if(this.error())throw this.error();let e=this._optionsForExec();return this._collection.collection.estimatedDocumentCount(e)};R.prototype.count=function(t){if(typeof t=="function"||typeof arguments[1]=="function")throw new bt("Query.prototype.count() no longer accepts a callback");return this.op="count",this._validateOp(),Rr.canMerge(t)&&this.merge(t),this};R.prototype.estimatedDocumentCount=function(t){if(typeof t=="function"||typeof arguments[1]=="function")throw new bt("Query.prototype.estimatedDocumentCount() no longer accepts a callback");return this.op="estimatedDocumentCount",this._validateOp(),typeof t=="object"&&t!=null&&this.setOptions(t),this};R.prototype.countDocuments=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new bt("Query.prototype.countDocuments() no longer accepts a callback");return this.op="countDocuments",this._validateOp(),Rr.canMerge(t)&&this.merge(t),typeof e=="object"&&e!=null&&this.setOptions(e),this};R.prototype.__distinct=async function(){if(this._castConditions(),this.error())throw this.error();$c(this.options,this.model),Nc(this.options,this.model);let e=this._optionsForExec();return this._applyTranslateAliases(e),this._collection.collection.distinct(this._distinct,this._conditions,e)};R.prototype.distinct=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new bt("Query.prototype.distinct() no longer accepts a callback");return this.op="distinct",this._validateOp(),Rr.canMerge(e)?(this.merge(e),Ml(this)):e!=null&&this.error(new Do(e,"filter","distinct")),t!=null&&(this._distinct=t),this};R.prototype.sort=function(t){if(arguments.length>1)throw new Error("sort() only takes 1 Argument");return R.base.sort.call(this,t)};R.prototype.deleteOne=function(e,r){if(typeof e=="function"||typeof r=="function"||typeof arguments[2]=="function")throw new bt("Query.prototype.deleteOne() no longer accepts a callback");return this.op="deleteOne",this.setOptions(r),Rr.canMerge(e)?(this.merge(e),Ml(this)):e!=null&&this.error(new Do(e,"filter","deleteOne")),R.base.deleteOne.call(this),this};R.prototype._deleteOne=async function(){if(this._castConditions(),this.error()!=null)throw this.error();let e=this._optionsForExec();return this._applyTranslateAliases(e),this._collection.collection.deleteOne(this._conditions,e)};R.prototype.deleteMany=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new bt("Query.prototype.deleteMany() no longer accepts a callback");return this.setOptions(e),this.op="deleteMany",Rr.canMerge(t)?(this.merge(t),Ml(this)):t!=null&&this.error(new Do(t,"filter","deleteMany")),R.base.deleteMany.call(this),this};R.prototype._deleteMany=async function(){if(this._castConditions(),this.error()!=null)throw this.error();let e=this._optionsForExec();return this._applyTranslateAliases(e),this._collection.collection.deleteMany(this._conditions,e)};function f$(t,e,r,n,s,i,o,u){if((n.rawResult||n.includeResultMetadata)&&e==null)return a(null),null;mm.createModelAndInit(t,e,s,i,n,o,a);function a(c,l){if(c)return EA(()=>u(c));if(n.rawResult||n.includeResultMetadata)return e&&l?(n.session!=null&&l.$session(n.session),r.value=l):r.value=null,EA(()=>u(null,r));n.session!=null&&l.$session(n.session),EA(()=>u(null,l))}}function Ml(t){if(!t||!t.model||!t.model.schema)return;let e=t.model.schema;e&&e.discriminatorMapping&&!e.discriminatorMapping.isRoot&&(t._conditions[e.discriminatorMapping.key]=e.discriminatorMapping.value)}R.prototype.findOneAndUpdate=function(t,e,r){if(typeof t=="function"||typeof e=="function"||typeof r=="function"||typeof arguments[3]=="function")throw new bt("Query.prototype.findOneAndUpdate() no longer accepts a callback");switch(this.op="findOneAndUpdate",this._validateOp(),this._validate(),arguments.length){case 2:r=void 0;break;case 1:e=t,t=r=void 0;break}Rr.canMerge(t)?this.merge(t):t!=null&&this.error(new Do(t,"filter","findOneAndUpdate")),e&&this._mergeUpdate(e),r=r?Nr(r):{},r.projection&&(this.select(r.projection),delete r.projection),r.fields&&(this.select(r.fields),delete r.fields);let n=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;return r.new==null&&r.returnDocument==null&&r.returnOriginal==null&&n!=null&&(r.returnOriginal=n),this.setOptions(r),this};R.prototype._findOneAndUpdate=async function(){if(this._mongooseOptions.overwrite!=null&&wse(),this._mongooseOptions.overwrite)return this.op="findOneAndReplace",this._findOneAndReplace();if(this._castConditions(),y$(this),this.error())throw this.error();if($c(this.options,this.model),Nc(this.options,this.model),this.options.rawResult&&this.options.includeResultMetadata===!1)throw new bt("Cannot set `rawResult` option when `includeResultMetadata` is false");"strict"in this.options&&(this._mongooseOptions.strict=this.options.strict);let e=this._optionsForExec(this.model);g$(e),this._applyTranslateAliases(e),this._update=this._castUpdate(this._update,!1);let r=Object.assign({},e,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});if(this._update=m$(this._conditions,this.model.schema,this._update,r),!this._update||Object.keys(this._update).length===0)if(e.upsert){let o=Nr(this._update);delete o._id,this._update={$set:o}}else return this._executionStack=null,await this._findOne();else{if(this._update instanceof Error)throw this._update;this._update.$set&&Object.keys(this._update.$set).length===0&&delete this._update.$set}AA(this,"runValidators",!1)&&await this.validate(this._update,e,!1),this._update.toBSON&&(this._update=this._update.toBSON());let s=await this._collection.collection.findOneAndUpdate(this._conditions,this._update,e);for(let o of this._transforms)s=o(s);let i=e.includeResultMetadata===!1?s:s.value;return new Promise((o,u)=>{this._completeOne(i,s,ym(this,(a,c)=>{if(a)return u(a);o(c)}))})};R.prototype.findOneAndRemove=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new bt("Query.prototype.findOneAndRemove() no longer accepts a callback");return this.op="findOneAndRemove",this._validateOp(),this._validate(),Rr.canMerge(t)&&this.merge(t),e&&this.setOptions(e),this};R.prototype.findOneAndDelete=function(t,e){if(typeof t=="function"||typeof e=="function"||typeof arguments[2]=="function")throw new bt("Query.prototype.findOneAndDelete() no longer accepts a callback");return this.op="findOneAndDelete",this._validateOp(),this._validate(),Rr.canMerge(t)&&this.merge(t),e&&this.setOptions(e),this};R.prototype._findOneAndDelete=async function(){if(this._castConditions(),this.error()!=null)throw this.error();let e=this.options.includeResultMetadata;if(this.options.rawResult&&e===!1)throw new bt("Cannot set `rawResult` option when `includeResultMetadata` is false");let r=this._conditions,n=this._optionsForExec(this.model);this._applyTranslateAliases(n);let s=await this._collection.collection.findOneAndDelete(r,n);for(let o of this._transforms)s=o(s);let i=e===!1?s:s.value;return new Promise((o,u)=>{this._completeOne(i,s,ym(this,(a,c)=>{if(a)return u(a);o(c)}))})};R.prototype.findOneAndReplace=function(t,e,r){if(typeof t=="function"||typeof e=="function"||typeof r=="function"||typeof arguments[4]=="function")throw new bt("Query.prototype.findOneAndReplace() no longer accepts a callback");this.op="findOneAndReplace",this._validateOp(),this._validate(),Rr.canMerge(t)?this.merge(t):t!=null&&this.error(new Do(t,"filter","findOneAndReplace")),e!=null&&this._mergeUpdate(e),r=r||{};let n=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;return r.new==null&&r.returnDocument==null&&r.returnOriginal==null&&n!=null&&(r.returnOriginal=n),this.setOptions(r),this.setOptions({overwrite:!0}),this};R.prototype._findOneAndReplace=async function(){if(this._castConditions(),this.error()!=null)throw this.error();"strict"in this.options&&(this._mongooseOptions.strict=this.options.strict,delete this.options.strict);let e=this._conditions,r=this._optionsForExec();this._applyTranslateAliases(r),g$(r);let n=this.options.includeResultMetadata;if(this.options.rawResult&&n===!1)throw new bt("Cannot set `rawResult` option when `includeResultMetadata` is false");let s={skipId:!0};"strict"in this._mongooseOptions&&(s.strict=this._mongooseOptions.strict);let i=AA(this,"runValidators",!1);try{let a=new this.model(this._update,null,s);if(i)await a.validate();else if(a.$__.validationError)throw a.$__.validationError;this._update=a.toBSON()}catch(a){if(a instanceof a$)throw a;let c=new a$;throw c.errors[a.path]=a,c}let o=await this._collection.collection.findOneAndReplace(e,this._update,r);for(let a of this._transforms)o=a(o);let u=n===!1?o:o.value;return new Promise((a,c)=>{this._completeOne(u,o,ym(this,(l,f)=>{if(l)return c(l);a(f)}))})};function g$(t){"new"in t&&(t.returnDocument=t.new?"after":"before",delete t.new),"returnOriginal"in t&&(t.returnDocument=t.returnOriginal?"before":"after",delete t.returnOriginal),typeof t.returnDocument=="string"&&(t.returnOriginal=t.returnDocument==="before")}R.prototype._findOneAndRemove=async function(){return this._findOneAndDelete()};function AA(t,e,r){let n=t._optionsForExec(t.model);return e in n?n[e]:e in t.model.base.options?t.model.base.options[e]:r}function _A(t,e,r,n,s,i){if(s.lean&&typeof s.lean.transform=="function"){s.lean.transform(e);for(let o=0;o<t.childSchemas.length;o++){let u=r?r+"."+t.childSchemas[o].model.path:t.childSchemas[o].model.path,a=t.childSchemas[o].schema,c=p$.get(u,e);if(c!=null){if(Array.isArray(c))for(let l=0;l<c.length;l++)s.lean.transform(c[l]);else s.lean.transform(c);_A(a,c,u,n,s)}}return i?i(null,e):void 0}return s.rawResult?i(null,n):i(null,e)}function E$(t,e,r,n){if(n.lean&&typeof n.lean.transform=="function"){for(let s of e)n.lean.transform(s);for(let s=0;s<t.childSchemas.length;s++){let i=r?r+"."+t.childSchemas[s].model.path:t.childSchemas[s].model.path,o=t.childSchemas[s].schema,u=p$.get(i,e);if(u!=null){u=u.flat();for(let a=0;a<u.length;a++)n.lean.transform(u[a]);E$(o,u,i,n)}}}return e}R.prototype._mergeUpdate=function(t){if(this._update||(this._update=Array.isArray(t)?[]:{}),!(t==null||typeof t=="object"&&Object.keys(t).length===0))if(t instanceof R){if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");t._update&&dt.mergeClone(this._update,t._update)}else if(Array.isArray(t)){if(!Array.isArray(this._update))throw new Error("Cannot mix array and object updates");this._update=this._update.concat(t)}else{if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");dt.mergeClone(this._update,t)}};async function OA(t){if(this._castConditions(),y$(this),this.error()!=null)throw this.error();let e=this._conditions,r=this._optionsForExec(this.model);this._applyTranslateAliases(r),this._update=Nr(this._update,r);let n=this._mongooseOptions.overwrite&&!cse(this._update);if(n){if(t==="updateOne"||t==="updateMany")throw new bt("The MongoDB server disallows overwriting documents using `"+t+"`. See: https://mongoosejs.com/docs/deprecations.html#update");this._update=new this.model(this._update,null,!0)}else{if(this._update=this._castUpdate(this._update,this._mongooseOptions.overwrite),this._update==null||Object.keys(this._update).length===0)return{acknowledged:!1};let i=Object.assign({},r,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});this._update=m$(this._conditions,this.model.schema,this._update,i)}return Array.isArray(r.arrayFilters)&&(r.arrayFilters=mse(this._update,r.arrayFilters)),AA(this,"runValidators",!1)&&await this.validate(this._update,r,n),this._update.toBSON&&(this._update=this._update.toBSON()),this._collection.collection[t](e,this._update,r)}R.prototype.validate=async function(e,r,n){if(typeof arguments[3]=="function")throw new bt("Query.prototype.validate() no longer accepts a callback");await A$(this,"validate"),n?await e.$validate():await new Promise((s,i)=>{_se(this,this.model.schema,e,r,o=>{if(o!=null)return i(o);s()})}),await _$(this,null,null,"validate")};R.prototype._updateMany=async function(){return OA.call(this,"updateMany")};R.prototype._updateOne=async function(){return OA.call(this,"updateOne")};R.prototype._replaceOne=async function(){return OA.call(this,"replaceOne")};R.prototype.updateMany=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),CA(this,"updateMany",t,e,r,n)};R.prototype.updateOne=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),CA(this,"updateOne",t,e,r,n)};R.prototype.replaceOne=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),this.setOptions({overwrite:!0}),CA(this,"replaceOne",t,e,r,n)};function CA(t,e,r,n,s,i){return t.op=e,t._validateOp(),n=n||{},s!=null&&"strict"in s&&(t._mongooseOptions.strict=s.strict),!(r instanceof R)&&r!=null&&r.toString()!=="[object Object]"?t.error(new Do(r,"filter",e)):t.merge(r),dt.isObject(s)&&t.setOptions(s),t._mergeUpdate(n),i?(t.exec(i),t):R.base[e].call(t,r,void 0,s,i)}R.prototype.transform=function(t){return this._transforms.push(t),this};R.prototype.orFail=function(t){return this.transform(e=>{switch(this.op){case"find":if(e.length===0)throw Ic(t,this);break;case"findOne":if(e==null)throw Ic(t,this);break;case"replaceOne":case"updateMany":case"updateOne":if(e&&e.matchedCount===0)throw Ic(t,this);break;case"findOneAndDelete":case"findOneAndRemove":if((e&&e.lastErrorObject&&e.lastErrorObject.n)===0)throw Ic(t,this);break;case"findOneAndUpdate":case"findOneAndReplace":if((e&&e.lastErrorObject&&e.lastErrorObject.updatedExisting)===!1)throw Ic(t,this);break;case"deleteMany":case"deleteOne":if(e.deletedCount===0)throw Ic(t,this);break;default:break}return e}),this};function Ic(t,e){return typeof t=="function"&&(t=t.call(e)),t==null&&(t=new nse(e.getQuery(),e.model.modelName)),t}R.prototype.isPathSelectedInclusive=function(t){return dse(this._fields,t)};R.prototype.exec=async function(e){if(typeof e=="function"||arguments.length>=2&&typeof arguments[1]=="function")throw new bt("Query.prototype.exec() no longer accepts a callback");if(typeof e=="string"&&(this.op=e),this.op==null)throw new bt("Query must have `op` before executing");if(this.model==null)throw new bt("Query must have an associated model before executing");if(this._validateOp(),!this.op)return;if(this.options&&this.options.sort&&Object.keys(this.options.sort).includes(""))throw new Error('Invalid field "" passed to sort()');let r="_"+this.op;if(this.op==="distinct"&&(r="__distinct"),this._executionStack!=null){let i=this.toString();i.length>60&&(i=i.slice(0,60)+"...");let o=new bt("Query was already executed: "+i);throw o.originalStack=this._executionStack.stack,o}else this._executionStack=new Error;await Dse(this);let n,s=null;try{await A$(this),n=await this[r]();for(let i of this._transforms)n=i(n)}catch(i){i instanceof h$.skipWrappedFunction?n=i.args[0]:s=i}return n=await _$(this,n,s),await bse(this),n};function bse(t){return new Promise((e,r)=>{t._hooks.execPost("exec",t,[],{},n=>{if(n)return r(n);e()})})}function _$(t,e,r,n){if(t._queryMiddleware==null){if(r!=null)throw r;return e}return new Promise((s,i)=>{let o=r?{error:r}:{};t._queryMiddleware.execPost(n||t.op,t,[e],o,(u,a)=>{if(u)return i(u);s(a)})})}function Dse(t){return new Promise((e,r)=>{t._hooks.execPre("exec",t,[],n=>{if(n!=null)return r(n);e()})})}function A$(t,e){if(t._queryMiddleware!=null)return new Promise((r,n)=>{t._queryMiddleware.execPre(e||t.op,t,[],s=>{if(s!=null)return n(s);r()})})}function ym(t,e){return function(r,n){if(r!=null)return e(r);for(let s of t._transforms)try{n=s(n)}catch(i){return e(i)}return e(null,n)}}R.prototype.then=function(t,e){return this.exec().then(t,e)};R.prototype.catch=function(t){return this.exec().then(null,t)};R.prototype.finally=function(t){return this.exec().finally(t)};R.prototype[Symbol.toStringTag]=function(){return`Query { ${this.op} }`};R.prototype.pre=function(t){return this._hooks.pre("exec",t),this};R.prototype.post=function(t){return this._hooks.post("exec",t),this};R.prototype._castUpdate=function(e,r){let n=this.schema,s=n.options.discriminatorKey,i=n._baseSchema?n._baseSchema:n;if(this._mongooseOptions.overwriteDiscriminatorKey&&e[s]!=null&&i.discriminators){let a=Object.values(i.discriminators).find(c=>c.discriminatorMapping.value===e[s]);a!=null&&(n=a)}let o;"upsert"in this.options&&(o=this.options.upsert);let u=this._conditions;if(n!=null&&dt.hasUserDefinedProperty(u,n.options.discriminatorKey)&&typeof u[n.options.discriminatorKey]!="object"&&n.discriminators!=null){let a=u[n.options.discriminatorKey],c=d$(this.model.discriminators,a);n=n.discriminators[a]||c&&c.schema||n}return ase(n,e,{overwrite:r,strict:this._mongooseOptions.strict,upsert:o,arrayFilters:this.options.arrayFilters,overwriteDiscriminatorKey:this._mongooseOptions.overwriteDiscriminatorKey},this,this._conditions)};R.prototype.populate=function(){if(!Array.from(arguments).some(Boolean))return this;let t=dt.populate.apply(null,arguments);if(this.options!=null){let n=this.options.readConcern,s=this.options.readPreference;for(let i of t)n!=null&&(i&&i.options&&i.options.readConcern)==null&&(i.options=i.options||{},i.options.readConcern=n),s!=null&&(i&&i.options&&i.options.readPreference)==null&&(i.options=i.options||{},i.options.readPreference=s)}let e=this._mongooseOptions;if(e.lean!=null){let n=e.lean;for(let s of t)(s&&s.options&&s.options.lean)==null&&(s.options=s.options||{},s.options.lean=n)}dt.isObject(e.populate)||(e.populate={});let r=e.populate;for(let n of t){let s=n.path;r[s]&&r[s].populate&&n.populate&&(n.populate=r[s].populate.concat(n.populate)),r[n.path]=n}return this};R.prototype.getPopulatedPaths=function(){let e=this._mongooseOptions.populate||{},r=Object.keys(e);for(let n of Object.keys(e)){let s=e[n];Array.isArray(s.populate)&&O$(r,s.populate,n+".")}return r};function O$(t,e,r){for(let n of e)t.push(r+n.path),Array.isArray(n.populate)&&O$(t,n.populate,r+n.path+".")}R.prototype.cast=function(t,e){e||(e=this._conditions),t=t||this.model;let r=t.schema.options.discriminatorKey;e!=null&&e.hasOwnProperty(r)&&(t=d$(t.discriminators,e[r])||t);let n={upsert:this.options&&this.options.upsert};this.options&&("strict"in this.options&&(n.strict=this.options.strict),"strictQuery"in this.options&&(n.strictQuery=this.options.strictQuery));try{return ose(t.schema,e,n,this)}catch(s){throw typeof s.setModel=="function"&&s.setModel(t),s}};R.prototype._castFields=function(e){let r,n,s,i,o,u;if(e)for(s=Object.keys(e),n=[],u=s.length;u--;)i=s[u],e[i].$elemMatch&&(r||(r={}),r[i]=e[i],n.push(i));if(r){try{o=this.cast(this.model,r)}catch(a){return a}for(u=n.length;u--;)i=n[u],e[i]=o[i]}return e};R.prototype._applyPaths=function(){if(!this.model)return;this._fields=this._fields||{},mm.applyPaths(this._fields,this.model.schema);let e=!0;"selectPopulatedPaths"in this.model.base.options&&(e=this.model.base.options.selectPopulatedPaths),"selectPopulatedPaths"in this.model.schema.options&&(e=this.model.schema.options.selectPopulatedPaths),e&&Ese(this._fields,this._userProvidedFields,this._mongooseOptions.populate)};R.prototype.cursor=function(e){e&&this.setOptions(e);try{this.cast(this.model)}catch(r){return new u$(this)._markError(r)}return new u$(this)};R.prototype.tailable=function(t,e){if(t!=null&&typeof t.constructor=="function"&&t.constructor.name==="Object"&&(e=t,t=!0),t===void 0&&(t=!0),e&&typeof e=="object")for(let r of Object.keys(e))r==="awaitData"||r==="awaitdata"?this.options.awaitData=!!e[r]:this.options[r]=e[r];return R.base.tailable.call(this,t)};R.prototype.near=function(){let t=[],e=this._mongooseOptions.nearSphere;if(arguments.length===1)if(Array.isArray(arguments[0]))t.push({center:arguments[0],spherical:e});else if(typeof arguments[0]=="string")t.push(arguments[0]);else if(dt.isObject(arguments[0]))typeof arguments[0].spherical!="boolean"&&(arguments[0].spherical=e),t.push(arguments[0]);else throw new TypeError("invalid argument");else if(arguments.length===2)if(typeof arguments[0]=="number"&&typeof arguments[1]=="number")t.push({center:[arguments[0],arguments[1]],spherical:e});else if(typeof arguments[0]=="string"&&Array.isArray(arguments[1]))t.push(arguments[0]),t.push({center:arguments[1],spherical:e});else if(typeof arguments[0]=="string"&&dt.isObject(arguments[1]))t.push(arguments[0]),typeof arguments[1].spherical!="boolean"&&(arguments[1].spherical=e),t.push(arguments[1]);else throw new TypeError("invalid argument");else if(arguments.length===3)if(typeof arguments[0]=="string"&&typeof arguments[1]=="number"&&typeof arguments[2]=="number")t.push(arguments[0]),t.push({center:[arguments[1],arguments[2]],spherical:e});else throw new TypeError("invalid argument");else throw new TypeError("invalid argument");return R.base.near.apply(this,t)};R.prototype.nearSphere=function(){return this._mongooseOptions.nearSphere=!0,this.near.apply(this,arguments),this};Symbol.asyncIterator!=null&&(R.prototype[Symbol.asyncIterator]=function(){return this.cursor().transformNull()._transformForAsyncIterator()});R.prototype.box=function(t,e){return!Array.isArray(t)&&dt.isObject(t)&&(e=t.ur,t=t.ll),R.base.box.call(this,t,e)};R.prototype.center=R.base.circle;R.prototype.centerSphere=function(){arguments[0]!=null&&typeof arguments[0].constructor=="function"&&arguments[0].constructor.name==="Object"&&(arguments[0].spherical=!0),arguments[1]!=null&&typeof arguments[1].constructor=="function"&&arguments[1].constructor.name==="Object"&&(arguments[1].spherical=!0),R.base.circle.apply(this,arguments)};R.prototype.selectedInclusively=function(){return hse(this._fields)};R.prototype.selectedExclusively=function(){return fse(this._fields)};R.prototype.model;C$.exports=R});var D$=y((Lhe,b$)=>{"use strict";var SA=st(),w$=require("stream").Readable,Bse=q_(),Tse=on(),Pse=require("util");function Cn(t){w$.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.agg=t,this._transforms=[];let e=t._model;delete t.options.cursor.useMongooseAggCursor,this._mongooseOptions={},Mse(e,this,t)}Pse.inherits(Cn,w$);function Mse(t,e,r){t.collection.buffer?t.collection.emitter.once("queue",function(){t.hooks.execPre("aggregate",r,function(){e.cursor=t.collection.aggregate(r._pipeline,r.options||{}),e.emit("cursor",e.cursor)})}):t.hooks.execPre("aggregate",r,function(){e.cursor=t.collection.aggregate(r._pipeline,r.options||{}),e.emit("cursor",e.cursor)})}Cn.prototype._read=function(){let t=this;Em(this,function(e,r){if(e)return t.emit("error",e);if(!r){t.push(null),t.cursor.close(function(n){if(n)return t.emit("error",n)});return}t.push(r)})};if(Symbol.asyncIterator!=null){let t="Mongoose does not support using async iterators with an existing aggregation cursor. See https://bit.ly/mongoose-async-iterate-aggregation";Cn.prototype[Symbol.asyncIterator]=function(){throw new SA(t)}}Object.defineProperty(Cn.prototype,"map",{value:function(t){return this._transforms.push(t),this},enumerable:!0,configurable:!0,writable:!0});Cn.prototype._markError=function(t){return this._error=t,this};Cn.prototype.close=async function(){if(typeof arguments[0]=="function")throw new SA("AggregationCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close()}catch(e){throw this.listeners("error").length>0&&this.emit("error",e),e}this.emit("close")};Cn.prototype.next=async function(){if(typeof arguments[0]=="function")throw new SA("AggregationCursor.prototype.next() no longer accepts a callback");return new Promise((e,r)=>{Em(this,(n,s)=>{if(n!=null)return r(n);e(s)})})};Cn.prototype.eachAsync=function(t,e,r){let n=this;return typeof e=="function"&&(r=e,e={}),e=e||{},Bse(function(s){return Em(n,s)},t,e,r)};Symbol.asyncIterator!=null&&(Cn.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()});Cn.prototype._transformForAsyncIterator=function(){return this._transforms.indexOf(S$)===-1&&this.map(S$),this};Cn.prototype.transformNull=function(t){return arguments.length===0&&(t=!0),this._mongooseOptions.transformNull=t,this};function S$(t){return t==null?{done:!0}:{value:t,done:!1}}Cn.prototype.addCursorFlag=function(t,e){let r=this;return Fse(this,function(){r.cursor.addCursorFlag(t,e)}),this};function Fse(t,e){if(t.cursor)return e();t.once("cursor",function(){e()})}function Em(t,e){let r=e;if(t._transforms.length&&(r=function(n,s){if(n||s===null&&!t._mongooseOptions.transformNull)return e(n,s);e(n,t._transforms.reduce(function(i,o){return o(i)},s))}),t._error)return Tse(function(){r(t._error)});if(t.cursor)return t.cursor.next().then(n=>{if(!n)return r(null,null);r(null,n)},n=>r(n));t.once("cursor",function(){Em(t,e)})}b$.exports=Cn});var wA=y((jhe,B$)=>{"use strict";B$.exports=function(e,r,n){let s=r&&r.discriminatorMapping;if(n=n||"",s&&!s.isRoot){let i=e,o=(n.length>0?n+".":n)+s.key,u=s.value;if(i[0]!=null&&i[0].$match&&(i[0].$match[o]===void 0||i[0].$match[o]===u))i[0].$match[o]=u;else if(i[0]!=null&&i[0].$geoNear)i[0].$geoNear.query=i[0].$geoNear.query||{},i[0].$geoNear.query[o]=u;else if(i[0]!=null&&i[0].$search)if(i[1]&&i[1].$match!=null)i[1].$match[o]=i[1].$match[o]||u;else{let a={};a[o]=u,i.splice(1,0,{$match:a})}else{let a={};a[o]=u,i.unshift({$match:a})}}}});var P$=y((Uhe,T$)=>{"use strict";T$.exports=function t(e){if(Array.isArray(e))for(let r of e){if(r==null)continue;let n=r.$group||r.$bucket||r.$bucketAuto;if(n!=null)for(let i of Object.keys(n))Ise(n[i]);let s=Object.keys(r)[0];if(s&&typeof r[s]=="object"){let i=r[s];for(let o of Object.keys(i))i[o]!=null&&i[o].$function!=null&&typeof i[o].$function.body=="function"&&(i[o].$function.body=i[o].$function.body.toString())}if(r.$facet!=null)for(let i of Object.keys(r.$facet))t(r.$facet[i])}};function Ise(t){if(!(t==null||t.$accumulator==null))for(let e of["init","accumulate","merge","finalize"])typeof t.$accumulator[e]=="function"&&(t.$accumulator[e]=String(t.$accumulator[e]))}});var BA=y((Vhe,N$)=>{"use strict";var I$=D$(),bA=st(),$$=gm(),{applyGlobalMaxTimeMS:$se,applyGlobalDiskUse:Nse}=V_(),Rse=gt(),xse=Gr(),DA=wA(),vse=P$(),M$=ie(),kse=$$.prototype.read,qse=$$.prototype.readConcern,F$=new Set(["$$DESCEND","$$PRUNE","$$KEEP"]);function we(t,e){this._pipeline=[],this._model=e,this.options={},arguments.length===1&&Array.isArray(t)&&this.append.apply(this,t)}we.prototype.options;we.prototype.model=function(t){return arguments.length===0?this._model:(this._model=t,t.schema!=null&&(this.options.readPreference==null&&t.schema.options.read!=null&&(this.options.readPreference=t.schema.options.read),this.options.collation==null&&t.schema.options.collation!=null&&(this.options.collation=t.schema.options.collation)),t)};we.prototype.append=function(){let t=arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:[...arguments];if(!t.every(Lse))throw new Error("Arguments must be aggregate pipeline operators");return this._pipeline=this._pipeline.concat(t),this};we.prototype.addFields=function(t){if(typeof t!="object"||t===null||Array.isArray(t))throw new Error("Invalid addFields() argument. Must be an object");return this.append({$addFields:Object.assign({},t)})};we.prototype.project=function(t){let e={};if(typeof t=="object"&&!Array.isArray(t))Object.keys(t).forEach(function(r){e[r]=t[r]});else if(arguments.length===1&&typeof t=="string")t.split(/\s+/).forEach(function(r){if(!r)return;let n=r[0]==="-"?0:1;n===0&&(r=r.substring(1)),e[r]=n});else throw new Error("Invalid project() argument. Must be string or object");return this.append({$project:e})};we.prototype.near=function(t){let e={};return e.$geoNear=t,this.append(e)};"group match skip limit out densify fill".split(" ").forEach(function(t){we.prototype[t]=function(e){let r={};return r["$"+t]=e,this.append(r)}});we.prototype.unwind=function(){let t=[...arguments],e=[];for(let r of t)if(r&&typeof r=="object")e.push({$unwind:r});else if(typeof r=="string")e.push({$unwind:r[0]==="$"?r:"$"+r});else throw new Error('Invalid arg "'+r+'" to unwind(), must be string or object');return this.append.apply(this,e)};we.prototype.replaceRoot=function(t){let e;return typeof t=="string"?e=t.startsWith("$")?t:"$"+t:e=t,this.append({$replaceRoot:{newRoot:e}})};we.prototype.count=function(t){return this.append({$count:t})};we.prototype.sortByCount=function(t){if(t&&typeof t=="object")return this.append({$sortByCount:t});if(typeof t=="string")return this.append({$sortByCount:t[0]==="$"?t:"$"+t});throw new TypeError('Invalid arg "'+t+'" to sortByCount(), must be string or object')};we.prototype.lookup=function(t){return this.append({$lookup:t})};we.prototype.graphLookup=function(t){let e={};if(t){if(!M$.isObject(t))throw new TypeError("Invalid graphLookup() argument. Must be an object.");M$.mergeClone(e,t);let r=e.startWith;r&&typeof r=="string"&&(e.startWith=e.startWith.startsWith("$")?e.startWith:"$"+e.startWith)}return this.append({$graphLookup:e})};we.prototype.sample=function(t){return this.append({$sample:{size:t}})};we.prototype.sort=function(t){let e={};if(xse(t)==="Object"){let r=["desc","descending",-1];Object.keys(t).forEach(function(n){if(t[n]instanceof Object&&t[n].$meta){e[n]=t[n];return}e[n]=r.indexOf(t[n])===-1?1:-1})}else if(arguments.length===1&&typeof t=="string")t.split(/\s+/).forEach(function(r){if(!r)return;let n=r[0]==="-"?-1:1;n===-1&&(r=r.substring(1)),e[r]=n});else throw new TypeError("Invalid sort() argument. Must be a string or object.");return this.append({$sort:e})};we.prototype.unionWith=function(t){return this.append({$unionWith:t})};we.prototype.read=function(t,e){return kse.call(this,t,e),this};we.prototype.readConcern=function(t){return qse.call(this,t),this};we.prototype.redact=function(t,e,r){if(arguments.length===3){if(typeof e=="string"&&!F$.has(e)||typeof r=="string"&&!F$.has(r))throw new Error("If thenExpr or elseExpr is string, it must be either $$DESCEND, $$PRUNE or $$KEEP");t={$cond:{if:t,then:e,else:r}}}else if(arguments.length!==1)throw new TypeError("Invalid arguments");return this.append({$redact:t})};we.prototype.explain=async function(e){if(typeof e=="function"||typeof arguments[1]=="function")throw new bA("Aggregate.prototype.explain() no longer accepts a callback");let r=this._model;if(!this._pipeline.length)throw new Error("Aggregate has empty pipeline");DA(this._pipeline,this._model.schema),await new Promise((o,u)=>{r.hooks.execPre("aggregate",this,a=>{if(a){let c={error:a};return r.hooks.execPost("aggregate",this,[null],c,l=>{u(l)})}else o()})});let n=r.collection.aggregate(this._pipeline,this.options);e==null&&(e=!0);let s=null;try{s=await n.explain(e)}catch(o){await new Promise((u,a)=>{let c={error:o};r.hooks.execPost("aggregate",this,[null],c,l=>l?a(l):u())})}let i={error:null};return await new Promise((o,u)=>{r.hooks.execPost("aggregate",this,[s],i,a=>a?u(a):o())}),s};we.prototype.allowDiskUse=function(t){return this.options.allowDiskUse=t,this};we.prototype.hint=function(t){return this.options.hint=t,this};we.prototype.session=function(t){return t==null?delete this.options.session:this.options.session=t,this};we.prototype.option=function(t){for(let e in t)this.options[e]=t[e];return this};we.prototype.cursor=function(t){return this.options.cursor=t||{},new I$(this)};we.prototype.collation=function(t){return this.options.collation=t,this};we.prototype.facet=function(t){return this.append({$facet:t})};we.prototype.search=function(t){return this.append({$search:t})};we.prototype.pipeline=function(){return this._pipeline};we.prototype.exec=async function(){if(!this._model)throw new Error("Aggregate not bound to any Model");if(typeof arguments[0]=="function")throw new bA("Aggregate.prototype.exec() no longer accepts a callback");let e=this._model,r=this._model.collection;if($se(this.options,e),Nse(this.options,e),this.options&&this.options.cursor)return new I$(this);if(DA(this._pipeline,this._model.schema),vse(this._pipeline),await new Promise((o,u)=>{e.hooks.execPre("aggregate",this,a=>{if(a){let c={error:a};return e.hooks.execPost("aggregate",this,[null],c,l=>{u(l)})}else o()})}),!this._pipeline.length)throw new bA("Aggregate has empty pipeline");let n=Rse(this.options||{}),s;try{s=await(await r.aggregate(this._pipeline,n)).toArray()}catch(o){await new Promise((u,a)=>{let c={error:o};e.hooks.execPost("aggregate",this,[null],c,l=>{if(l)return a(l);u()})})}let i={error:null};return await new Promise((o,u)=>{e.hooks.execPost("aggregate",this,[s],i,a=>a?u(a):o())}),s};we.prototype.then=function(t,e){return this.exec().then(t,e)};we.prototype.catch=function(t){return this.exec().then(null,t)};we.prototype.finally=function(t){return this.exec().finally(t)};Symbol.asyncIterator!=null&&(we.prototype[Symbol.asyncIterator]=function(){return this.cursor({useMongooseAggCursor:!0}).transformNull()._transformForAsyncIterator()});function Lse(t){if(typeof t!="object"||t===null)return!1;let e=Object.keys(t);return e.length===1&&e[0][0]==="$"}we._prepareDiscriminatorPipeline=DA;N$.exports=we});var x$=y((Whe,R$)=>{"use strict";var jse=gt(),TA=class{constructor(e){e!=null&&Object.assign(this,jse(e))}};R$.exports=TA});var k$=y((zhe,v$)=>{"use strict";v$.exports=function t(e,r){let n=Object.keys(r.paths),s=n.length;for(let i=0;i<s;++i){let o="",u=n[i],a=r.paths[u],c=a.splitPath(),l=c.length,f=e;for(let h=0;h<l&&f!=null;++h){let d=c[h];if(o+=(o.length?".":"")+d,h===l-1){if(typeof f[d]<"u"){a.$isSingleNested?t(f[d],a.caster.schema):a.$isMongooseDocumentArray&&Array.isArray(f[d])&&f[d].forEach(m=>t(m,a.schema));break}let p=a.getDefault(e,!1,{skipCast:!0});typeof p<"u"&&(f[d]=p,a.$isSingleNested?t(p,a.caster.schema):a.$isMongooseDocumentArray&&Array.isArray(p)&&p.forEach(m=>t(m,a.schema)))}else f[d]==null&&(f[d]={}),f=f[d]}}}});var L$=y((Hhe,q$)=>{"use strict";var Use=at(),Vse=ie();q$.exports=function t(e,r){let n=PA();function s(i,o){Object.defineProperty(e.prototype,i,{get:function(){let u={};for(let a in o.methods[i])u[a]=o.methods[i][a].bind(this);return u},configurable:!0})}for(let i of Object.keys(r.methods)){let o=r.methods[i];if(r.tree.hasOwnProperty(i))throw new Error('You have a method and a property in your schema both named "'+i+'"');if(typeof o=="function"&&n.prototype[i]===o){delete r.methods[i];continue}r.reserved[i]&&!Use(r,`methodOptions.${i}.suppressWarning`,!1)&&Vse.warn(`mongoose: the method name "${i}" is used by mongoose internally, overwriting it may cause bugs. If you're sure you know what you're doing, you can suppress this error by using \`schema.method('${i}', fn, { suppressWarning: true })\`.`),typeof o=="function"?e.prototype[i]=o:s(i,r)}e.$appliedMethods=!0;for(let i of Object.keys(r.paths)){let o=r.paths[i];o.$isSingleNested&&!o.caster.$appliedMethods&&t(o.caster,o.schema),o.$isMongooseDocumentArray&&!o.Constructor.$appliedMethods&&t(o.Constructor,o.schema)}}});var V$=y((Ghe,U$)=>{"use strict";var j$=VE(),Wse=ac(),zse=um(),_m=ie().isPOJO;U$.exports=function(e,r,n){if(r==null||e==null)return e;let s=null;return zse(r)?s=!1:Wse(r)&&(s=!0),s==null?e:s?(n=n||j$(r),MA(e,r,n)):(n=n||j$(r),FA(e,r,n))};function MA(t,e,r,n,s){if(t==null||typeof t!="object")return t;let i={...t};n=s?n||{}:e;for(let o of Object.keys(i)){let u=s?s+"."+o:o;e.hasOwnProperty(u)||n.hasOwnProperty(o)?_m(e[u])||_m(n[o])?i[o]=MA(i[o],e,r,n[o],u):delete i[o]:r[u]&&(i[o]=MA(i[o],e,r,n[o],u))}return i}function FA(t,e,r,n,s){if(t==null||typeof t!="object")return t;let i={...t};n=s?n||{}:e;for(let o of Object.keys(i)){let u=s?s+"."+o:o;if(e.hasOwnProperty(u)||n.hasOwnProperty(o)){(_m(e[u])||_m(n[o]))&&(i[o]=FA(i[o],e,r,n[o],u));continue}else r[u]?i[o]=FA(i[o],e,r,n[o],u):delete i[o]}return i}});var z$=y((Khe,W$)=>{"use strict";W$.exports=function(e){let r=!1;for(let n of Object.keys(e))e[n]==="text"&&(r=!0);return r}});var G$=y((Yhe,H$)=>{"use strict";var Hse=z$();H$.exports=function(e,r,n){Hse(e)||n.hasOwnProperty("collation")&&!r.hasOwnProperty("collation")&&(r.collation=n.collation)}});var Y$=y((Qhe,K$)=>{"use strict";var Gse=E0().middlewareFunctions,Kse=zp();K$.exports=function(e,r,n){let s={useErrorHandlers:!0,numCallbackParams:1};r=r.filter(i=>Gse.indexOf(i.name)!==-1?!!i.model:i.model!==!1),e.$__insertMany=r.createWrapper("insertMany",e.$__insertMany,e,s);for(let i of Object.keys(n))if(r.hasHooks(i)){let o=e[i];e[i]=function(){let u=arguments.length,a=u>0?arguments[u-1]:null,c=typeof a=="function"?a:null,l=Array.prototype.slice.call(arguments,0,c==null?u:u-1);return Kse(c,f=>{r.execPre(i,e,l,function(h){if(h!=null)return f(h);let d=0,p=o.apply(e,l.concat(m));p!=null&&typeof p.then=="function"&&p.then(g=>m(null,g),g=>m(g));function m(g,_){if(!(d++>0)){if(g!=null)return f(g);r.execPost(i,e,[_],function(E){if(E!=null)return f(E);f(null,_)})}}})},e.events)}}}});var J$=y((Jhe,Q$)=>{"use strict";Q$.exports=function(e,r){for(let n in r.statics)e[n]=r.statics[n]}});var Am=y((Xhe,X$)=>{"use strict";X$.exports=function t(e){return this instanceof t?(this.val=e,this):new t(e)}});var Fl=y((Zhe,Z$)=>{"use strict";Z$.exports=new WeakMap});var nN=y((ede,rN)=>{"use strict";var Yse=gt(),eN=Fl(),Qse=re().modelSymbol,Jse=ie();rN.exports=tN;var Om=Symbol("assignRawDocsToIdStructure.hasArray");function tN(t,e,r,n,s){let i=[],o=n.sort&&t.length>1,u=n.$nullIfNotFound,a,c,l;Jse.isMongooseArray(t)&&(t=t.__array);let f=0,h=t.length;if(o&&s&&n[Om]===void 0){n[Om]=!1;for(let d in r)if(Array.isArray(r[d])){n[Om]=!0;break}}for(f=0;f<h;++f){if(l=t[f],Array.isArray(l)){tN(l,e,r,n,!0),i.push(l);continue}if(l===null&&o===!1){i.push(l);continue}if(c=String(l),a=e[c],n.clone&&a!=null)if(n.lean){let d=eN.get(a);a=Yse(a),eN.set(a,d)}else a=a.constructor.hydrate(a._doc);if(s)if(a)if(o){let d=r[c];n[Om]?i.push(a):i[d]=a}else i.push(a);else l!=null&&l[Qse]!=null?i.push(l):i.push(n.retainNullValues||u?null:l);else i[f]=a||null}t.length=0,i.length&&i.forEach(function(d,p){t[p]=d})}});var $A=y((tde,sN)=>{"use strict";sN.exports=IA;function IA(t,e){if(t.virtuals[e])return{virtual:t.virtuals[e],path:void 0};let r=e.split("."),n="",s="";for(let i=0;i<r.length;++i){if(n+=(n.length>0?".":"")+r[i],t.virtuals[n]){if(i===r.length-1)return{virtual:t.virtuals[n],path:s};continue}if(!t.nested[n]){if(t.paths[n]&&t.paths[n].schema){t=t.paths[n].schema;let o=r.slice(i+1).join(".");if(t.virtuals[o]){if(i===r.length-2)return{virtual:t.virtuals[o],nestedSchemaPath:[s,n].filter(u=>!!u).join(".")};continue}if(i+1<r.length&&t.discriminators)for(let u of Object.keys(t.discriminators)){let a=IA(t.discriminators[u],o);if(a!=null){let c=[s,n,a.nestedSchemaPath].filter(l=>!!l).join(".");return{virtual:a.virtual,nestedSchemaPath:c}}}s+=(s.length>0?".":"")+n,n="";continue}if(t.discriminators)for(let o of Object.keys(t.discriminators)){let u=IA(t.discriminators[o],e);if(u)return u}return null}}}});var Cm=y((rde,iN)=>{"use strict";iN.exports=function(e,r,n){return e==null?e:(e._doc!=null&&(e=e._doc),arguments.length>=3?typeof e!="object"||n===void 0?void 0:(e instanceof Map?e.set(r,n):e[r]=n,n):r==="$*"?e instanceof Map?Array.from(e.values()):Object.keys(e).map(s=>e[s]):e instanceof Map?e.get(r):e[r])}});var uN=y((Sm,oN)=>{(function(t,e){typeof Sm=="object"&&typeof oN<"u"?e(Sm):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.sift={}))})(Sm,function(t){"use strict";var e=function(O,w){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,N){b.__proto__=N}||function(b,N){for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(b[K]=N[K])},e(O,w)};function r(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");e(O,w);function b(){this.constructor=O}O.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}var n=function(O){var w="[object "+O+"]";return function(b){return s(b)===w}},s=function(O){return Object.prototype.toString.call(O)},i=function(O){return O instanceof Date?O.getTime():o(O)?O.map(i):O&&typeof O.toJSON=="function"?O.toJSON():O},o=n("Array"),u=n("Object"),a=n("Function"),c=function(O){return O&&(O.constructor===Object||O.constructor===Array||O.constructor.toString()==="function Object() { [native code] }"||O.constructor.toString()==="function Array() { [native code] }")&&!O.toJSON},l=function(O,w){if(O==null&&O==w||O===w)return!0;if(Object.prototype.toString.call(O)!==Object.prototype.toString.call(w))return!1;if(o(O)){if(O.length!==w.length)return!1;for(var b=0,N=O.length;b<N;b++)if(!l(O[b],w[b]))return!1;return!0}else if(u(O)){if(Object.keys(O).length!==Object.keys(w).length)return!1;for(var K in O)if(!l(O[K],w[K]))return!1;return!0}return!1},f=function(O,w,b,N,K,ee){var le=w[N];if(o(O)&&isNaN(Number(le))){for(var Oe=0,vr=O.length;Oe<vr;Oe++)if(!f(O[Oe],w,b,N,Oe,O))return!1}return N===w.length||O==null?b(O,K,ee,N===0):f(O[le],w,b,N+1,le,O)},h=function(){function O(w,b,N,K){this.params=w,this.owneryQuery=b,this.options=N,this.name=K,this.init()}return O.prototype.init=function(){},O.prototype.reset=function(){this.done=!1,this.keep=!1},O}(),d=function(O){r(w,O);function w(b,N,K,ee){var le=O.call(this,b,N,K)||this;return le.children=ee,le}return w.prototype.reset=function(){this.keep=!1,this.done=!1;for(var b=0,N=this.children.length;b<N;b++)this.children[b].reset()},w.prototype.childrenNext=function(b,N,K,ee){for(var le=!0,Oe=!0,vr=0,Gn=this.children.length;vr<Gn;vr++){var kr=this.children[vr];if(kr.done||kr.next(b,N,K,ee),kr.keep||(Oe=!1),kr.done){if(!kr.keep)break}else le=!1}this.done=le,this.keep=Oe},w}(h),p=function(O){r(w,O);function w(b,N,K,ee,le){var Oe=O.call(this,b,N,K,ee)||this;return Oe.name=le,Oe}return w}(d),m=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.next=function(b,N,K,ee){this.childrenNext(b,N,K,ee)},w}(d),g=function(O){r(w,O);function w(b,N,K,ee,le){var Oe=O.call(this,N,K,ee,le)||this;return Oe.keyPath=b,Oe.propop=!0,Oe._nextNestedValue=function(vr,Gn,kr,yx){return Oe.childrenNext(vr,Gn,kr,yx),!Oe.done},Oe}return w.prototype.next=function(b,N,K){f(b,this.keyPath,this._nextNestedValue,0,N,K)},w}(d),_=function(O,w){if(O instanceof Function)return O;if(O instanceof RegExp)return function(N){var K=typeof N=="string"&&O.test(N);return O.lastIndex=0,K};var b=i(O);return function(N){return w(b,i(N))}},E=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.init=function(){this._test=_(this.params,this.options.compare)},w.prototype.next=function(b,N,K){(!Array.isArray(K)||K.hasOwnProperty(N))&&this._test(b,N,K)&&(this.done=!0,this.keep=!0)},w}(h),A=function(O,w,b){return new E(O,w,b)},C=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.next=function(){this.done=!0,this.keep=!1},w}(h),T=function(O){return function(w,b,N,K){return w==null?new C(w,b,N,K):O(w,b,N,K)}},L=function(O){return T(function(w,b,N,K){var ee=typeof i(w),le=O(w);return new E(function(Oe){return typeof i(Oe)===ee&&le(Oe)},b,N,K)})},F=function(O,w,b,N){var K=N.operations[O];return K||P(O),K(w,b,N,O)},P=function(O){throw new Error("Unsupported operation: "+O)},V=function(O,w){for(var b in O)if(w.operations.hasOwnProperty(b)||b.charAt(0)==="$")return!0;return!1},W=function(O,w,b,N,K){if(V(w,K)){var ee=D(w,b,K),le=ee[0],Oe=ee[1];if(Oe.length)throw new Error("Property queries must contain only operations, or exact objects.");return new g(O,w,N,K,le)}return new g(O,w,N,K,[new E(w,N,K)])},$=function(O,w,b){w===void 0&&(w=null);var N=b===void 0?{}:b,K=N.compare,ee=N.operations,le={compare:K||l,operations:Object.assign({},ee||{})},Oe=D(O,null,le),vr=Oe[0],Gn=Oe[1],kr=[];return vr.length&&kr.push(new g([],O,w,le,vr)),kr.push.apply(kr,Gn),kr.length===1?kr[0]:new m(O,w,le,kr)},D=function(O,w,b){var N=[],K=[];if(!c(O))return N.push(new E(O,O,b)),[N,K];for(var ee in O)if(b.operations.hasOwnProperty(ee)){var le=F(ee,O[ee],O,b);if(le&&!le.propop&&w&&!b.operations[w])throw new Error("Malformed query. "+ee+" cannot be matched against property.");le!=null&&N.push(le)}else ee.charAt(0)==="$"?P(ee):K.push(W(ee.split("."),O[ee],ee,O,b));return[N,K]},j=function(O){return function(w,b,N){return O.reset(),O.next(w,b,N),O.keep}},U=function(O,w){return w===void 0&&(w={}),j($(O,null,w))},ke=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.init=function(){this._test=_(this.params,this.options.compare)},w.prototype.reset=function(){O.prototype.reset.call(this),this.keep=!0},w.prototype.next=function(b){this._test(b)&&(this.done=!0,this.keep=!1)},w}(h),be=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.init=function(){if(!this.params||typeof this.params!="object")throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=$(this.params,this.owneryQuery,this.options)},w.prototype.reset=function(){O.prototype.reset.call(this),this._queryOperation.reset()},w.prototype.next=function(b){if(o(b)){for(var N=0,K=b.length;N<K;N++){this._queryOperation.reset();var ee=b[N];this._queryOperation.next(ee,N,b,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},w}(h),Ft=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.init=function(){this._queryOperation=$(this.params,this.owneryQuery,this.options)},w.prototype.reset=function(){O.prototype.reset.call(this),this._queryOperation.reset()},w.prototype.next=function(b,N,K,ee){this._queryOperation.next(b,N,K,ee),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},w}(h),Tr=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.init=function(){},w.prototype.next=function(b){o(b)&&b.length===this.params&&(this.done=!0,this.keep=!0)},w}(h),dr=function(O){if(O.length===0)throw new Error("$and/$or/$nor must be a nonempty array")},Qs=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!1,b}return w.prototype.init=function(){var b=this;dr(this.params),this._ops=this.params.map(function(N){return $(N,null,b.options)})},w.prototype.reset=function(){this.done=!1,this.keep=!1;for(var b=0,N=this._ops.length;b<N;b++)this._ops[b].reset()},w.prototype.next=function(b,N,K){for(var ee=!1,le=!1,Oe=0,vr=this._ops.length;Oe<vr;Oe++){var Gn=this._ops[Oe];if(Gn.next(b,N,K),Gn.keep){ee=!0,le=Gn.keep;break}}this.keep=le,this.done=ee},w}(h),cx=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!1,b}return w.prototype.next=function(b,N,K){O.prototype.next.call(this,b,N,K),this.keep=!this.keep},w}(Qs),s9=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.init=function(){var b=this;this._testers=this.params.map(function(N){if(V(N,b.options))throw new Error("cannot nest $ under "+b.name.toLowerCase());return _(N,b.options.compare)})},w.prototype.next=function(b,N,K){for(var ee=!1,le=!1,Oe=0,vr=this._testers.length;Oe<vr;Oe++){var Gn=this._testers[Oe];if(Gn(b)){ee=!0,le=!0;break}}this.keep=le,this.done=ee},w}(h),lx=function(O){r(w,O);function w(b,N,K,ee){var le=O.call(this,b,N,K,ee)||this;return le.propop=!0,le._in=new s9(b,N,K,ee),le}return w.prototype.next=function(b,N,K,ee){this._in.next(b,N,K),o(K)&&!ee?this._in.keep?(this.keep=!1,this.done=!0):N==K.length-1&&(this.keep=!0,this.done=!0):(this.keep=!this._in.keep,this.done=!0)},w.prototype.reset=function(){O.prototype.reset.call(this),this._in.reset()},w}(h),fx=function(O){r(w,O);function w(){var b=O!==null&&O.apply(this,arguments)||this;return b.propop=!0,b}return w.prototype.next=function(b,N,K){K.hasOwnProperty(N)===this.params&&(this.done=!0,this.keep=!0)},w}(h),hx=function(O){r(w,O);function w(b,N,K,ee){var le=O.call(this,b,N,K,b.map(function(Oe){return $(Oe,N,K)}),ee)||this;return le.propop=!1,dr(b),le}return w.prototype.next=function(b,N,K,ee){this.childrenNext(b,N,K,ee)},w}(p),dx=function(O){r(w,O);function w(b,N,K,ee){var le=O.call(this,b,N,K,b.map(function(Oe){return $(Oe,N,K)}),ee)||this;return le.propop=!0,le}return w.prototype.next=function(b,N,K,ee){this.childrenNext(b,N,K,ee)},w}(p),i9=function(O,w,b){return new E(O,w,b)},o9=function(O,w,b,N){return new ke(O,w,b,N)},u9=function(O,w,b,N){return new Qs(O,w,b,N)},a9=function(O,w,b,N){return new cx(O,w,b,N)},c9=function(O,w,b,N){return new be(O,w,b,N)},l9=function(O,w,b,N){return new lx(O,w,b,N)},f9=function(O,w,b,N){return new s9(O,w,b,N)},h9=L(function(O){return function(w){return w<O}}),d9=L(function(O){return function(w){return w<=O}}),p9=L(function(O){return function(w){return w>O}}),m9=L(function(O){return function(w){return w>=O}}),y9=function(O,w,b){var N=O[0],K=O[1];return new E(function(ee){return i(ee)%N===K},w,b)},g9=function(O,w,b,N){return new fx(O,w,b,N)},E9=function(O,w,b){return new E(new RegExp(O,w.$options),w,b)},_9=function(O,w,b,N){return new Ft(O,w,b,N)},A9={number:function(O){return typeof O=="number"},string:function(O){return typeof O=="string"},bool:function(O){return typeof O=="boolean"},array:function(O){return Array.isArray(O)},null:function(O){return O===null},timestamp:function(O){return O instanceof Date}},O9=function(O,w,b){return new E(function(N){if(typeof O=="string"){if(!A9[O])throw new Error("Type alias does not exist");return A9[O](N)}return N!=null?N instanceof O||N.constructor===O:!1},w,b)},C9=function(O,w,b,N){return new hx(O,w,b,N)},S9=function(O,w,b,N){return new dx(O,w,b,N)},w9=function(O,w,b){return new Tr(O,w,b,"$size")},b9=function(){return null},D9=function(O,w,b){var N;if(a(O))N=O;else if(!process.env.CSP_ENABLED)N=new Function("obj","return "+O);else throw new Error('In CSP mode, sift does not support strings in "$where" condition');return new E(function(K){return N.bind(K)(K)},w,b)},px=Object.freeze({__proto__:null,$Size:Tr,$eq:i9,$ne:o9,$or:u9,$nor:a9,$elemMatch:c9,$nin:l9,$in:f9,$lt:h9,$lte:d9,$gt:p9,$gte:m9,$mod:y9,$exists:g9,$regex:E9,$not:_9,$type:O9,$and:C9,$all:S9,$size:w9,$options:b9,$where:D9}),B9=function(O,w,b){var N=b===void 0?{}:b,K=N.compare,ee=N.operations;return $(O,w,{compare:K,operations:Object.assign({},px,ee||{})})},mx=function(O,w){w===void 0&&(w={});var b=B9(O,null,w);return j(b)};t.$Size=Tr,t.$all=S9,t.$and=C9,t.$elemMatch=c9,t.$eq=i9,t.$exists=g9,t.$gt=p9,t.$gte=m9,t.$in=f9,t.$lt=h9,t.$lte=d9,t.$mod=y9,t.$ne=o9,t.$nin=l9,t.$nor=a9,t.$not=_9,t.$options=b9,t.$or=u9,t.$regex=E9,t.$size=w9,t.$type=O9,t.$where=D9,t.EqualsOperation=E,t.createDefaultQueryOperation=B9,t.createEqualsOperation=A,t.createOperationTester=j,t.createQueryOperation=$,t.createQueryTester=U,t.default=mx,Object.defineProperty(t,"__esModule",{value:!0})})});var cN=y((nde,NA)=>{var aN=uN();NA.exports=aN.default;Object.assign(NA.exports,aN)});var mN=y((sde,pN)=>{"use strict";var Xse=A0(),Zse=Am(),eie=nN(),wm=at(),tie=$A(),dN=Fl(),lN=Cm(),rie=QE(),RA=gs(),fN=cN().default,Dm=ie(),{populateModelSymbol:nie}=re();pN.exports=function(e){let r=Object.assign({},wm(e,"allOptions.options.options"),wm(e,"allOptions.options")),n=Object.assign({},e.options,r,{justOne:e.justOne});n.$nullIfNotFound=e.isVirtual;let s=e.populatedModel,i=[].concat(e.rawIds);e.allIds=[].concat(e.allIds),eie(e.rawIds,e.rawDocs,e.rawOrder,n);let o=e.docs,u=e.rawIds,a=e.options,c=e.count&&e.isVirtual,l;function f(h){if(c)return h;if(h instanceof Zse)return h.val;if(h===void 0)return h;let d=e.allIds[l];if(e.path.endsWith(".$*"))return bm(h,a,n,d);if(e.justOne===!0&&Array.isArray(h)){let p=[];for(let m of h){let g=dN.get(m);(g==null||g===s)&&p.push(m)}for(;h.length>p.length;)Array.prototype.pop.apply(h,[]);for(let m=0;m<p.length;++m)h[m]=p[m];return bm(h[0],a,n,d)}else if(e.justOne===!1&&!Array.isArray(h))return bm([h],a,n,d);return bm(h,a,n,d)}for(l=0;l<o.length;++l){let h=e.path.endsWith(".$*")?e.path.slice(0,-3):e.path,d=RA.get(h,o[l],lN);if(d==null&&!tie(e.originalModel.schema,h))continue;let p;c?p=sie(u[l]):Array.isArray(e.match)?p=Array.isArray(u[l])?u[l].filter(fN(e.match[l])):[u[l]].filter(fN(e.match[l]))[0]:p=u[l];let m=e.originalModel.schema,g=wm(o[l],"$__",null)!=null,_=g?d instanceof Map:Dm.isPOJO(d);if(_=_&&wm(m._getSchema(h),"$isSchemaMap"),!e.isVirtual&&_){let T=d instanceof Map?Array.from(d.keys()):Object.keys(d);p=p.reduce((L,F,P)=>(L.set(T[P],F),L),new Map)}if(g&&Array.isArray(p))for(let T of p)T!=null&&T.$__!=null&&(T.$__.parent=o[l]);else g&&p!=null&&p.$__!=null&&(p.$__.parent=o[l]);if(e.isVirtual&&g){o[l].$populated(h,e.justOne?i[0]:i,e.allOptions),Array.isArray(p)&&(p=p.map(T=>T??void 0)),RA.set(h,p,o[l],void 0,f,!1);continue}let E=h.split("."),A=o[l],C=E[0];for(let T=0;T<E.length-1&&!(Array.isArray(A)&&!Dm.isArrayIndex(E[T])||E[T]==="$*");++T){if(A[E[T]]==null){let L=m._getSchema(C);if(p==null&&L!=null&&L.$isMongooseArray)break;A[E[T]]={}}if(A=A[E[T]],typeof A!="object")break}o[l].$__&&(e.allOptions.options[nie]=e.allOptions.model,o[l].$populated(h,e.unpopulatedValues[l],e.allOptions.options),p!=null&&p.$__!=null&&(p.$__.wasPopulated={value:e.unpopulatedValues[l]}),p instanceof Map&&!p.$isMongooseMap&&(p=new Xse(p,h,o[l],o[l].schema.path(h).$__schemaType))),RA.set(h,p,o[l],lN,f,!1),o[l].$__&&rie(o[l],[e.allOptions.options])}};function sie(t){return Array.isArray(t)?t.some(e=>Array.isArray(e)||e===null)?t.map(e=>e==null?0:Array.isArray(e)?e.filter(r=>r!=null).length:1):t.filter(e=>e!=null).length:t==null?0:1}function bm(t,e,r,n){let s=typeof r.transform=="function",i=s?r.transform:iie;if(Array.isArray(t)){let o=[],u=t.length;for(let l=0;l<u;++l){let f=t[l],h=Array.isArray(n)?n[l]:n;if(!(!xA(f)&&(!r.retainNullValues||f!=null)&&!s)){{if(!r.retainNullValues&&f==null)continue;s&&(f=i(xA(f)?f:null,h))}if(hN(f,e),o.push(f),e.originalLimit&&o.length>=e.originalLimit)break}}let a=o.length;for(;t.length>a;)Array.prototype.pop.apply(t,[]);let c=0;if(Dm.isMongooseArray(t))for(c=0;c<a;++c)t.set(c,o[c],!0);else for(c=0;c<a;++c)t[c]=o[c];return t}return xA(t)||Dm.isPOJO(t)?(hN(t,e),i(t,n)):t instanceof Map?t:r.justOne===!1?[]:t==null?i(t,n):i(null,n)}function hN(t,e){t!=null&&e.excludeId&&(typeof t.$__setValue=="function"?delete t._doc._id:delete t._id)}function xA(t){return t==null?!1:Array.isArray(t)||t.$isMongooseMap||t.$__!=null||dN.has(t)}function iie(t){return t}});var vA=y((ide,yN)=>{"use strict";var oie=z_();yN.exports=function(e,r,n){if(!n||!(r&&r.upsert))return;oie(e)[n]||(r.overwrite?e[n]=0:(e.$setOnInsert||(e.$setOnInsert={}),e.$setOnInsert[n]=0))}});var SN=y((ode,CN)=>{"use strict";var uie=st(),aie=As(),gN=N4(),EN=R4(),Il=gc(),_N=tA(),AN=vA(),{inspect:cie}=require("util"),ON=gA();CN.exports=function(e,r,n){let s=e.base.now(),i=e.base.options.setDefaultsOnInsert;return r.insertOne?o=>{let u=Rc(e,r.insertOne.document),a=new u(r.insertOne.document);u.schema.options.timestamps&&n.timestamps!==!1&&a.initializeTimestamps(),n.session!=null&&a.$session(n.session);let c=u?.schema?.options?.versionKey;if(c&&a[c]==null&&(a[c]=0),r.insertOne.document=a,n.skipValidation||r.insertOne.skipValidation){o(null);return}r.insertOne.document.$validate().then(()=>{o(null)},l=>{o(l,null)})}:r.updateOne?o=>{try{if(!r.updateOne.filter)throw new Error("Must provide a filter object.");if(!r.updateOne.update)throw new Error("Must provide an update object.");let u=Rc(e,r.updateOne.filter),a=u.schema,c=n.strict!=null?n.strict:u.schema.options.strict;if($l(a,r.updateOne.filter),u.schema.$timestamps!=null&&r.updateOne.timestamps!==!1){let f=u.schema.$timestamps.createdAt,h=u.schema.$timestamps.updatedAt;EN(s,f,h,r.updateOne.update,{})}r.updateOne.timestamps!==!1&&gN(s,r.updateOne.update,u.schema),(r.updateOne.setDefaultsOnInsert==null?i:r.updateOne.setDefaultsOnInsert)!==!1&&ON(r.updateOne.filter,u.schema,r.updateOne.update,{setDefaultsOnInsert:!0,upsert:r.updateOne.upsert}),AN(r.updateOne.update,r.updateOne,u.schema.options.versionKey),r.updateOne.filter=Il(u.schema,r.updateOne.filter,{strict:c,upsert:r.updateOne.upsert}),r.updateOne.update=_N(u.schema,r.updateOne.update,{strict:c,overwrite:!1,upsert:r.updateOne.upsert},u,r.updateOne.filter)}catch(u){return o(u,null)}o(null)}:r.updateMany?o=>{try{if(!r.updateMany.filter)throw new Error("Must provide a filter object.");if(!r.updateMany.update)throw new Error("Must provide an update object.");let u=Rc(e,r.updateMany.filter),a=u.schema,c=n.strict!=null?n.strict:u.schema.options.strict;if((r.updateMany.setDefaultsOnInsert==null?i:r.updateMany.setDefaultsOnInsert)!==!1&&ON(r.updateMany.filter,u.schema,r.updateMany.update,{setDefaultsOnInsert:!0,upsert:r.updateMany.upsert}),u.schema.$timestamps!=null&&r.updateMany.timestamps!==!1){let f=u.schema.$timestamps.createdAt,h=u.schema.$timestamps.updatedAt;EN(s,f,h,r.updateMany.update,{})}r.updateMany.timestamps!==!1&&gN(s,r.updateMany.update,u.schema),$l(a,r.updateMany.filter),AN(r.updateMany.update,r.updateMany,u.schema.options.versionKey),r.updateMany.filter=Il(u.schema,r.updateMany.filter,{strict:c,upsert:r.updateMany.upsert}),r.updateMany.update=_N(u.schema,r.updateMany.update,{strict:c,overwrite:!1,upsert:r.updateMany.upsert},u,r.updateMany.filter)}catch(u){return o(u,null)}o(null)}:r.replaceOne?o=>{let u=Rc(e,r.replaceOne.filter),a=u.schema,c=n.strict!=null?n.strict:u.schema.options.strict;$l(a,r.replaceOne.filter);try{r.replaceOne.filter=Il(u.schema,r.replaceOne.filter,{strict:c,upsert:r.replaceOne.upsert})}catch(h){return o(h,null)}let l=new u(r.replaceOne.replacement,c,!0);u.schema.options.timestamps&&l.initializeTimestamps(),n.session!=null&&l.$session(n.session);let f=u?.schema?.options?.versionKey;if(f&&l[f]==null&&(l[f]=0),r.replaceOne.replacement=l,n.skipValidation||r.replaceOne.skipValidation){r.replaceOne.replacement=r.replaceOne.replacement.toBSON(),o(null);return}r.replaceOne.replacement.$validate().then(()=>{r.replaceOne.replacement=r.replaceOne.replacement.toBSON(),o(null)},h=>{o(h,null)})}:r.deleteOne?o=>{let u=Rc(e,r.deleteOne.filter),a=u.schema;$l(a,r.deleteOne.filter);try{r.deleteOne.filter=Il(u.schema,r.deleteOne.filter)}catch(c){return o(c,null)}o(null)}:r.deleteMany?o=>{let u=Rc(e,r.deleteMany.filter),a=u.schema;$l(a,r.deleteMany.filter);try{r.deleteMany.filter=Il(u.schema,r.deleteMany.filter)}catch(c){return o(c,null)}o(null)}:o=>{let u=new uie(`Invalid op passed to \`bulkWrite()\`: ${cie(r)}`);o(u,null)}};function $l(t,e){t!=null&&t.discriminatorMapping&&!t.discriminatorMapping.isRoot&&(e[t.discriminatorMapping.key]=t.discriminatorMapping.value)}function Rc(t,e){let r=t.schema.options.discriminatorKey;return e!=null&&e.hasOwnProperty(r)&&(t=aie(t.discriminators,e[r])||t),t}});var BN=y((ude,DN)=>{"use strict";var lie=Am(),fie=n0(),{trusted:Bm}=Ja(),wN=om();DN.exports=function(e,r,n,s,i){let o=hie(r);if(n.size===1){let u=Array.from(n)[0],a=s.schema.path(u);if(u!=="_id"||!o._id)e=bN(e,a,i),o[u]=Bm({$in:e});else if(u==="_id"&&o._id){let l=wN(o[u])?o[u]:{$eq:o[u]};o[u]={...Bm({$in:e}),...l}}let c=fie(u);for(let l=0;l<c.length-1;++l){let f=c[l];if(o[f]!=null&&o[f].$elemMatch!=null){o[f].$elemMatch[u.slice(f.length+1)]=Bm({$in:e}),delete o[u];break}}}else{let u=[];Array.isArray(o.$or)?(o.$and=[{$or:o.$or},{$or:u}],delete o.$or):o.$or=u;for(let a of n)if(a!=="_id"||!o._id){let c=s.schema.path(a);e=bN(e,c,i),u.push({[a]:{$in:e}})}else if(a==="_id"&&o._id){let c=wN(o[a])?o[a]:{$eq:o[a]};o[a]={...Bm({$in:e}),...c}}}return o};function bN(t,e,r){return t=t.filter(n=>!(n instanceof lie)),r?t.filter(n=>{try{return e.cast(n),!0}catch{return!1}}):t}function hie(t){return Array.isArray(t)?t.length>1?{$or:[].concat(t.map(e=>Object.assign({},e)))}:Object.assign({},t[0]):Object.assign({},t)}});var PN=y((ade,TN)=>{"use strict";function die(){return{result:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},insertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,upsertedCount:0,upsertedIds:{},insertedIds:{},n:0}}TN.exports=die});var FN=y((cde,MN)=>{"use strict";MN.exports=function(e){return e==null?null:Object.keys(e)[0]}});var RN=y((lde,NN)=>{"use strict";var IN=du(),pie=at(),mie=As(),$N=Fl(),xc=gs(),yie=re().populateModelSymbol;NN.exports=function t(e,r,n,s){let i=r.path(s),o=n;if(i)return i;let u=r.discriminatorMapping&&r.discriminatorMapping.key;if(u&&e!=null){if(n!=null&&n[u]!=null){let l=mie(e.discriminators,n[u]);r=l?l.schema:r}else if(e.discriminators!=null)return Object.keys(e.discriminators).reduce((l,f)=>{let h=e.discriminators[f];return l.concat(t(h,h.schema,null,s))},[])}function a(l,f,h,d){let p=l.length+1,m,g;for(;p--;){if(g=l.slice(0,p).join("."),m=f.path(g),m==null)continue;if(m.caster){if(m.caster instanceof IN)return m.caster;let A=null;if(m.schema!=null&&m.schema.discriminators!=null){let C=m.schema.discriminators,T=g+"."+m.schema.options.discriminatorKey,L=h?xc.get(T,h)||[]:[];A=Object.keys(C).reduce(function(F,P){let V=C[P].discriminatorMapping.value;return(n==null||L.indexOf(P)!==-1||L.indexOf(V)!==-1)&&F.push(C[P]),F},[])}if(p!==l.length&&m.schema){let C;if(l[p]==="$")return p+1===l.length?m:(C=a(l.slice(p+1),f,h?xc.get(g,h):null,d.concat(l.slice(0,p))),C&&(C.$parentSchemaDocArray=C.$parentSchemaDocArray||(m.schema.$isSingleNested?null:m)),C);if(A!=null&&A.length>0){C=[];for(let T of A){let L=a(l.slice(p),T,h?xc.get(g,h):null,d.concat(l.slice(0,p)));L!=null&&(L.$parentSchemaDocArray=L.$parentSchemaDocArray||(m.schema.$isSingleNested?null:m),L.$parentSchemaDocArray&&(C.$parentSchemaDocArray=L.$parentSchemaDocArray),C.push(L))}return C}else return C=a(l.slice(p),m.schema,h?xc.get(g,h):null,d.concat(l.slice(0,p))),C&&(C.$parentSchemaDocArray=C.$parentSchemaDocArray||(m.schema.$isSingleNested?null:m)),C}else if(p!==l.length&&m.$isMongooseArray&&m.casterConstructor.$isMongooseArray){let C=m;for(;C.$isMongooseArray&&!C.$isMongooseDocumentArray;)C=C.casterConstructor;let T=a(l.slice(p),C.schema,null,d.concat(l.slice(0,p)));if(T!=null)return T;if(C.schema.discriminators){let L=[];for(let F of Object.keys(C.schema.discriminators)){let P=C.schema.discriminators[F]||C.schema,V=a(l.slice(p),P,null,d.concat(l.slice(0,p)));V!=null&&L.push(V)}if(L.length>0)return L}}}else if(m.$isSchemaMap&&m.$__schemaType instanceof IN)return m.$__schemaType;let _=d.concat([g]).join(".");if(o!=null&&o.$__&&o.$populated(_)&&p<l.length){let A=n.$__.populated[_].options[yie];if(A!=null)return a(l.slice(p),A.schema,h?xc.get(g,h):null,d.concat(l.slice(0,p)))}let E=pie(o,g);if(E!=null){let A=Array.isArray(E)&&E.length>0?$N.get(E[0]):$N.get(E),C=A!=null?A.schema:null;if(C!=null){let T=a(l.slice(p),C,h?xc.get(g,h):null,d.concat(l.slice(0,p)));if(T!=null)return T.$parentSchemaDocArray=T.$parentSchemaDocArray||(C.$isSingleNested?null:C),T}}return m}}let c=s.split(".");for(let l=0;l<c.length;++l)c[l]==="$"&&(c[l]="0");return a(c,r,n,[])}});var kA=y((fde,xN)=>{"use strict";var gie=uc();xN.exports=function(e,r){if(e==null)return!1;if(r==="_id")return e._id===0;let n=Object.keys(e),s=null;for(let i of n)if(gie(e[i])){s=e[r]===1?"inclusive":"exclusive";break}return s==="inclusive"?e[r]!==1:s==="exclusive"?e[r]===0:!1}});var UN=y((hde,jN)=>{"use strict";var Eie=st(),_ie=kA(),vN=Cm(),kN=gs(),Aie=require("util"),qN=ie(),LN=/(\.\d+$|\.\d+\.)/g;jN.exports=function(e,r,n,s,i){if(e==null)return[];if(typeof e=="string"&&i!=null&&_ie(i,e))throw new Eie("refPath `"+e+"` must not be excluded in projection, got "+Aie.inspect(i));if(LN.test(n)){let a=n.split(LN);if(a[a.length-1]==="")throw new Error("Can't populate individual element in an array");let c="",l=e;for(let d=0;d<a.length;d+=2){let p=a[d];if(l.startsWith(p+"."))c+=l.substring(0,p.length)+a[d+1],l=l.substring(p.length+1);else if(d===a.length-1){c+=l,l="";break}else throw new Error("Could not normalize ref path, chunk "+p+" not in populated path")}let f=kN.get(c,r,vN),h=Array.isArray(f)?f:[f];return h=qN.array.flatten(h),h}let o=kN.get(e,r,vN),u;return s!=null&&s.virtuals.hasOwnProperty(e)?u=[s.virtuals[e].applyGetters(void 0,r)]:u=Array.isArray(o)?o:[o],u=qN.array.flatten(u),u}});var KN=y((dde,GN)=>{"use strict";var WN=Ke(),Oie=Am(),Cie=gt(),zn=at(),Sie=As(),wie=Gr(),VN=RN(),bie=$A(),Rl=Cm(),Tu=gs(),Nl=UN(),xr=ie(),Tm=re().modelSymbol,qA=re().populateModelSymbol,jA=hu().schemaMixedSymbol,Die=vE();GN.exports=function(e,r,n){let s,i=r.length,o=[],u=n.model&&n.model.modelName||n.model,a,c,l,f={},h=e.schema;if(n._localModel!=null&&n._localModel.schema.nested[n.path])return[];let d=bie(e.schema,n.path);if((d==null?null:d.virtual)!=null)return Bie(e,r,n,d);let m=VN(e,h,null,n.path);if(m=Array.isArray(m)?m:[m].filter(_=>_!=null),m.length===0&&n.strictPopulate!==!1&&n._localModel!=null)return new Die(n._fullPath||n.path);for(let _=0;_<i;_++){s=r[_];let E=null,A=s!=null&&s.$__!=null?s.$__schema:h;if(a=VN(e,A,s,n.path),a!=null&&a.$isMongooseDocumentArray&&a.options.ref==null&&a.options.refPath==null)continue;if(a&&a.$parentSchemaDocArray&&zn(n,"options.sort")!=null)return new WN("Cannot populate with `sort` on path "+n.path+" because it is a subproperty of a document array");l=null;let T=!1,L=null,F=null,P=null;if(a!=null&&a.instance==="Embedded"){if(a.options.ref){let be={localField:n.path+"._id",foreignField:"_id",justOne:!0},Ft=g(s,a,u,e),Tr=Tu.get(n.path,s),dr=Tu.get("_id",Tr);UA(e,o,f,Ft.modelNames,n,be,dr,s,F,Tr)}continue}if(Array.isArray(a)){let be=a;for(let Ft of be){let Tr,dr;try{dr=g(s,Ft,u,e),Tr=dr.modelNames,T=T||dr.isRefPath,L=L||dr.refPath,E=dr.justOne}catch(Qs){return Qs}if(!(T&&!dr.isRefPath)&&Tr){l=l||[];for(let Qs of Tr)l.indexOf(Qs)===-1&&l.push(Qs)}}}else{try{let be=g(s,a,u,e);l=be.modelNames,T=be.isRefPath,L=L||be.refPath,E=be.justOne,F=zn(a,"options.populate",null),T&&(P=l,l=Array.from(new Set(l)))}catch(be){return be}if(!l)continue}let V={},W=n.path,$="_id";if("justOne"in n&&n.justOne!==void 0?E=n.justOne:a&&!a[jA]&&(n.path.endsWith("."+a.path)||n.path===a.path)&&(E=Array.isArray(a)?a.every(be=>!be.$isMongooseArray):!a.$isMongooseArray),!l)continue;V.isVirtual=!1,V.justOne=E,V.localField=W,V.foreignField=$;let D=zN(s,W,e,n,null,a),j=String(xr.getValue($,s));n._docs[j]=Array.isArray(D)?D.slice():D;let U=zn(n,"match",null),ke=typeof U=="function";ke&&(U=U.call(s,s)),V.match=U,V.hasMatchFunction=ke,V.isRefPath=T,V.modelNamesInOrder=P,T&&(l=Tie(s,h,V,n,L,D)||l);try{UA(e,o,f,l,n,V,D,s,F)}catch(be){return be}}return o;function g(_,E,A,C){let T,L=!1,F=null,P=E;E&&E.instance==="Array"&&(E=E.caster),E&&E.$isSchemaMap&&(E=E.$__schemaType);let V=E&&E.options&&E.options.ref;if(c=E&&E.options&&E.options.refPath,E!=null&&E[jA]&&!V&&!c&&!A)return{modelNames:null};if(A)T=[A];else if(c!=null){if(typeof c=="function"){let W=n.path.slice(0,n.path.length-E.path.length-1),$=Tu.get(W,_,Rl),D=Array.isArray($)?xr.array.flatten($):$?[$]:[];T=new Set;for(let j of D)c=c.call(j,j,n.path),Nl(c,_,n.path,h,n._queryProjection).forEach(U=>T.add(U));T=Array.from(T)}else T=Nl(c,_,n.path,h,n._queryProjection);L=!0}else{let W,$,D,j,U=C,ke=C.schema.options.discriminatorKey;if(!E&&ke&&(j=xr.getValue(ke,_))){let be=Sie(C.discriminators,j)||C;if(be!=null)U=be;else try{U=VA(C.db,j)}catch(Ft){return Ft}D=U.schema._getSchema(n.path),D&&D.caster&&(D=D.caster)}else D=E;if(P&&P.path.endsWith(".$*")?F=!P.$isMongooseArray&&!P._arrayPath:D!=null&&(F=!D.$isMongooseArray&&!D._arrayPath),(W=zn(D,"options.ref"))!=null)if(D!=null&&typeof W=="function"&&n.path.endsWith("."+D.path)){T=new Set;let be=n.path.slice(0,n.path.length-D.path.length-1),Ft=Tu.get(be,_,Rl),Tr=Array.isArray(Ft)?xr.array.flatten(Ft):Ft?[Ft]:[];for(let dr of Tr)T.add(LA(W,dr));Tr.length===0?T=[LA(W,_)]:T=Array.from(T)}else W=LA(W,_),T=[W];else if((D=zn(E,"options.refPath"))!=null)if(L=!0,typeof $=="function"){let be=n.path.slice(0,n.path.length-D.path.length-1),Ft=Tu.get(be,_,Rl),Tr=Array.isArray(Ft)?xr.array.flatten(Ft):Ft?[Ft]:[];T=new Set;for(let dr of Tr)$=$.call(dr,dr,n.path),Nl($,_,n.path,h,n._queryProjection).forEach(Qs=>T.add(Qs));T=Array.from(T)}else T=Nl($,_,n.path,h,n._queryProjection)}if(!T)if(n._localModel==null)T=[C.modelName];else return{modelNames:T,justOne:F,isRefPath:L,refPath:c};return Array.isArray(T)||(T=[T]),{modelNames:T,justOne:F,isRefPath:L,refPath:c}}};function Bie(t,e,r,n){let s=[],i={},o=n.virtual;for(let u of e){let a=null,c={},l,f=n.nestedSchemaPath?n.nestedSchemaPath+".":"";typeof r.localField=="string"?l=r.localField:typeof o.options.localField=="function"?l=f+o.options.localField.call(u,u):Array.isArray(o.options.localField)?l=o.options.localField.map(E=>f+E):l=f+o.options.localField,c.count=o.options.count,o.options.skip!=null&&!r.hasOwnProperty("skip")&&(r.skip=o.options.skip),o.options.limit!=null&&!r.hasOwnProperty("limit")&&(r.limit=o.options.limit),o.options.perDocumentLimit!=null&&!r.hasOwnProperty("perDocumentLimit")&&(r.perDocumentLimit=o.options.perDocumentLimit);let h=o.options.foreignField;if(!l||!h)return new WN(`Cannot populate virtual \`${r.path}\` on model \`${t.modelName}\`, because options \`localField\` and / or \`foreignField\` are missing`);typeof l=="function"&&(l=l.call(u,u)),typeof h=="function"&&(h=h.call(u,u)),c.isRefPath=!1;let d=null;if("justOne"in r&&r.justOne!==void 0&&(d=r.justOne),o.options.refPath)a=Nl(o.options.refPath,u,r.path),d=!!o.options.justOne,c.isRefPath=!0;else if(o.options.ref){let E;typeof o.options.ref=="function"&&!o.options.ref[Tm]?E=o.options.ref.call(u,u):E=o.options.ref,d=!!o.options.justOne,Array.isArray(E)?a=E:a=[E]}c.isVirtual=!0,c.virtual=o,c.justOne=d;let p=zn(c,"virtual.options.match",null)||zn(c,"virtual.options.options.match",null),m=zn(r,"match",null)||p,g=typeof m=="function";if(g&&(m=m.call(u,u,c.virtual)),Array.isArray(l)&&Array.isArray(h)&&l.length===h.length){m=Object.assign({},m);for(let E=1;E<l.length;++E)m[h[E]]=HN(Tu.get(l[E],u,Rl),t.schema),g=!0;l=l[0],h=h[0]}c.localField=l,c.foreignField=h,c.match=m,c.hasMatchFunction=g;let _=zN(u,l,t,r,o);try{UA(t,s,i,a,r,c,_,u)}catch(E){return E}}return s}function UA(t,e,r,n,s,i,o,u,a,c){let l=s.connection!=null?s.connection:t.db;if(c=c===void 0?o:c,Array.isArray(c)&&(c=xr.cloneArrays(c)),n==null)return;let f=n.length;for(;f--;){let h=n[f];if(h==null)continue;let d;if(s.model&&s.model[Tm])d=s.model;else if(h[Tm])d=h;else try{d=VA(l,h)}catch(E){if(o!==void 0)throw E;d=null}let p=o,m=Array.isArray(o)?xr.array.flatten(o):[],g=i.modelNamesInOrder?i.modelNamesInOrder:n;i.isRefPath&&Array.isArray(o)&&m.length===g.length&&(p=m.filter((E,A)=>g[A]===h));let _=s.perDocumentLimit==null?zn(s,"options.perDocumentLimit",null):s.perDocumentLimit;if(!r[h]||_!=null){let E={model:d};i.isVirtual&&zn(i.virtual,"options.options")?E.options=Cie(i.virtual.options.options):a!=null&&(E.options=Object.assign({},a)),xr.merge(E,s),s[qA]=d,E[qA]=d,r[h]={model:d,options:E,match:i.hasMatchFunction?[i.match]:i.match,docs:[u],ids:[p],allIds:[o],unpopulatedValues:[c],localField:new Set([i.localField]),foreignField:new Set([i.foreignField]),justOne:i.justOne,isVirtual:i.isVirtual,virtual:i.virtual,count:i.count,[qA]:d},e.push(r[h])}else r[h].localField.add(i.localField),r[h].foreignField.add(i.foreignField),r[h].docs.push(u),r[h].ids.push(p),r[h].allIds.push(o),r[h].unpopulatedValues.push(c),i.hasMatchFunction&&r[h].match.push(i.match)}}function VA(t,e){return t.models[e]==null&&t._parent!=null?VA(t._parent,e):t.model(e)}function LA(t,e){return typeof t=="function"&&!t[Tm]?t.call(e,e):t}function zN(t,e,r,n,s,i){let o=r.schema._getPathType(e),u=o==="real"?r.schema.path(e):o.schema,a=u&&u.getters?u.getters:[];e=u!=null&&u.instance==="Embedded"?e+"._id":e;let c=zn(n,"options",{}),l="getters"in c?c.getters:zn(s,"options.getters",!1);if(a.length!==0&&l){let f=t.$__!=null?t:r.hydrate(t),h=xr.getValue(e,t);if(Array.isArray(h)){let d=xr.getValue(e.split(".").slice(0,-1),f);return h.map((p,m)=>u.applyGetters(p,d[m]))}else return u.applyGetters(h,f)}else return HN(Tu.get(e,t,Rl),i)}function HN(t,e){if(t!=null&&t.$__!=null||t!=null&&t._id!=null&&(e==null||!e.$isSchemaMap))return t._id;if(Array.isArray(t)){let r=t.__array!=null?t.__array:t;for(let n=0;n<r.length;++n)r[n]!=null&&r[n].$__!=null&&(r[n]=r[n]._id);return xr.isMongooseArray(t)&&t.$schema()?t.$schema()._castForPopulate(t,t.$parent()):[].concat(t)}if(wie(t)==="Object"&&(e==null||e[jA]==null)){let r=[];for(let n of Object.keys(t))r.push(t[n]);return r}return t instanceof Map?Array.from(t.values()):t}function Tie(t,e,r,n,s,i){if(!r.isRefPath||s==null)return;let o=s.split("."),u="",a;for(let c=0;c<o.length;++c){let l=o[c];u=u+(u.length===0?"":".")+l;let f=e.path(u);if(f!=null&&f.$isMongooseArray&&f.caster.discriminators!=null&&Object.keys(f.caster.discriminators).length!==0){let h=xr.getValue(u,t),d=n.path.substring(u.length+1),p=f.caster.schema.options.discriminatorKey;a=[];for(let m of h){let g=xr.getValue(p,m),_=f.caster.discriminators[g],E=_&&_.schema;if(E==null)continue;let A=E.path(d);if(A==null||A.options.refPath==null){let T=xr.getValue(r.localField.substring(u.length+1),m);i.forEach((L,F)=>{L===T&&(i[F]=Oie(L))});continue}let C=xr.getValue(o.slice(c+1).join("."),m);a.push(C)}}}return a}});var QN=y((pde,YN)=>{"use strict";var Pie=at();YN.exports=function(e){if(Array.isArray(e)){let n=Object.keys(e[0]);return n.length===1&&n[0]==="_id"&&e[0]._id!=="hashed"}if(typeof e!="object")return!1;let r=Pie(e,"key",{});return Object.keys(r).length===1&&r.hasOwnProperty("_id")}});var ZN=y((mde,XN)=>{"use strict";var Pm=at(),JN=ie();XN.exports=function(e,r,n){if(n.textIndexVersion!=null){delete n.key._fts,delete n.key._ftsx;let u={...n.weights,...n.key};if(Object.keys(u).length!==Object.keys(e).length)return!1;for(let a of Object.keys(u)){if(!(a in e))return!1;let c=u[a];if(c!==Pm(r,"weights."+a)&&!(c===1&&Pm(r,"weights."+a)==null))return!1}return r.default_language!==n.default_language?n.default_language==="english"&&r.default_language==null:!0}let s=["unique","partialFilterExpression","sparse","expireAfterSeconds","collation"];for(let u of s)if(!(!(u in r)&&!(u in n))){if(u==="collation"){if(r[u]==null||n[u]==null)return r[u]==null&&n[u]==null;let a=Object.keys(r.collation),c=r.collation,l=n.collation;for(let f of a)if(Pm(c,f)!==Pm(l,f))return!1}else if(!JN.deepEqual(r[u],n[u]))return!1}let i=Object.keys(e),o=Object.keys(n.key);if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u]||!JN.deepEqual(e[i[u]],n.key[o[u]]))return!1;return!0}});var nR=y((yde,rR)=>{"use strict";function Mie(t,e){return tR({baseModelName:t.baseModelName,discriminatorMapping:t.schema.discriminatorMapping,indexes:e,indexesType:"schema"})}function Fie(t,e){return tR({baseModelName:t.baseModelName,discriminatorMapping:t.schema.discriminatorMapping,indexes:e,indexesType:"db"})}rR.exports={getRelatedSchemaIndexes:Mie,getRelatedDBIndexes:Fie};function tR({baseModelName:t,discriminatorMapping:e,indexes:r,indexesType:n}){let s=e&&e.key,i=e&&e.value;return s?t?r.filter(u=>{let a=eR(u,n);return a&&a[s]===i}):r.filter(u=>{let a=eR(u,n);return!a||!a[s]}):r}function eR(t,e){if(e==="schema"){let r=t[1];return r&&r.partialFilterExpression}return t.partialFilterExpression}});var iR=y((gde,sR)=>{"use strict";sR.exports=Iie;function Iie(t,e,r){let n=0,s=0,i=null;if(e<=0)throw new Error("Limit must be positive");if(t.length===0)return r(null,[]);for(let c=0;c<t.length&&c<e;++c)o();function o(){t[s+n](a(s+n)),++n}let u=[];function a(c){return(l,f)=>{if(--n,++s,i==null){if(l!=null)return i=l,r(i);if(u[c]=f,s===t.length)return r(null,u);s+n<t.length&&o()}}}}});var uR=y((Ede,oR)=>{"use strict";oR.exports=function t(e,r,n){if(r!=null)for(let s=0;s<r.length;++s)Array.isArray(r[s])?t(e,r[s],n+"."+s):e.push(n+"."+s)}});var hR=y((_de,fR)=>{"use strict";var aR=at(),cR=gs(),lR=mA();fR.exports=function(e,r,n){let s=lR(aR(r,"select",null),!0)||lR(aR(r,"options.select",null),!0);if(s!=null){for(let i of e)if(s.hasOwnProperty("-"+i))for(let o of n)o.$__!=null?cR.unset(i,o._doc):cR.unset(i,o)}}});var pR=y((Ade,dR)=>{"use strict";var $ie=Ke(),Mm=class extends $ie{constructor(e,r,n,s){let i=e.map(o=>o.message).join(", ");i.length>200&&(i=i.slice(0,200)+"..."),super(`${s} failed with ${e.length} Mongoose validation errors: ${i}`),this.validationErrors=e,this.results=r,this.rawResult=n,this.operation=s}};Object.defineProperty(Mm.prototype,"name",{value:"MongooseBulkWriteError"});dR.exports=Mm});var PA=y((IR,$R)=>{"use strict";var Nie=BA(),Rie=BE(),Pu=Qr(),xie=Ip(),vie=xE(),WA=require("events").EventEmitter,kie=ll(),ce=Ke(),qie=NE(),Fm=gm(),Lie=x$(),zA=hc(),$m=lu(),CR=IE(),mR=$E(),jie=Jp(),Uie=k$(),Vie=E0(),Wie=_0(),SR=L$(),zie=V$(),wR=G$(),Hie=Y$(),bR=J$(),DR=W_(),Gie=mN(),Kie=SN(),Ys=gt(),Yie=BN(),BR=vA(),yR=PN(),Qie=e0(),Jie=z0(),Xie=FN(),Zie=V0(),vl=at(),eoe=Gr(),HA=As(),toe=KN(),qc=on(),Nm=Gs().internalToObjectOptions,GA=QN(),TR=ZN(),{getRelatedDBIndexes:roe,getRelatedSchemaIndexes:noe}=nR(),gR=kA(),KA=P4(),soe=r0(),ioe=Fl(),ooe=iR(),uoe=n0(),aoe=wA(),PR=uR(),coe=hR(),loe=K_(),ER=Fu(),_R=require("util"),ve=ie(),MR=pR(),Lc=1,jc=2,vc=Lc|jc,YA=re().arrayAtomicsSymbol,kl=Symbol("mongoose#Model#collection"),QA=Symbol("mongoose#Model#db"),FR=re().modelSymbol,xl=Symbol("mongoose#Model#subclassed"),foe=Object.assign({},Nm,{bson:!0,flattenObjectIds:!1});function G(t,e,r){if(e instanceof zA)throw new TypeError("2nd argument to `Model` must be a POJO or string, **not** a schema. Make sure you're calling `mongoose.model()`, not `mongoose.Model()`.");Pu.call(this,t,e,r)}Object.setPrototypeOf(G.prototype,Pu.prototype);G.prototype.$isMongooseModelPrototype=!0;G.prototype.db;G.prototype.collection;G.prototype.$__collection;G.prototype.modelName;G.prototype.$where;G.prototype.baseModelName;G.events;G._middleware;function JA(t,e){if(t.$where!=null)for(let r of Object.keys(t.$where))e[r]=t.$where[r]}G.prototype.$__handleSave=function(t,e){let r={};DR(this.$__schema,t),typeof t.writeConcern<"u"?(r.writeConcern={},"w"in t.writeConcern&&(r.writeConcern.w=t.writeConcern.w),"j"in t.writeConcern&&(r.writeConcern.j=t.writeConcern.j),"wtimeout"in t.writeConcern&&(r.writeConcern.wtimeout=t.writeConcern.wtimeout)):("w"in t&&(r.w=t.w),"j"in t&&(r.j=t.j),"wtimeout"in t&&(r.wtimeout=t.wtimeout)),"checkKeys"in t&&(r.checkKeys=t.checkKeys);let n=this.$session();if(!r.hasOwnProperty("session")&&n!=null&&(r.session=n),this.$isNew){let i=this.toObject(foe);if((i||{})._id===void 0){qc(function(){e(new ce("document must have an _id before saving"))});return}this.$__version(!0,i),this[kl].insertOne(i,r).then(o=>e(null,o),o=>{kc(this,!0),e(o,null)}),this.$__reset(),kc(this,!1),this.$__.inserting=!0;return}this.$__.inserting=!1;let s=this.$__delta();if(s){if(s instanceof ce){e(s);return}let i=this.$__where(s[0]);if(i instanceof ce){e(i);return}JA(this,i),this[kl].updateOne(i,s[1],r).then(o=>{o.$where=i,e(null,o)},o=>{this.$__undoReset(),e(o)})}else{let i=Object.assign({},t,r),o=this.$__where(),u=this.$__schema.options.optimisticConcurrency;if(u&&!Array.isArray(u)){let a=this.$__schema.options.versionKey,c=this.$__getValue(a);c!=null&&(o[a]=c)}this.constructor.collection.findOne(o,i).then(a=>{e(null,{$where:o,matchedCount:a?1:0})}).catch(e);return}this.$__.modifiedPaths=this.modifiedPaths(),this.$__reset(),kc(this,!1)};G.prototype.$__save=function(t,e){this.$__handleSave(t,(r,n)=>{if(r)return this.$__schema.s.hooks.execPost("save:error",this,[this],{error:r},u=>{e(u,this)});let s=0;if((t!=null?t.writeConcern!=null?t.writeConcern.w:t.w:0)!==0){if(n!=null&&(Array.isArray(n)?s=n.length:n.matchedCount!=null?s=n.matchedCount:s=n),this.$__.version&&!this.$__.inserting){let u=jc===(jc&this.$__.version);this.$__.version=void 0;let a=this.$__schema.options.versionKey,c=this.$__getValue(a)||0;if(s<=0){this.$__undoReset();let l=this.$__.$versionError||new CR(this,c,this.$__.modifiedPaths);return e(l)}u&&this.$__setValue(a,c+1)}if(n!=null&&s<=0)return this.$__undoReset(),r=new xie(n.$where,this.constructor.modelName,s,n),this.$__schema.s.hooks.execPost("save:error",this,[this],{error:r},a=>{e(a,this)})}this.$__.saving=void 0,this.$__.savedState={},this.$emit("save",this,s),this.constructor.emit("save",this,s),e(null,this)})};function hoe(t,e){let r=t.$__schema.options.versionKey;if(!r)return null;let n=t.$__getValue(r)||0;return new CR(t,n,e)}G.prototype.save=async function(e){if(typeof e=="function"||typeof arguments[1]=="function")throw new ce("Model.prototype.save() no longer accepts a callback");let r;if(this.$op="save",this.$__.saving?r=new mR(this):this.$__.saving=new mR(this),e=new Lie(e),e.hasOwnProperty("session")&&this.$session(e.session),this.$__.timestamps!=null&&(e.timestamps=this.$__.timestamps),this.$__.$versionError=hoe(this,this.modifiedPaths()),r)throw this.$__handleReject(r),r;return this.$__.saveOptions=e,await new Promise((n,s)=>{this.$__save(e,i=>{if(this.$__.saving=null,this.$__.saveOptions=null,this.$__.$versionError=null,this.$op=null,i!=null)return this.$__handleReject(i),s(i);n()})}),this};G.prototype.$save=G.prototype.save;function doe(t,e){let r=t.$__schema.options.skipVersioning;return r?(e=e.replace(/\.\d+\./,"."),r[e]):!1}function Bo(t,e,r,n,s,i){if(i||(i="$set"),r[i]||(r[i]={}),r[i][n.path]=s,t.$__schema.options.versionKey!==!1&&!doe(t,n.path)&&vc!==(vc&t.$__.version)&&!t.$__schema.options.optimisticConcurrency){switch(i){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}i==="$push"||i==="$addToSet"||i==="$pullAll"||i==="$pull"?/\.\d+\.|\.\d+$/.test(n.path)?Im.call(t):t.$__.version=jc:/^\$p/.test(i)||Array.isArray(s)?Im.call(t):/\.\d+\.|\.\d+$/.test(n.path)&&(t.$__.version=Lc)}}function poe(t,e,r,n,s){if(r.$set&&r.$set[n.path])return;if(typeof s.$__getAtomics=="function"){s.$__getAtomics().forEach(function(f){let h=f[0],d=f[1];Bo(t,e,r,n,d,h)});return}let i=s[YA],o=Object.keys(i),u=o.length,a,c;if(u===0)return ve.isMongooseObject(s)?s=s.toObject({depopulate:1,_isNested:!0}):s.valueOf&&(s=s.valueOf()),Bo(t,e,r,n,s);function l(f){return ve.isMongooseObject(f)?f.toObject({depopulate:1,_isNested:!0}):f}for(;u--;)c=o[u],a=i[c],ve.isMongooseObject(a)?a=a.toObject({depopulate:!0,transform:!1,_isNested:!0}):Array.isArray(a)?a=a.map(l):a.valueOf&&(a=a.valueOf()),c==="$addToSet"&&(a={$each:a}),Bo(t,e,r,n,a,c)}G.prototype.$__delta=function(){let t=this.$__dirty(),e=this.$__schema.options.optimisticConcurrency;if(e)if(Array.isArray(e)){let u=new Set(e);this.modifiedPaths().find(c=>u.has(c))&&(this.$__.version=t.length?vc:Lc)}else this.$__.version=t.length?vc:Lc;if(!t.length&&vc!==this.$__.version)return;let r={},n={},s=t.length,i=[],o=0;for(r._id=this._doc._id,(r&&r._id&&r._id.$__||null)!=null&&(r._id=r._id.toObject({transform:!1,depopulate:!0}));o<s;++o){let u=t[o],a=u.value,c=moe(this,u.path,a);if(c){i.push(c);continue}if(!this.$populated(u.path,!0)&&this.$__.selected){let f=u.path.split("."),h=f[0];if(this.$__.selected[h]&&this.$__.selected[h].$elemMatch)if(f.length>1&&f[1]==0&&typeof r[h]>"u")r[h]=this.$__.selected[h],f[1]="$",u.path=f.join(".");else{i.push(u.path);continue}}if(!(this.$isDefault(u.path)&&this.$__.selected&&(u.path.indexOf(".")===-1&&gR(this.$__.selected,u.path)||uoe(u.path).find(h=>gR(this.$__.isSelected,h))))&&!i.length)if(a===void 0)Bo(this,r,n,u,1,"$unset");else if(a===null)Bo(this,r,n,u,null);else if(ve.isMongooseArray(a)&&a.$path()&&a[YA])poe(this,r,n,u,a);else if(a[kie.pathSymbol]&&Buffer.isBuffer(a))a=a.toObject(),Bo(this,r,n,u,a);else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[u.path]!=null){let f=this.$__.primitiveAtomics[u.path],h=Xie(f);Bo(this,r,n,u,f[h],h)}else a=Ys(a,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}),Bo(this,r,n,u,a)}return i.length?new vie(i):(this.$__.version&&this.$__version(r,n),Object.keys(n).length===0?[r,null]:[r,n])};function moe(t,e,r){let n=t.$populated(e,!0);if(!n&&t.$__.selected){let i=e.split(".")[0];if(t.$__.selected[i+".$"])return i}if(!(n&&ve.isMongooseArray(r)))return;if(n.options.match||n.options.options&&ve.object.hasOwnProperty(n.options.options,"limit")||n.options.options&&n.options.options.skip||n.options.select&&(n.options.select._id===0||/\s?-_id\s?/.test(n.options.select))){let i=r[YA];if(Object.keys(i).length===0||i.$set||i.$pop)return e}}G.prototype.$__version=function(t,e){let r=this.$__schema.options.versionKey;if(t===!0){r&&(loe(e,r,0),this.$__setValue(r,0));return}if(r!==!1&&this.$__isSelected(r)){if(Lc===(Lc&this.$__.version)){let n=this.$__getValue(r);n!=null&&(t[r]=n)}jc===(jc&this.$__.version)&&(vl(e.$set,r,null)!=null?++e.$set[r]:(e.$inc=e.$inc||{},e.$inc[r]=1))}};function Im(){return this.$__.version=vc,this}G.prototype.increment=Im;G.prototype.$__where=function(e){return e||(e={}),e._id||(e._id=this._doc._id),this._doc._id===void 0?new ce("No _id found on document!"):e};G.prototype.deleteOne=async function(e){if(typeof e=="function"||typeof arguments[1]=="function")throw new ce("Model.prototype.deleteOne() no longer accepts a callback");return e||(e={}),e.hasOwnProperty("session")&&this.$session(e.session),await new Promise((n,s)=>{this.$__deleteOne(e,(i,o)=>{if(i!=null)return s(i);n(o)})})};G.prototype.$__deleteOne=function(e,r){if(this.$__.isDeleted)return qc(()=>r(null,this));let n=this.$__where();if(n instanceof ce)return r(n);JA(this,n);let s=this.$session();e.hasOwnProperty("session")||(e.session=s),this[kl].deleteOne(n,e).then(()=>(this.$__.isDeleted=!0,this.$emit("deleteOne",this),this.constructor.emit("deleteOne",this),r(null,this)),i=>{this.$__.isDeleted=!1,r(i)})};G.prototype.$model=function(e){return arguments.length===0?this.constructor:this[QA].model(e)};G.prototype.model=G.prototype.$model;G.exists=function(e,r){if(_e(this,"exists"),typeof arguments[2]=="function")throw new ce("Model.exists() no longer accepts a callback");return this.findOne(e).select({_id:1}).lean().setOptions(r)};G.discriminator=function(t,e,r){let n;if(typeof t=="function"&&(n=t,t=ve.getFunctionName(n),!(n.prototype instanceof G)))throw new ce("The provided class "+t+" must extend Model");r=r||{};let s=ve.isPOJO(r)?r.value:r,i=typeof r.clone=="boolean"?r.clone:!0,o=typeof r.mergePlugins=="boolean"?r.mergePlugins:!0;if(_e(this,"discriminator"),ve.isObject(e)&&!e.instanceOfSchema&&(e=new zA(e)),e instanceof zA&&i&&(e=e.clone()),e=Jie(this,t,e,s,o,r.mergeHooks),this.db.models[t]&&!e.options.overwriteModels)throw new qie(t);e.$isRootDiscriminator=!0,e.$globalPluginsApplied=!0,n=this.db.model(n||t,e,this.$__collection.name),this.discriminators[t]=n;let u=this.discriminators[t];if(Object.setPrototypeOf(u.prototype,this.prototype),Object.defineProperty(u,"baseModelName",{value:this.modelName,configurable:!0,writable:!1}),SR(u,e),bR(u,e),this[xl]!=null)for(let a of this[xl])a.discriminators=a.discriminators||{},a.discriminators[t]=n.__subclass(n.db,e,a.collection.name);return u};function _e(t,e){if(t==null||t===global)throw new ce("`Model."+e+"()` cannot run without a model as `this`. Make sure you are calling `MyModel."+e+"()` where `MyModel` is a Mongoose model.");if(t[FR]==null)throw new ce("`Model."+e+"()` cannot run without a model as `this`. Make sure you are not calling `new Model."+e+"()`")}for(let t in WA.prototype)G[t]=WA.prototype[t];G.init=function(){if(_e(this,"init"),typeof arguments[0]=="function")throw new ce("Model.init() no longer accepts a callback");if(this.schema.emit("init",this),this.$init!=null)return this.$init;let e=this.db,r=async()=>{if(ve.getOption("autoIndex",this.schema.options,e.config,e.base.options))return await this.ensureIndexes({_automatic:!0})},n=async()=>{if((e.readyState===ER.connecting||e.readyState===ER.disconnected)&&e._shouldBufferCommands()&&await new Promise(u=>{e._queue.push({fn:u})}),!!ve.getOption("autoCreate",this.schema.options,e.config,e.base.options))return await this.createCollection()};this.$init=n().then(()=>r());let s=this.$init.catch,i=this;return this.$init.catch=function(){return i.$caught=!0,s.apply(i.$init,arguments)},this.$init};G.createCollection=async function(e){if(_e(this,"createCollection"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new ce("Model.createCollection() no longer accepts a callback");let r=this&&this.schema&&this.schema.options&&this.schema.options.collectionOptions;r!=null&&(e=Object.assign({},r,e));let n=this&&this.schema&&this.schema.options&&this.schema.options.collation;n!=null&&(e=Object.assign({collation:n},e));let s=this&&this.schema&&this.schema.options&&this.schema.options.capped;s!=null&&(typeof s=="number"?e=Object.assign({capped:!0,size:s},e):typeof s=="object"&&(e=Object.assign({capped:!0},s,e)));let i=this&&this.schema&&this.schema.options&&this.schema.options.timeseries;i!=null&&(e=Object.assign({timeseries:i},e),e.expireAfterSeconds!=null||(e.expires!=null?ve.expires(e):this.schema.options.expireAfterSeconds!=null?e.expireAfterSeconds=this.schema.options.expireAfterSeconds:this.schema.options.expires!=null&&(e.expires=this.schema.options.expires,ve.expires(e))));let o=this&&this.schema&&this.schema.options&&this.schema.options.clusteredIndex;o!=null&&(e=Object.assign({clusteredIndex:{...o,unique:!0}},e));try{await this.db.createCollection(this.$__collection.collectionName,e)}catch(u){if(u!=null&&(u.name!=="MongoServerError"||u.code!==48))throw u}return this.$__collection};G.syncIndexes=async function(e){if(_e(this,"syncIndexes"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new ce("Model.syncIndexes() no longer accepts a callback");let r=this;try{await r.createCollection()}catch(i){if(i!=null&&(i.name!=="MongoServerError"||i.code!==48))throw i}let n=await r.diffIndexes(),s=await r.cleanIndexes({...e,toDrop:n.toDrop});return await r.createIndexes({...e,toCreate:n.toCreate}),s};G.diffIndexes=async function(){if(typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new ce("Model.syncIndexes() no longer accepts a callback");let e=this,r=await e.listIndexes();r===void 0&&(r=[]),r=roe(e,r);let n=e.schema,s=noe(e,n.indexes()),i=goe(n,s,r),o=yoe(n,s,r,i);return{toDrop:i,toCreate:o}};function yoe(t,e,r,n){let s=[];for(let[i,o]of e){let u=!1,a=KA(t,Ys(o));for(let c of r)if(!GA(c)&&TR(i,a,c)&&!n.includes(c.name)){u=!0;break}u||s.push(i)}return s}function goe(t,e,r){let n=[];for(let s of r){let i=!1;if(!GA(s)){for(let[o,u]of e){let a=KA(t,Ys(u));if(wR(o,a,t.options),TR(o,a,s)){i=!0;break}}i||n.push(s.name)}}return n}G.cleanIndexes=async function(e){if(_e(this,"cleanIndexes"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new ce("Model.cleanIndexes() no longer accepts a callback");let r=this,n=r.$__collection;if(Array.isArray(e&&e.toDrop))return await AR(e.toDrop,n);let s=await r.diffIndexes();return await AR(s.toDrop,n)};async function AR(t,e){return t.length===0?[]:(await Promise.all(t.map(r=>e.dropIndex(r))),t)}G.listIndexes=async function(){if(_e(this,"listIndexes"),typeof arguments[0]=="function")throw new ce("Model.listIndexes() no longer accepts a callback");return this.$__collection.buffer&&await new Promise(e=>{this.$__collection.addQueue(e)}),this.$__collection.listIndexes().toArray()};G.ensureIndexes=async function(e){if(_e(this,"ensureIndexes"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new ce("Model.ensureIndexes() no longer accepts a callback");await new Promise((r,n)=>{Eoe(this,e,s=>{if(s!=null)return n(s);r()})})};G.createIndexes=async function(e){if(_e(this,"createIndexes"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new ce("Model.createIndexes() no longer accepts a callback");return this.ensureIndexes(e)};function Eoe(t,e,r){let n=t.schema.indexes(),s;e=e||{};let i=function(f){f&&!t.$caught&&t.emit("error",f),t.emit("index",f||s),r&&r(f||s)};for(let f of n)GA(f)&&ve.warn('mongoose: Cannot specify a custom index on `_id` for model name "'+t.modelName+'", MongoDB does not allow overwriting the default `_id` index. See https://bit.ly/mongodb-id-index');if(!n.length){qc(function(){i()});return}let o=function(f,h,d,p){t.emit("index-single-done",f,h,d,p)},u=function(f,h){t.emit("index-single-start",f,h)},a=t.schema._baseSchema,c=a?a.indexes():[];qc(function(){e._automatic&&!t.collection.collection?t.collection.addQueue(l,[]):l()});function l(){if(e._automatic&&(t.schema.options.autoIndex===!1||t.schema.options.autoIndex==null&&t.db.config.autoIndex===!1))return i();let f=n.shift();if(!f)return i();if(e._automatic&&f[1]._autoIndex===!1||c.find(p=>ve.deepEqual(p,f)))return l();let h=Ys(f[0]),d=Ys(f[1]);if(delete d._autoIndex,KA(t.schema,d),DR(t.schema,d),wR(h,d,t.schema.options),u(h,e),"background"in e&&(d.background=e.background),"toCreate"in e&&e.toCreate.length===0)return i();t.collection.createIndex(h,d).then(p=>{o(null,h,d,p),l()},p=>{s||(s=p),t.$caught||t.emit("error",p),o(p,h,d),l()})}}G.schema;G.db;G.collection;G.$__collection;G.base;G.discriminators;G.translateAliases=function(e,r){_e(this,"translateAliases");let n=(s,i)=>{let o,u=[],a=s.split("."),c=this.schema;for(let f in a){let h=a[f];if(c&&c.aliases[h]){if(o=c.aliases[h],r&&o in e)throw new ce(`Provided object has both field "${h}" and its alias "${o}"`);u.push(o)}else o=h,u.push(h);c&&c.paths[o]?c=c.paths[o].schema:c=null}let l=u.join(".");return e instanceof Map?e.set(l,i):e[l]=i,l!==s&&(e instanceof Map?e.delete(s):delete e[s]),e};if(typeof e=="object"){if(e instanceof Map)for(let s of new Map(e))e=n(s[0],s[1]);else for(let s of Object.keys(e))if(e=n(s,e[s]),s[0]==="$")if(Array.isArray(e[s]))for(let i in e[s])e[s][i]=this.translateAliases(e[s][i]);else this.translateAliases(e[s]);return e}else return e};G.deleteOne=function(e,r){if(_e(this,"deleteOne"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new ce("Model.prototype.deleteOne() no longer accepts a callback");let n=new this.Query({},{},this,this.$__collection);return n.setOptions(r),n.deleteOne(e)};G.deleteMany=function(e,r){if(_e(this,"deleteMany"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new ce("Model.deleteMany() no longer accepts a callback");let n=new this.Query({},{},this,this.$__collection);return n.setOptions(r),n.deleteMany(e)};G.find=function(e,r,n){if(_e(this,"find"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new ce("Model.find() no longer accepts a callback");let s=new this.Query({},{},this,this.$__collection);return s.select(r),s.setOptions(n),s.find(e)};G.findById=function(e,r,n){if(_e(this,"findById"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new ce("Model.findById() no longer accepts a callback");return typeof e>"u"&&(e=null),this.findOne({_id:e},r,n)};G.findOne=function(e,r,n){if(_e(this,"findOne"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new ce("Model.findOne() no longer accepts a callback");let s=new this.Query({},{},this,this.$__collection);return s.select(r),s.setOptions(n),s.findOne(e)};G.estimatedDocumentCount=function(e){return _e(this,"estimatedDocumentCount"),new this.Query({},{},this,this.$__collection).estimatedDocumentCount(e)};G.countDocuments=function(e,r){if(_e(this,"countDocuments"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new ce("Model.countDocuments() no longer accepts a callback");let n=new this.Query({},{},this,this.$__collection);return r!=null&&n.setOptions(r),n.countDocuments(e)};G.count=function(e){if(_e(this,"count"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new ce("Model.count() no longer accepts a callback");return new this.Query({},{},this,this.$__collection).count(e)};G.distinct=function(e,r){if(_e(this,"distinct"),typeof arguments[0]=="function"||typeof arguments[1]=="function")throw new ce("Model.distinct() no longer accepts a callback");return new this.Query({},{},this,this.$__collection).distinct(e,r)};G.where=function(e,r){_e(this,"where");let n=new this.Query({},{},this,this.$__collection).find({});return n.where.apply(n,arguments)};G.$where=function(){_e(this,"$where");let e=new this.Query({},{},this,this.$__collection).find({});return e.$where.apply(e,arguments)};G.findOneAndUpdate=function(t,e,r){if(_e(this,"findOneAndUpdate"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new ce("Model.findOneAndUpdate() no longer accepts a callback");arguments.length===1&&(e=t,t=null,r=null);let n;r&&(n=r.fields||r.projection),e=Ys(e,{depopulate:!0,_isNested:!0}),BR(e,r,this.schema.options.versionKey);let s=new this.Query({},{},this,this.$__collection);return s.select(n),s.findOneAndUpdate(t,e,r)};G.findByIdAndUpdate=function(t,e,r){if(_e(this,"findByIdAndUpdate"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new ce("Model.findByIdAndUpdate() no longer accepts a callback");return t instanceof Pu&&(t=t._id),this.findOneAndUpdate.call(this,{_id:t},e,r)};G.findOneAndDelete=function(t,e){if(_e(this,"findOneAndDelete"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new ce("Model.findOneAndDelete() no longer accepts a callback");let r;e&&(r=e.select,e.select=void 0);let n=new this.Query({},{},this,this.$__collection);return n.select(r),n.findOneAndDelete(t,e)};G.findByIdAndDelete=function(t,e){if(_e(this,"findByIdAndDelete"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function")throw new ce("Model.findByIdAndDelete() no longer accepts a callback");return this.findOneAndDelete({_id:t},e)};G.findOneAndReplace=function(t,e,r){if(_e(this,"findOneAndReplace"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new ce("Model.findOneAndReplace() no longer accepts a callback");let n;r&&(n=r.select,r.select=void 0);let s=new this.Query({},{},this,this.$__collection);return s.select(n),s.findOneAndReplace(t,e,r)};G.findOneAndRemove=function(t,e){if(_e(this,"findOneAndRemove"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new ce("Model.findOneAndRemove() no longer accepts a callback");let r;e&&(r=e.select,e.select=void 0);let n=new this.Query({},{},this,this.$__collection);return n.select(r),n.findOneAndRemove(t,e)};G.findByIdAndRemove=function(t,e){if(_e(this,"findByIdAndRemove"),typeof arguments[0]=="function"||typeof arguments[1]=="function"||typeof arguments[2]=="function"||typeof arguments[3]=="function")throw new ce("Model.findByIdAndRemove() no longer accepts a callback");return this.findOneAndRemove({_id:t},e)};G.create=async function(e,r){if(typeof r=="function"||typeof arguments[2]=="function")throw new ce("Model.create() no longer accepts a callback");_e(this,"create");let n,s=this.schema.options.discriminatorKey;if(Array.isArray(e))n=e,r=r!=null&&typeof r=="object"?r:{};else{let u=arguments[arguments.length-1];if(r={},typeof u=="function"||typeof r=="function"||typeof arguments[2]=="function")throw new ce("Model.create() no longer accepts a callback");n=[...arguments],n.length>1&&!u&&n.pop(),n.length===2&&n[0]!=null&&n[1]!=null&&n[0].session==null&&u&&eoe(u.session)==="ClientSession"&&!this.schema.path("session")&&ve.warn("WARNING: to pass a `session` to `Model.create()` in Mongoose, you **must** pass an array as the first argument. See: https://mongoosejs.com/docs/api/model.html#Model.create()")}if(n.length===0)return Array.isArray(e)?[]:null;let i=[],o=typeof r.aggregateErrors=="boolean"?!r.aggregateErrors:!0;if(delete r.aggregateErrors,r.ordered){for(let u=0;u<n.length;u++)try{let a=n[u],c=this.discriminators&&a[s]!=null?this.discriminators[a[s]]||HA(this.discriminators,a[s]):this;if(c==null)throw new ce(`Discriminator "${a[s]}" not found for model "${this.modelName}"`);let l=a;l instanceof c||(l=new c(l)),await l.$save(r),i.push(l)}catch(a){if(!o)i.push(a);else throw a}return i}else{let a=(o?Promise.all.bind(Promise):Promise.allSettled.bind(Promise))(n.map(async c=>{let l=this.discriminators&&c[s]!=null?this.discriminators[c[s]]||HA(this.discriminators,c[s]):this;if(l==null)throw new ce(`Discriminator "${c[s]}" not found for model "${this.modelName}"`);let f=c;return f instanceof l||(f=new l(f)),await f.$save(r),f}));o||(a=a.then(c=>c.map(l=>l.status==="fulfilled"?l.value:l.reason))),i=await a}return!Array.isArray(e)&&n.length===1?i[0]:i};G.watch=function(t,e){_e(this,"watch");let r=n=>{if(t=t||[],aoe(t,this.schema,"fullDocument"),this.$__collection.buffer)this.$__collection.addQueue(()=>{if(this.closed)return;let s=this.$__collection.watch(t,e);n(null,s)});else{let s=this.$__collection.watch(t,e);n(null,s)}};return e=e||{},e.model=this,new Rie(r,t,e)};G.startSession=function(){return _e(this,"startSession"),this.db.startSession.apply(this.db,arguments)};G.insertMany=async function(e,r){if(_e(this,"insertMany"),typeof r=="function"||typeof arguments[2]=="function")throw new ce("Model.insertMany() no longer accepts a callback");return new Promise((n,s)=>{this.$__insertMany(e,r,(i,o)=>{if(i!=null)return s(i);n(o)})})};G.$__insertMany=function(t,e,r){let n=this;typeof e=="function"&&(r=e,e=null),r=r||ve.noop,e=e||{};let s=e.limit||1e3,i=!!e.rawResult,o=typeof e.ordered=="boolean"?e.ordered:!0,u=typeof e.throwOnValidationError=="boolean"?e.throwOnValidationError:!1,a=!!e.lean;Array.isArray(t)||(t=[t]);let c=[],l=new Map,f=o?null:new Array(t.length),h=t.map((d,p)=>m=>{if(!(d instanceof n))try{d=new n(d)}catch(g){return m(g)}if(e.session!=null&&d.$session(e.session),a)return qc(()=>m(null,d));d.$validate().then(()=>{m(null,d)},g=>{if(o===!1)return c.push(g),l.set(g,p),f[p]=g,m(null,null);m(g)})});ooe(h,s,function(d,p){if(d){r(d,null);return}let m=new Map,g=new Map;for(let A=0;A<p.length;++A)m.set(p[A],A);let _=p.filter(function(A){return A!=null});for(let A=0;A<_.length;++A)g.set(A,m.get(_[A]));if(c.length>0&&c.sort((A,C)=>l.get(A)-l.get(C)),_.length===0){if(i)return r(null,{acknowledged:!0,insertedCount:0,insertedIds:{},mongoose:{validationErrors:c}});r(null,[]);return}let E=_.map(function(A){return A.$__schema.options.versionKey&&(A[A.$__schema.options.versionKey]=0),(!e||e.timestamps!==!1)&&A.initializeTimestamps&&(!A.$__||A.$__.timestamps!==!1)?A.initializeTimestamps().toObject(Nm):A.toObject(Nm)});n.$__collection.insertMany(E,e).then(A=>{for(let C of _)C.$__reset(),kc(C,!1);if(o===!1&&u&&c.length>0){for(let C=0;C<f.length;++C)f[C]===void 0&&(f[C]=p[C]);return r(new MR(c,f,A,"insertMany"))}if(i){if(o===!1){for(let C=0;C<f.length;++C)f[C]===void 0&&(f[C]=p[C]);A.mongoose={validationErrors:c,results:f}}return r(null,A)}if(e.populate!=null)return n.populate(_,e.populate).then(C=>{r(null,C)},C=>{throw C!=null&&(C.insertedDocs=_),C});r(null,_)},A=>{A.writeErrors==null&&(A.result&&A.result.result&&A.result.result.writeErrors)!=null&&(A.writeErrors=A.result.result.writeErrors);let C=A&&A.writeErrors,T=new Set((A&&A.writeErrors||[]).map(F=>F.index));if(A.writeErrors!=null)for(let F=0;F<A.writeErrors.length;++F){let P=g.get(A.writeErrors[F].index);A.writeErrors[F]={...A.writeErrors[F],index:P},o||(f[P]=A.writeErrors[F])}if(!o){for(let F=0;F<f.length;++F)f[F]===void 0&&(f[F]=p[F]);A.results=f}let L=-1;A.insertedDocs=_.filter((F,P)=>{let V=!C||T.has(P);if(o){if(L>-1)return P<L;V&&(L=P)}return!V}).map(function(P){return P.$__reset(),kc(P,!1),P}),i&&o===!1&&(A.mongoose={validationErrors:c,results:f}),r(A,null)})})};function kc(t,e){t.$isNew=e,t.$emit("isNew",e),t.constructor.emit("isNew",e);let r=t.$getAllSubdocs();for(let n of r)n.$isNew=e,n.$emit("isNew",e)}G.bulkWrite=async function(e,r){if(_e(this,"bulkWrite"),typeof r=="function"||typeof arguments[2]=="function")throw new ce("Model.bulkWrite() no longer accepts a callback");r=r||{};let n=r.ordered==null?!0:r.ordered,s=e.map(i=>Kie(this,i,r));return new Promise((i,o)=>{if(n){Zie(s,(h,d)=>h(d),h=>{if(h)return o(h);if(e.length===0)return i(yR());try{this.$__collection.bulkWrite(e,r,(d,p)=>{if(d)return o(d);i(p)})}catch(d){return o(d)}});return}let u=s.length,a=[],c=[],l=[];if(u===0)f.call(this);else for(let h=0;h<s.length;++h)s[h](d=>{d==null?a.push(h):(c.push({index:h,error:d}),l[h]=d),--u<=0&&f.call(this)});c=c.sort((h,d)=>h.index-d.index).map(h=>h.error);function f(){let h=a;if(a=a.sort().map(d=>e[d]),a.length===0)return i(yR());this.$__collection.bulkWrite(a,r,(d,p)=>{if(d)return c.length>0&&(d.mongoose=d.mongoose||{},d.mongoose.validationErrors=c),o(d);for(let m=0;m<h.length;++m)l[h[m]]=null;if(c.length>0){if(r.throwOnValidationError)return o(new MR(c,l,p,"bulkWrite"));p.mongoose=p.mongoose||{},p.mongoose.validationErrors=c,p.mongoose.results=l}i(p)})}})};G.bulkSave=async function(e,r){if(r=r||{},r.timestamps!=null)for(let o of e)o.$__.saveOptions=o.$__.saveOptions||{},o.$__.saveOptions.timestamps=r.timestamps;else for(let o of e)o.$__.timestamps!=null&&(o.$__.saveOptions=o.$__.saveOptions||{},o.$__.saveOptions.timestamps=o.$__.timestamps);await Promise.all(e.map(_oe));let n=this.buildBulkWriteOperations(e,{skipValidation:!0,timestamps:r.timestamps}),{bulkWriteResult:s,bulkWriteError:i}=await this.bulkWrite(n,r).then(o=>({bulkWriteResult:o,bulkWriteError:null}),o=>({bulkWriteResult:null,bulkWriteError:o}));if(await Promise.all(e.map(async o=>{(i&&i.writeErrors.find(a=>(a.err.op._id||a.err.op.q._id).toString()===o._id.toString()))==null&&await Aoe(o)})),i&&i.writeErrors&&i.writeErrors.length)throw i;return s};function _oe(t){return new Promise((e,r)=>{t.schema.s.hooks.execPre("save",t,n=>{if(n){r(n);return}e()})})}function Aoe(t){return new Promise((e,r)=>{t.$isNew&&kc(t,!1),t.$__reset(),t.schema.s.hooks.execPost("save",t,[t],{},n=>{if(n){r(n);return}e()})})}G.applyDefaults=function t(e){if(e.$__!=null){jie(e,e.$__.fields,e.$__.exclude);for(let r of e.$getAllSubdocs())t(r,r.$__.fields,r.$__.exclude);return e}return Uie(e,this.schema),e};G.castObject=function(e,r){r=r||{};let n={},s=this.schema,i=Object.keys(s.paths);for(let u of i){let a=s.path(u);if(!a||!a.$isMongooseArray)continue;let c=vl(e,u);PR(i,c,u)}let o=null;for(let u of i){let a=s.path(u);if(a==null)continue;let c=vl(e,u,void 0);if(c==null)continue;let l=u.indexOf(".")===-1?[u]:u.split("."),f=n;for(let h=0;h<l.length-1;++h)f[l[h]]==null&&(f[l[h]]=isNaN(l[h+1])?{}:[]),f=f[l[h]];if(!a.$isMongooseDocumentArray){if(a.$isSingleNested||a.$isMongooseDocumentArrayElement){try{c=G.castObject.call(a.caster,c)}catch(h){r.ignoreCastErrors||(o=o||new $m,o.addError(u,h));continue}f[l[l.length-1]]=c;continue}try{c=a.cast(c),f[l[l.length-1]]=c}catch(h){r.ignoreCastErrors||(o=o||new $m,o.addError(u,h));continue}}}if(o!=null)throw o;return n};G.buildBulkWriteOperations=function(e,r){if(!Array.isArray(e))throw new Error(`bulkSave expects an array of documents to be passed, received \`${e}\` instead`);i();let n=this.schema.options.discriminatorKey;return e.reduce((o,u,a)=>{if(!r.skipValidation){if(!(u instanceof Pu))throw new Error(`documents.${a} was not a mongoose document, documents must be an array of mongoose documents (instanceof mongoose.Document).`);let h=u.validateSync();if(h)throw h}if(u.isNew){let h={insertOne:{document:u}};return ve.injectTimestampsOption(h.insertOne,r.timestamps),o.push(h),o}let l=u.$__delta();if(l!=null&&!ve.isEmptyObject(l[0])){let h=u.$__where(l[0]),d=l[1];JA(u,h),u[n]!=null&&!(n in h)&&(h[n]=u[n]),u.$__version(h,l);let p={updateOne:{filter:h,update:d}};return ve.injectTimestampsOption(p.updateOne,r.timestamps),o.push(p),o}return o},[]);function i(){r=r||{},r.skipValidation==null&&(r.skipValidation=!1)}};G.hydrate=function(t,e,r){_e(this,"hydrate"),e!=null&&(t!=null&&t.$__!=null&&(t=t.toObject(Nm)),t=zie(t,e));let n=cc().createModel(this,t,e);return n.$init(t,r),n};G.updateMany=function(e,r,n){return _e(this,"updateMany"),XA(this,"updateMany",e,r,n)};G.updateOne=function(e,r,n){return _e(this,"updateOne"),XA(this,"updateOne",e,r,n)};G.replaceOne=function(e,r,n){_e(this,"replaceOne");let s=this&&this.schema&&this.schema.options&&this.schema.options.versionKey||null;return s&&!r[s]&&(r[s]=0),XA(this,"replaceOne",e,r,n)};function XA(t,e,r,n,s){let i=new t.Query({},{},t,t.collection);r instanceof Pu?r=r.toObject():r=Ys(r),s=typeof s=="function"?s:Ys(s);let o=t&&t.schema&&t.schema.options&&t.schema.options.versionKey||null;return BR(n,s,o),i[e](r,n,s)}G.aggregate=function(e,r){if(_e(this,"aggregate"),typeof r=="function"||typeof arguments[2]=="function")throw new ce("Model.aggregate() no longer accepts a callback");let n=new Nie(e||[]);return n.model(this),r!=null&&n.option(r),n};G.validate=async function(e,r,n){if((arguments.length<3||arguments.length===3&&typeof arguments[2]=="function")&&(n=e),typeof n=="function"||typeof arguments[3]=="function")throw new ce("Model.validate() no longer accepts a callback");let s=this.schema,i=s.options.discriminatorKey;s.discriminators!=null&&e!=null&&e[i]!=null&&(s=Qie(s,e[i])||s);let o=Object.keys(s.paths);if(r!=null){let c=typeof r=="string"?new Set(r.split(" ")):Array.isArray(r)?new Set(r):new Set(o);o=o.filter(l=>{if(r.pathsToSkip){if(Array.isArray(r.pathsToSkip)){if(r.pathsToSkip.find(d=>d==l))return!1}else if(typeof r.pathsToSkip=="string"&&r.pathsToSkip.includes(l))return!1}let f=l.split("."),h=f[0];for(let d of f){if(c.has(h))return!0;h+="."+d}return c.has(l)})}for(let c of o){let l=s.path(c);if(!l||!l.$isMongooseArray||l.$isMongooseDocumentArray)continue;let f=vl(e,c);PR(o,f,c)}let u=o.length,a=null;return new Promise((c,l)=>{for(let h of o){let d=s.path(h);if(d==null){f();continue}let p=h.indexOf(".")===-1?[h]:h.split("."),m=e;for(let _=0;_<p.length-1;++_)m=m[p[_]];let g=vl(e,h,void 0);if(g!=null)try{g=d.cast(g),m[p[p.length-1]]=g}catch(_){a=a||new $m,a.addError(h,_),f();continue}d.doValidate(g,_=>{_&&(a=a||new $m,a.addError(h,_)),f()},n,{path:h})}function f(){--u<=0&&(a?l(a):c())}})};G.populate=async function(e,r){if(_e(this,"populate"),typeof r=="function"||typeof arguments[2]=="function")throw new ce("Model.populate() no longer accepts a callback");let n=this;r=ve.populate(r);let s={};return new Promise((i,o)=>{Ooe(n,e,r,s,(u,a)=>{if(u)return o(u);i(a)})})};function Ooe(t,e,r,n,s){let i=r.length;if(r.length===0)return s(null,e);for(let u of r)woe(t,e,u,o);function o(u){if(u)return s(u,null);--i||s(null,e)}}var Coe=/\s?-_id\s?/,Soe=/\s?-_id\s?/g;function woe(t,e,r,n){let s=r;if(r.strictPopulate==null&&(r._localModel!=null&&r._localModel.schema._userProvidedOptions.strictPopulate!=null?s.strictPopulate=r._localModel.schema._userProvidedOptions.strictPopulate:(r._localModel!=null&&t.base.options.strictPopulate!=null||t.base.options.strictPopulate!=null)&&(s.strictPopulate=t.base.options.strictPopulate)),Array.isArray(e)||(e=[e]),e.length===0||e.every(ve.isNullOrUndefined))return n();let i=toe(t,e,s);if(i instanceof ce)return qc(function(){n(i)});let o=i.length,u=[];function a(p){return p!==void 0}let c=o,l=!1,f=[];for(let p=0;p<o;++p){let m=i[p],g=m.options.select,_=ve.array.flatten(m.ids,a);_=ve.array.unique(_);let E={};if(E.sort=m&&m.options&&m.options.options&&m.options.options.sort||void 0,E.excludeId=Coe.test(g)||g&&g._id===0,m.options&&m.options.options&&m.options.options.lean&&m.options.options.lean.transform&&(m.options.options._leanTransform=m.options.options.lean.transform,m.options.options.lean=!0),_.length===0||_.every(ve.isNullOrUndefined)){--c,OR(t,[],m,E);continue}l=!0,typeof s.foreignField=="string"&&(m.foreignField.clear(),m.foreignField.add(s.foreignField));let A=Yie(_,m.match,m.foreignField,m.model,m.options.skipInvalidIds);E.excludeId&&(typeof g=="string"?g=g.replace(Soe," "):(g=ve.object.shallowCopy(g),delete g._id)),m.options.options&&m.options.options.limit!=null?E.originalLimit=m.options.options.limit:m.options.limit!=null&&(E.originalLimit=m.options.limit),f.push([m,A,g,E,h])}if(!l){if(i.length!==0)return n();if(s.populate!=null){let p=ve.populate(s.populate).map(m=>Object.assign({},m,{path:s.path+"."+m.path}));t.populate(e,p).then(m=>{n(null,m)},m=>{n(m)});return}return n()}for(let p of f)boe.apply(null,p);function h(p,m){if(p!=null)return n(p,null);u=u.concat(m),--c===0&&d()}function d(){for(let p of f){let m=p[0],g=p[3];for(let _ of u)m.options._childDocs.push(_);try{OR(t,u,m,g)}catch(_){return n(_)}}for(let p of f)coe(p[0].foreignField,p[0].options,u);for(let p of f){let m=p[0];if(m.options&&m.options.options&&m.options.options._leanTransform)for(let g of u)m.options.options._leanTransform(g)}n()}}function boe(t,e,r,n,s){let i=Ys(t.options.populate),o=Object.assign({skip:t.options.skip,limit:t.options.limit,perDocumentLimit:t.options.perDocumentLimit},t.options.options);t.count&&delete o.skip,o.perDocumentLimit!=null?(o.limit=o.perDocumentLimit,delete o.perDocumentLimit):o.limit!=null&&(o.limit=o.limit*t.ids.length);let u=t.model.find(e,r,o);for(let a of t.foreignField)a!=="_id"&&u.selectedInclusively()&&!soe(u._fields,a)&&u.select(a);if(t.count)for(let a of t.foreignField)u.select(a);if(i){t.model.baseModelName!=null&&(Array.isArray(i)?i.forEach(c=>{c.strictPopulate=!1}):typeof i=="string"?i={path:i,strictPopulate:!1}:i.strictPopulate=!1);let a=t.options._fullPath||t.options.path;if(Array.isArray(i))for(let c of i)c._fullPath=a+"."+c.path;else typeof i=="object"&&(i._fullPath=a+"."+i.path);u.populate(i)}u.exec().then(a=>{for(let c of a)ioe.set(c,t.model);s(null,a)},a=>{s(a)})}function OR(t,e,r,n){let s=r.options,i=r.isVirtual,o=r.justOne,u,a=s&&s.options&&s.options.lean||!1,c=e.length,l={},f={},h,d,p=Ys(r.allIds);for(let m=0;m<c;m++)if(d=e[m],d!=null)for(let g of r.foreignField){if(u=ve.getValue(g,d),Array.isArray(u)){u=ve.array.unique(ve.array.flatten(u));for(let _ of u)_ instanceof Pu&&(_=_._id),h=String(_),f[h]?Array.isArray(f[h])?(f[h].push(d),l[h].push(m)):(f[h]=[f[h],d],l[h]=[l[h],m]):i&&!o?(f[h]=[d],l[h]=[m]):(f[h]=d,l[h]=m)}else u instanceof Pu&&(u=u._id),h=String(u),f[h]?Array.isArray(f[h])?(f[h].push(d),l[h].push(m)):(i||f[h].constructor!==d.constructor||String(f[h]._id)!==String(d._id))&&(f[h]=[f[h],d],l[h]=[l[h],m]):(f[h]=d,l[h]=m);a||(d.$__.wasPopulated=d.$__.wasPopulated||!0)}Gie({originalModel:t,rawIds:r.isVirtual?p:r.allIds,allIds:p,unpopulatedValues:r.unpopulatedValues,foreignField:r.foreignField,rawDocs:f,rawOrder:l,docs:r.docs,path:s.path,options:n,justOne:r.justOne,isVirtual:r.isVirtual,allOptions:r,populatedModel:r.model,lean:a,virtual:r.virtual,count:r.count,match:r.match})}G.compile=function(e,r,n,s,i){if(r.options.versionKey!==!1&&!r.paths[r.options.versionKey]){let f={};f[r.options.versionKey]=Number,r.add(f)}let u;typeof e=="function"&&e.prototype instanceof G?(u=e,e=u.name,r.loadClass(u,!1),u.prototype.$isMongooseModelPrototype=!0):u=function f(h,d,p){if(f.hooks.execPreSync("createModel",h),!(this instanceof f))return new f(h,d,p);let m=f.schema.options.discriminatorKey;if(f.discriminators==null||h==null||h[m]==null){G.call(this,h,d,p);return}let g=f.discriminators[h[m]]||HA(f.discriminators,h[m]);if(g!=null)return new g(h,d,p);G.call(this,h,d,p)},u.hooks=r.s.hooks.clone(),u.base=i,u.modelName=e,u.prototype instanceof G||(Object.setPrototypeOf(u,G),Object.setPrototypeOf(u.prototype,G.prototype)),u.model=function(h){return this.db.model(h)},u.db=s,u.prototype.db=s,u.prototype[QA]=s,u.discriminators=u.prototype.discriminators=void 0,u[FR]=!0,u.events=new WA,r._preCompile();let c={schemaUserProvidedOptions:r._userProvidedOptions||{},capped:r.options.capped,Promise:u.base.Promise,modelName:e};r.options.autoCreate!==void 0&&(c.autoCreate=r.options.autoCreate);let l=s.collection(n,c);return u.prototype.collection=l,u.prototype.$collection=l,u.prototype[kl]=l,u.prototype.$__setSchema(r),SR(u,r),bR(u,r),Wie(u,r),Hie(u,r.s.hooks,r.statics),u.schema=u.prototype.$__schema,u.collection=l,u.$__collection=l,u.Query=function(){Fm.apply(this,arguments)},Object.setPrototypeOf(u.Query.prototype,Fm.prototype),u.Query.base=Fm.base,u.Query.prototype.constructor=Fm,Vie(u.Query,u),Doe(u,r.query),u};function Doe(t,e){for(let r in e)t.Query.prototype[r]=e[r]}G.__subclass=function(e,r,n){let s=this,i=function l(f,h,d){if(!(this instanceof l))return new l(f,h,d);s.call(this,f,h,d)};if(Object.setPrototypeOf(i,s),Object.setPrototypeOf(i.prototype,s.prototype),i.db=e,i.prototype.db=e,i.prototype[QA]=e,s[xl]=s[xl]||[],s[xl].push(i),s.discriminators!=null){i.discriminators={};for(let l of Object.keys(s.discriminators))i.discriminators[l]=s.discriminators[l].__subclass(s.db,s.discriminators[l].schema,n)}let o=r&&typeof r!="string"?r:s.prototype.$__schema,u=o.options||{},a=o._userProvidedOptions||{};n||(n=s.prototype.$__schema.get("collection")||ve.toCollectionName(s.modelName,this.base.pluralize()));let c={schemaUserProvidedOptions:a,capped:o&&u.capped};return i.prototype.collection=e.collection(n,c),i.prototype.$collection=i.prototype.collection,i.prototype[kl]=i.prototype.collection,i.collection=i.prototype.collection,i.$__collection=i.collection,i.init().catch(()=>{}),i};G.inspect=function(){return`Model { ${this.modelName} }`};_R.inspect.custom&&(G[_R.inspect.custom]=G.inspect);$R.exports=IR=G});var RR=y((ql,NR)=>{"use strict";NR.exports=Poe;ql.pluralization=[[/human$/gi,"humans"],[/(m)an$/gi,"$1en"],[/(pe)rson$/gi,"$1ople"],[/(child)$/gi,"$1ren"],[/^(ox)$/gi,"$1en"],[/(ax|test)is$/gi,"$1es"],[/(octop|vir)us$/gi,"$1i"],[/(alias|status)$/gi,"$1es"],[/(bu)s$/gi,"$1ses"],[/(buffal|tomat|potat)o$/gi,"$1oes"],[/([ti])um$/gi,"$1a"],[/sis$/gi,"ses"],[/(?:([^f])fe|([lr])f)$/gi,"$1$2ves"],[/(hive)$/gi,"$1s"],[/([^aeiouy]|qu)y$/gi,"$1ies"],[/(x|ch|ss|sh)$/gi,"$1es"],[/(matr|vert|ind)ix|ex$/gi,"$1ices"],[/([m|l])ouse$/gi,"$1ice"],[/(kn|w|l)ife$/gi,"$1ives"],[/(quiz)$/gi,"$1zes"],[/^goose$/i,"geese"],[/s$/gi,"s"],[/([^a-z])$/,"$1"],[/$/gi,"s"]];var Boe=ql.pluralization;ql.uncountables=["advice","energy","excretion","digestion","cooperation","health","justice","labour","machinery","equipment","information","pollution","sewage","paper","money","species","series","rain","rice","fish","sheep","moose","deer","news","expertise","status","media"];var Toe=ql.uncountables;function Poe(t){let e;return t=t.toLowerCase(),!~Toe.indexOf(t)&&(e=Boe.filter(function(r){return t.match(r[0])}),e[0])?t.replace(e[0][0],e[0][1]):t}});var LR=y((Ode,qR)=>{"use strict";var kR=st(),xR=require("util"),vR=ME(),To=class t extends kR{constructor(){super(""),this.errors={}}toString(){return vR(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(e,r){if(r instanceof t){let{errors:n}=r;for(let s of Object.keys(n))this.addError(s,n[s]);return}this.errors[e]=r,this.message=vR(this)}};xR.inspect.custom&&(To.prototype[xR.inspect.custom]=To.prototype.inspect);Object.defineProperty(To.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(To.prototype,"name",{value:"SetOptionError"});var ZA=class extends kR{constructor(e){super(`"${e}" is not a valid option to set`)}};To.SetOptionInnerError=ZA;qR.exports=To});var UR=y(()=>{"use strict";var jR=ie();typeof jest<"u"&&!process.env.SUPPRESS_JEST_WARNINGS&&(typeof window<"u"&&jR.warn("Mongoose: looks like you're trying to test a Mongoose app with Jest's default jsdom test environment. Please make sure you read Mongoose's docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning."),setTimeout.clock!=null&&typeof setTimeout.clock.Date=="function"&&jR.warn("Mongoose: looks like you're trying to test a Mongoose app with Jest's mock timers enabled. Please make sure you read Mongoose's docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning."))});var KR=y((HR,GR)=>{"use strict";var VR=Qr(),WR=require("events").EventEmitter,zR=Ke(),Moe=hc(),Foe=Si(),Ioe=zR.ValidationError,$oe=_0(),Noe=mo();function Hn(t,e,r,n,s){if(!(this instanceof Hn))return new Hn(t,e,r,n,s);if(Noe(e)&&!e.instanceOfSchema&&(e=new Moe(e)),e=this.schema||e,!this.schema&&e.options._id&&(t=t||{},t._id===void 0&&(t._id=new Foe)),!e)throw new zR.MissingSchemaError;this.$__setSchema(e),VR.call(this,t,r,n,s),$oe(this,e,{decorateDoc:!0});for(let i in e.methods)this[i]=e.methods[i];for(let i in e.statics)this[i]=e.statics[i]}Hn.prototype=Object.create(VR.prototype);Hn.prototype.constructor=Hn;Hn.events=new WR;Hn.$emitter=new WR;["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(t){Hn[t]=function(){return Hn.$emitter[t].apply(Hn.$emitter,arguments)}});Hn.ValidationError=Ioe;GR.exports=HR=Hn});var QR=y((wde,e9)=>{"use strict";var Roe=Qr(),xoe=KR(),YR=!1;e9.exports=function(){return YR?xoe:Roe};e9.exports.setBrowser=function(t){YR=t}});var sx=y((rx,nx)=>{"use strict";Ul().set(EF());var voe=Qr(),koe=require("events").EventEmitter,XR=rl(),Ri=hc(),qoe=Ht(),Ll=dl(),Loe=B4(),t9=Fu(),JR=AF(),joe=pc(),Uoe=gm(),ZR=PA(),Voe=$_(),Woe=o_(),ex=Ul(),zoe=RR(),r9=ie(),Hoe=R_(),Goe=gc(),Koe=BA(),Yoe=Ja().trusted,Qoe=yA(),Joe=Kr(),xm=st(),Rm=LR(),tx=Symbol.for("mongoose:default");UR();var Xoe=/^[0-9A-Fa-f]{24}$/;function J(t){this.connections=[],this.nextConnectionId=0,this.models={},this.events=new koe,this.__driver=ex.get(),this.options=Object.assign({pluralization:!0,autoIndex:!0,autoCreate:!0},t);let e=r9.getOption("createInitialConnection",this.options);if(e==null||e){let r=this.createConnection();r.models=this.models}if(this.options.pluralization&&(this._pluralize=zoe),!t||!t[tx]){let r=this;this.Schema=function(){return this.base=r,Ri.apply(this,arguments)},this.Schema.prototype=Object.create(Ri.prototype),Object.assign(this.Schema,Ri),this.Schema.base=this,this.Schema.Types=Object.assign({},Ri.Types)}else for(let r of["Schema","model"])this[r]=J.prototype[r];this.Schema.prototype.base=this,Object.defineProperty(this,"plugins",{configurable:!1,enumerable:!0,writable:!1,value:Object.values(Woe).map(r=>[r,{deduplicate:!0}])})}J.prototype.cast=Goe;J.prototype.STATES=t9;J.prototype.ConnectionStates=t9;J.prototype.driver=ex;J.prototype.setDriver=function(e){let r=this instanceof J?this:hr;if(r.__driver===e)return r;if(r.connections&&r.connections.find(i=>i.readyState!==t9.disconnected)){let i="Cannot modify Mongoose driver if a connection is already open. Call `mongoose.disconnect()` before modifying the driver";throw new xm(i)}r.__driver=e;let s=e.Connection;return r.connections=[new s(r)],r.connections[0].models=r.models,r};J.prototype.set=function(t,e){let r=this instanceof J?this:hr;if(arguments.length===1&&typeof t!="object"){if(JR.indexOf(t)===-1){let i=new Rm;throw i.addError(t,new Rm.SetOptionInnerError(t)),i}return r.options[t]}let n={};arguments.length===2&&(n={[t]:e}),arguments.length===1&&typeof t=="object"&&(n=t);let s;for(let[i,o]of Object.entries(n)){if(JR.indexOf(i)===-1){s||(s=new Rm),s.addError(i,new Rm.SetOptionInnerError(i));continue}r.options[i]=o,i==="objectIdGetter"&&(o?Object.defineProperty(hr.Types.ObjectId.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}):delete hr.Types.ObjectId.prototype._id)}if(s)throw s;return r};J.prototype.get=J.prototype.set;J.prototype.createConnection=function(t,e){let r=this instanceof J?this:hr,n=r.__driver.Connection,s=new n(r);return r.connections.push(s),r.nextConnectionId++,r.events.emit("createConnection",s),arguments.length>0&&s.openUri(t,{...e,_fireAndForget:!0}),s};J.prototype.connect=async function(e,r){if(typeof r=="function"||arguments.length>=3&&typeof arguments[2]=="function")throw new xm("Mongoose.prototype.connect() no longer accepts a callback");let n=this instanceof J?this:hr;return n.connection.openUri(e,r).then(()=>n)};J.prototype.disconnect=async function(){if(arguments.length>=1&&typeof arguments[0]=="function")throw new xm("Mongoose.prototype.disconnect() no longer accepts a callback");let e=this instanceof J?this:hr;e.connections.length<=0||await Promise.all(e.connections.map(n=>n.close()))};J.prototype.startSession=function(){let t=this instanceof J?this:hr;return t.connection.startSession.apply(t.connection,arguments)};J.prototype.pluralize=function(t){let e=this instanceof J?this:hr;return arguments.length>0&&(e._pluralize=t),e._pluralize};J.prototype.model=function(t,e,r,n){let s=this instanceof J?this:hr;if(typeof e=="string"&&(r=e,e=!1),arguments.length===1){let a=s.models[t];if(!a)throw new xm.MissingSchemaError(t);return a}if(r9.isObject(e)&&!(e instanceof Ri)&&(e=new Ri(e)),e&&!(e instanceof Ri))throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");n=n||{};let i=e;e&&(s.get("cloneSchemas")&&(e=e.clone()),s._applyPlugins(e));let o=s.options.hasOwnProperty("overwriteModels")?s.options.overwriteModels:n.overwriteModels;if(s.models.hasOwnProperty(t)&&n.cache!==!1&&o!==!0){if(i&&i.instanceOfSchema&&i!==s.models[t].schema)throw new s.Error.OverwriteModelError(t);if(r&&r!==s.models[t].collection.name){let a=s.models[t];return e=a.prototype.schema,a.__subclass(s.connection,e,r)}return s.models[t]}if(e==null)throw new s.Error.MissingSchemaError(t);let u=s._model(t,e,r,n);return s.connection.models[t]=u,s.models[t]=u,u};J.prototype._model=function(t,e,r,n){let s=this instanceof J?this:hr,i;if(typeof t=="function"&&(i=t,t=i.name,!(i.prototype instanceof ZR)))throw new s.Error("The provided class "+t+" must extend Model");e&&(s.get("cloneSchemas")&&(e=e.clone()),s._applyPlugins(e)),(e==null||!("pluralization"in e.options))&&(e.options.pluralization=s.options.pluralization),r||(r=e.get("collection")||r9.toCollectionName(t,s.pluralize()));let o=n.connection||s.connection;if(i=s.Model.compile(i||t,e,r,o,s),i.init().catch(function(){}),o.emit("model",i),e._applyDiscriminators!=null)for(let u of e._applyDiscriminators.keys())i.discriminator(u,e._applyDiscriminators.get(u));return i};J.prototype.deleteModel=function(t){let e=this instanceof J?this:hr;return e.connection.deleteModel(t),delete e.models[t],e};J.prototype.modelNames=function(){let t=this instanceof J?this:hr;return Object.keys(t.models)};J.prototype._applyPlugins=function(t,e){let r=this instanceof J?this:hr;e=e||{},e.applyPluginsToDiscriminators=r.options&&r.options.applyPluginsToDiscriminators||!1,e.applyPluginsToChildSchemas=typeof(r.options&&r.options.applyPluginsToChildSchemas)=="boolean"?r.options.applyPluginsToChildSchemas:!0,Voe(t,r.plugins,e,"$globalPluginsApplied")};J.prototype.plugin=function(t,e){let r=this instanceof J?this:hr;return r.plugins.push([t,e]),r};J.prototype.__defineGetter__("connection",function(){return this.connections[0]});J.prototype.__defineSetter__("connection",function(t){t instanceof this.__driver.Connection&&(this.connections[0]=t,this.models=t.models)});J.prototype.connections;J.prototype.nextConnectionId;J.prototype.Aggregate=Koe;Object.defineProperty(J.prototype,"Collection",{get:function(){return this.__driver.Collection},set:function(t){this.__driver.Collection=t}});Object.defineProperty(J.prototype,"Connection",{get:function(){return this.__driver.Connection},set:function(t){t!==this.__driver.Connection&&(this.__driver.Connection=t)}});J.prototype.version=Hoe.version;J.prototype.Mongoose=J;J.prototype.Schema=Ri;J.prototype.SchemaType=qoe;J.prototype.SchemaTypes=Ri.Types;J.prototype.VirtualType=Loe;J.prototype.Types=joe;J.prototype.Query=Uoe;J.prototype.Model=ZR;J.prototype.Document=voe;J.prototype.DocumentProvider=QR();J.prototype.ObjectId=Ll.ObjectId;J.prototype.isValidObjectId=function(t){return(this instanceof J?this:hr).Types.ObjectId.isValid(t)};J.prototype.isObjectIdOrHexString=function(t){return Joe(t,"ObjectId")||typeof t=="string"&&Xoe.test(t)};J.prototype.syncIndexes=function(t){return(this instanceof J?this:hr).connection.syncIndexes(t)};J.prototype.Decimal128=Ll.Decimal128;J.prototype.Mixed=Ll.Mixed;J.prototype.Date=Ll.Date;J.prototype.Number=Ll.Number;J.prototype.Error=Ke();J.prototype.MongooseError=st();J.prototype.now=function(){return new Date};J.prototype.CastError=$r();J.prototype.SchemaTypeOptions=En();J.prototype.mongo=T1();J.prototype.mquery=pA();J.prototype.sanitizeFilter=Qoe;J.prototype.trusted=Yoe;J.prototype.skipMiddlewareFunction=XR.skipWrappedFunction;J.prototype.overwriteMiddlewareResult=XR.overwriteResult;var hr=nx.exports=rx=new J({[tx]:!0})});var n9=y((bde,ue)=>{"use strict";var ae=sx();ue.exports=ae;ue.exports.default=ae;ue.exports.mongoose=ae;ue.exports.cast=ae.cast;ue.exports.STATES=ae.STATES;ue.exports.setDriver=ae.setDriver;ue.exports.set=ae.set;ue.exports.get=ae.get;ue.exports.createConnection=ae.createConnection;ue.exports.connect=ae.connect;ue.exports.disconnect=ae.disconnect;ue.exports.startSession=ae.startSession;ue.exports.pluralize=ae.pluralize;ue.exports.model=ae.model;ue.exports.deleteModel=ae.deleteModel;ue.exports.modelNames=ae.modelNames;ue.exports.plugin=ae.plugin;ue.exports.connections=ae.connections;ue.exports.version=ae.version;ue.exports.Mongoose=ae.Mongoose;ue.exports.Schema=ae.Schema;ue.exports.SchemaType=ae.SchemaType;ue.exports.SchemaTypes=ae.SchemaTypes;ue.exports.VirtualType=ae.VirtualType;ue.exports.Types=ae.Types;ue.exports.Query=ae.Query;ue.exports.Model=ae.Model;ue.exports.Document=ae.Document;ue.exports.ObjectId=ae.ObjectId;ue.exports.isValidObjectId=ae.isValidObjectId;ue.exports.isObjectIdOrHexString=ae.isObjectIdOrHexString;ue.exports.syncIndexes=ae.syncIndexes;ue.exports.Decimal128=ae.Decimal128;ue.exports.Mixed=ae.Mixed;ue.exports.Date=ae.Date;ue.exports.Number=ae.Number;ue.exports.Error=ae.Error;ue.exports.MongooseError=ae.MongooseError;ue.exports.now=ae.now;ue.exports.CastError=ae.CastError;ue.exports.SchemaTypeOptions=ae.SchemaTypeOptions;ue.exports.mongo=ae.mongo;ue.exports.mquery=ae.mquery;ue.exports.sanitizeFilter=ae.sanitizeFilter;ue.exports.trusted=ae.trusted;ue.exports.skipMiddlewareFunction=ae.skipMiddlewareFunction;ue.exports.overwriteMiddlewareResult=ae.overwriteMiddlewareResult});var oue={};Cx(oue,{createCardHandler:()=>ax,getCardHandler:()=>ux});module.exports=Sx(oue);var aue=process.env.CLIENT_PK,Mu=class{constructor(e){this.cardRepository=e}async getCard(e){return e?await this.cardRepository.getAll():{statusCode:400,body:JSON.stringify({message:"Missing authorization header"})}}async createCard(e,r){if(!e)return{statusCode:400,body:JSON.stringify({message:"Missing authorization header"})};r.token=e;let n=await this.cardRepository.createCard(r);return console.log("card",n),"Card created"}};var ox=P9(n9());var Zoe="localhost",eue="test",ix=process.env.MONGO_URL||`mongodb://${Zoe}:27017/${eue}`,vm=async()=>{try{await ox.default.connect(ix),console.info("Conexi\xF3n a MongoDB exitosa: ",ix)}catch(t){throw console.error("Error de conexi\xF3n a MongoDB:",JSON.stringify(t)),t}};var Uc=class{constructor(e){this._model=e}static{this.instance=null}getAll(){return console.info("getAll Repository"),this._model.find({})}createCard(e){return console.info("createCard Repository"),this._model.create(e)}};var km=P9(n9()),tue=new km.Schema({name:{type:String,required:!0},number:{type:String,required:!0},cvc:{type:String,required:!0},expirationDate:{type:String,required:!0},token:{type:String,required:!1}}),qm=(0,km.model)("Card",tue);var rue=new Uc(qm),nue=new Mu(rue),ux=async t=>{try{await vm();let{authorization:e}=t.headers;console.log("hhhh",t);let r=await nue.getCard(e);return{statusCode:200,body:JSON.stringify({message:r})}}catch(e){console.log(e)}};var sue=new Uc(qm),iue=new Mu(sue),ax=async t=>{try{await vm();let{authorization:e}=t.headers,r=t?.body&&JSON.parse(t.body);console.log("???authorization?",e),console.log("???cardData?",r);let n=await iue.createCard(e,r);return{statusCode:200,body:JSON.stringify({response:n})}}catch(e){console.log(">>>>>E",e);let r=e.message||"Something went wrong";return{statusCode:400,body:JSON.stringify({error:r})}}};0&&(module.exports={createCardHandler,getCardHandler});
/*! Bundled license information:

mongoose/lib/driver.js:
  (*!
   * ignore
   *)

mongoose/lib/connectionstate.js:
  (*!
   * Connection states
   *)

mongoose/lib/helpers/immediate.js:
  (*!
   * Centralize this so we can more easily work around issues with people
   * stubbing out `process.nextTick()` in tests using sinon:
   * https://github.com/sinonjs/lolex#automatically-incrementing-mocked-time
   * See gh-6074
   *)

mongoose/lib/collection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/mongooseError.js:
  (*!
   * ignore
   *)

mongoose/lib/types/objectid.js:
  (*!
   * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299
   *)

mongoose/lib/options.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/clone.js:
  (*!
   * ignore
   *)

mongoose/lib/drivers/node-mongodb-native/collection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from abstract Collection.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/cursor/ChangeStream.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/error/notFound.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/cast.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/error/combinePathErrors.js:
  (*!
   * ignore
   *)

mongoose/lib/error/validation.js:
  (*!
   * Module requirements
   *)
  (*!
   * Module exports
   *)

mongoose/lib/error/validator.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/version.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/parallelSave.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/overwriteModel.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/missingSchema.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/serverSelection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/error/divergentArray.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/strict.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/strictPopulate.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/schema/operators/exists.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/type.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/schematype/handleImmutable.js:
  (*!
   * ignore
   *)

mpath/lib/index.js:
  (*!
   * Split a string path into components delimited by '.' or
   * '[\d+]'
   *
   * #### Example:
   *     stringToParts('foo[0].bar.1'); // ['foo', '0', 'bar', '1']
   *)
  (*!
   * Recursively set nested arrays
   *)
  (*!
   * Returns the value passed to it.
   *)

mongoose/lib/statemachine.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/internal.js:
  (*!
   * Dependencies
   *)

mongoose/lib/schema/mixed.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/objectExpected.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/objectParameter.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/parallelValidate.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/document/applyDefaults.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/document/cleanModifiedSubpaths.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/document/compile.js:
  (*!
   * exports
   *)

mongoose/lib/helpers/common.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isDefiningProjection.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isExclusive.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isPathSelectedInclusive.js:
  (*!
   * ignore
   *)

mongoose/lib/queryhelpers.js:
  (*!
   * Module dependencies
   *)
  (*!
   * ignore
   *)

mongoose/lib/types/subdocument.js:
  (*!
   * ignore
   *)

mongoose/lib/types/ArraySubdocument.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from Subdocument
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/array/methods/index.js:
  (*!
   * ignore
   *)
  (*!
   * Minimize _just_ empty objects along the path chain specified
   * by `parts`, ignoring all other paths. Useful in cases where
   * you want to minimize after unsetting a path.
   *
   * #### Example:
   *
   *     const obj = { foo: { bar: { baz: {} } }, a: {} };
   *     _minimizePath(obj, 'foo.bar.baz');
   *     obj; // { a: {} }
   *)

mongoose/lib/types/array/index.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/DocumentArray/index.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/document.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Document exposes the NodeJS event emitter API, so you can use
   * `on`, `once`, etc.
   *)
  (*!
   * Converts to POJO when you use the document for querying
   *)
  (*!
   * Runs queued functions
   *)
  (*!
   * Applies virtuals properties to `json`.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/utils.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schematype.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/virtualtype.js:
  (*!
   * ignore
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/schema/idGetter.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/schema/handleTimestampOption.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/update/applyTimestampsToChildren.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/update/applyTimestampsToUpdate.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/applyQueryMiddleware.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/model/applyHooks.js:
  (*!
   * ignore
   *)

mongoose/lib/types/buffer.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from Buffer.
   *)
  (*!
   * Compile other Buffer methods marking this buffer as modified.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/map.js:
  (*!
   * ignore
   *)

mongoose/lib/types/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaArrayOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/cast.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/options/SchemaNumberOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/bitwise.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/number.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/operators/helpers.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/geospatial.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/array.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/boolean.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/bigint.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaBufferOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/buffer.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaDateOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/date.js:
  (*!
   * Module requirements.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/decimal128.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/plugins/removeSubdocs.js:
  (*!
   * ignore
   *)

mongoose/lib/plugins/saveSubdocs.js:
  (*!
   * ignore
   *)

mongoose/lib/plugins/sharding.js:
  (*!
   * ignore
   *)

mongoose/lib/plugins/validateBeforeSave.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/model/discriminator.js:
  (*!
   * ignore
   *)

mongoose/lib/error/invalidSchemaOption.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/schema/SubdocumentPath.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/DocumentArrayElement.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaDocumentArrayOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/documentarray.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from ArrayType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/map.js:
  (*!
   * ignore
   *)

mongoose/lib/options/SchemaObjectIdOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/objectid.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaStringOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/string.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/uuid.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/schema.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from EventEmitter.
   *)
  (*!
   * ignore
   *)
  (*!
   * Recursively set options on implicitly created schemas
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/syncIndexes.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/connection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from EventEmitter
   *)
  (*!
   * Reset document state in between transaction retries re: gh-13698
   *)
  (*!
   * If transaction was aborted, we need to reset newly inserted documents' `isNew`.
   *)
  (*!
   * ignore
   *)
  (*!
   * Called internally by `openUri()` to create a MongoClient instance.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/drivers/node-mongodb-native/connection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from Connection.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/drivers/node-mongodb-native/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/validoptions.js:
  (*!
   * Valid mongoose options
   *)

mongoose/lib/error/eachAsyncMultiError.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/cursor/eachAsync.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/cursor/QueryCursor.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/castUpdate.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/hasDollarKeys.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isInclusive.js:
  (*!
   * ignore
   *)

mquery/lib/utils.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mquery/lib/mquery.js:
  (*!
   * gt, gte, lt, lte, ne, in, nin, all, regex, size, maxDistance
   *
   *     Thing.where('type').nin(array)
   *)
  (*!
   * @ignore
   *)
  (*!
   * limit, skip, batchSize, comment
   *
   * Sets these associated options.
   *
   *     query.comment('feed query');
   *)
  (*!
   * Internal helper for updateMany, updateOne
   *)
  (*!
   * Permissions
   *)
  (*!
   * Exports.
   *)

mongoose/lib/helpers/query/selectPopulatedFields.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/updateValidators.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/query.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * inherit mquery
   *)
  (*!
   * Overwrite mquery's `_distinct`, because Mongoose uses that name
   * to store the field to apply distinct on.
   *)
  (*!
   * ignore
   *)
  (*!
   * If `translateAliases` option is set, call `Model.translateAliases()`
   * on the following query properties: filter, projection, update, distinct.
   *)
  (*!
   * Export
   *)

mongoose/lib/cursor/AggregationCursor.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/aggregate.js:
  (*!
   * Module dependencies
   *)
  (*!
   * define methods
   *)
  (*!
   * Helpers
   *)
  (*!
   * Exports
   *)

mongoose/lib/helpers/populate/leanPopulateMap.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/getVirtual.js:
  (*!
   * ignore
   *)

sift/lib/index.js:
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)

mongoose/lib/helpers/populate/getSchemaTypes.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/getModelsMapForPopulate.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/parallelLimit.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/removeDeselectedForeignField.js:
  (*!
   * ignore
   *)

mongoose/lib/error/bulkWriteError.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/model.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Give the constructor the ability to emit events.
   *)
  (*!
   * Populates `docs`
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/setOptionError.js:
  (*!
   * Module requirements
   *)
  (*!
   * Module exports
   *)

mongoose/lib/browserDocument.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from the NodeJS document
   *)
  (*!
   * ignore
   *)
  (*!
   * Browser doc exposes the event emitter API
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/document_provider.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/index.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
*/
